(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Ww(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pp={exports:{}},hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function WR(){if(Hb)return hu;Hb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return hu.Fragment=e,hu.jsx=n,hu.jsxs=n,hu}var Gb;function YR(){return Gb||(Gb=1,pp.exports=WR()),pp.exports}var E=YR(),gp={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function QR(){if(Kb)return Ce;Kb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function R(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,k={};function B(L,Z,ce){this.props=L,this.context=Z,this.refs=k,this.updater=ce||M}B.prototype.isReactComponent={},B.prototype.setState=function(L,Z){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Z,"setState")},B.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function F(){}F.prototype=B.prototype;function Y(L,Z,ce){this.props=L,this.context=Z,this.refs=k,this.updater=ce||M}var le=Y.prototype=new F;le.constructor=Y,U(le,B.prototype),le.isPureReactComponent=!0;var oe=Array.isArray;function ae(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(L,Z,ce){var de=ce.ref;return{$$typeof:t,type:L,key:Z,ref:de!==void 0?de:null,props:ce}}function V(L,Z){return I(L.type,Z,L.props)}function P(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function z(L){var Z={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ce){return Z[ce]})}var D=/\/+/g;function Fe(L,Z){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):Z.toString(36)}function ut(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ae,ae):(L.status="pending",L.then(function(Z){L.status==="pending"&&(L.status="fulfilled",L.value=Z)},function(Z){L.status==="pending"&&(L.status="rejected",L.reason=Z)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function X(L,Z,ce,de,se){var he=typeof L;(he==="undefined"||he==="boolean")&&(L=null);var Ae=!1;if(L===null)Ae=!0;else switch(he){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(L.$$typeof){case t:case e:Ae=!0;break;case y:return Ae=L._init,X(Ae(L._payload),Z,ce,de,se)}}if(Ae)return se=se(L),Ae=de===""?"."+Fe(L,0):de,oe(se)?(ce="",Ae!=null&&(ce=Ae.replace(D,"$&/")+"/"),X(se,Z,ce,"",function(Ei){return Ei})):se!=null&&(P(se)&&(se=V(se,ce+(se.key==null||L&&L.key===se.key?"":(""+se.key).replace(D,"$&/")+"/")+Ae)),Z.push(se)),1;Ae=0;var rt=de===""?".":de+":";if(oe(L))for(var it=0;it<L.length;it++)de=L[it],he=rt+Fe(de,it),Ae+=X(de,Z,ce,he,se);else if(it=R(L),typeof it=="function")for(L=it.call(L),it=0;!(de=L.next()).done;)de=de.value,he=rt+Fe(de,it++),Ae+=X(de,Z,ce,he,se);else if(he==="object"){if(typeof L.then=="function")return X(ut(L),Z,ce,de,se);throw Z=String(L),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function re(L,Z,ce){if(L==null)return L;var de=[],se=0;return X(L,de,"","",function(he){return Z.call(ce,he,se++)}),de}function fe(L){if(L._status===-1){var Z=L._result;Z=Z(),Z.then(function(ce){(L._status===0||L._status===-1)&&(L._status=1,L._result=ce)},function(ce){(L._status===0||L._status===-1)&&(L._status=2,L._result=ce)}),L._status===-1&&(L._status=0,L._result=Z)}if(L._status===1)return L._result.default;throw L._result}var Ie=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},_e={map:re,forEach:function(L,Z,ce){re(L,function(){Z.apply(this,arguments)},ce)},count:function(L){var Z=0;return re(L,function(){Z++}),Z},toArray:function(L){return re(L,function(Z){return Z})||[]},only:function(L){if(!P(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ce.Activity=_,Ce.Children=_e,Ce.Component=B,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=Y,Ce.StrictMode=s,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(L){return C.H.useMemoCache(L)}},Ce.cache=function(L){return function(){return L.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(L,Z,ce){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var de=U({},L.props),se=L.key;if(Z!=null)for(he in Z.key!==void 0&&(se=""+Z.key),Z)!A.call(Z,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&Z.ref===void 0||(de[he]=Z[he]);var he=arguments.length-2;if(he===1)de.children=ce;else if(1<he){for(var Ae=Array(he),rt=0;rt<he;rt++)Ae[rt]=arguments[rt+2];de.children=Ae}return I(L.type,se,de)},Ce.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ce.createElement=function(L,Z,ce){var de,se={},he=null;if(Z!=null)for(de in Z.key!==void 0&&(he=""+Z.key),Z)A.call(Z,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(se[de]=Z[de]);var Ae=arguments.length-2;if(Ae===1)se.children=ce;else if(1<Ae){for(var rt=Array(Ae),it=0;it<Ae;it++)rt[it]=arguments[it+2];se.children=rt}if(L&&L.defaultProps)for(de in Ae=L.defaultProps,Ae)se[de]===void 0&&(se[de]=Ae[de]);return I(L,he,se)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(L){return{$$typeof:d,render:L}},Ce.isValidElement=P,Ce.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:fe}},Ce.memo=function(L,Z){return{$$typeof:g,type:L,compare:Z===void 0?null:Z}},Ce.startTransition=function(L){var Z=C.T,ce={};C.T=ce;try{var de=L(),se=C.S;se!==null&&se(ce,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ae,Ie)}catch(he){Ie(he)}finally{Z!==null&&ce.types!==null&&(Z.types=ce.types),C.T=Z}},Ce.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ce.use=function(L){return C.H.use(L)},Ce.useActionState=function(L,Z,ce){return C.H.useActionState(L,Z,ce)},Ce.useCallback=function(L,Z){return C.H.useCallback(L,Z)},Ce.useContext=function(L){return C.H.useContext(L)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(L,Z){return C.H.useDeferredValue(L,Z)},Ce.useEffect=function(L,Z){return C.H.useEffect(L,Z)},Ce.useEffectEvent=function(L){return C.H.useEffectEvent(L)},Ce.useId=function(){return C.H.useId()},Ce.useImperativeHandle=function(L,Z,ce){return C.H.useImperativeHandle(L,Z,ce)},Ce.useInsertionEffect=function(L,Z){return C.H.useInsertionEffect(L,Z)},Ce.useLayoutEffect=function(L,Z){return C.H.useLayoutEffect(L,Z)},Ce.useMemo=function(L,Z){return C.H.useMemo(L,Z)},Ce.useOptimistic=function(L,Z){return C.H.useOptimistic(L,Z)},Ce.useReducer=function(L,Z,ce){return C.H.useReducer(L,Z,ce)},Ce.useRef=function(L){return C.H.useRef(L)},Ce.useState=function(L){return C.H.useState(L)},Ce.useSyncExternalStore=function(L,Z,ce){return C.H.useSyncExternalStore(L,Z,ce)},Ce.useTransition=function(){return C.H.useTransition()},Ce.version="19.2.0",Ce}var Wb;function Hg(){return Wb||(Wb=1,gp.exports=QR()),gp.exports}var N=Hg();const Yw=Ww(N);var yp={exports:{}},fu={},vp={exports:{}},_p={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function $R(){return Yb||(Yb=1,(function(t){function e(X,re){var fe=X.length;X.push(re);e:for(;0<fe;){var Ie=fe-1>>>1,_e=X[Ie];if(0<a(_e,re))X[Ie]=re,X[fe]=_e,fe=Ie;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var re=X[0],fe=X.pop();if(fe!==re){X[0]=fe;e:for(var Ie=0,_e=X.length,L=_e>>>1;Ie<L;){var Z=2*(Ie+1)-1,ce=X[Z],de=Z+1,se=X[de];if(0>a(ce,fe))de<_e&&0>a(se,ce)?(X[Ie]=se,X[de]=fe,Ie=de):(X[Ie]=ce,X[Z]=fe,Ie=Z);else if(de<_e&&0>a(se,fe))X[Ie]=se,X[de]=fe,Ie=de;else break e}}return re}function a(X,re){var fe=X.sortIndex-re.sortIndex;return fe!==0?fe:X.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,_=null,w=3,R=!1,M=!1,U=!1,k=!1,B=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function le(X){for(var re=n(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=X)s(g),re.sortIndex=re.expirationTime,e(m,re);else break;re=n(g)}}function oe(X){if(U=!1,le(X),!M)if(n(m)!==null)M=!0,ae||(ae=!0,z());else{var re=n(g);re!==null&&ut(oe,re.startTime-X)}}var ae=!1,C=-1,A=5,I=-1;function V(){return k?!0:!(t.unstable_now()-I<A)}function P(){if(k=!1,ae){var X=t.unstable_now();I=X;var re=!0;try{e:{M=!1,U&&(U=!1,F(C),C=-1),R=!0;var fe=w;try{t:{for(le(X),_=n(m);_!==null&&!(_.expirationTime>X&&V());){var Ie=_.callback;if(typeof Ie=="function"){_.callback=null,w=_.priorityLevel;var _e=Ie(_.expirationTime<=X);if(X=t.unstable_now(),typeof _e=="function"){_.callback=_e,le(X),re=!0;break t}_===n(m)&&s(m),le(X)}else s(m);_=n(m)}if(_!==null)re=!0;else{var L=n(g);L!==null&&ut(oe,L.startTime-X),re=!1}}break e}finally{_=null,w=fe,R=!1}re=void 0}}finally{re?z():ae=!1}}}var z;if(typeof Y=="function")z=function(){Y(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Fe=D.port2;D.port1.onmessage=P,z=function(){Fe.postMessage(null)}}else z=function(){B(P,0)};function ut(X,re){C=B(function(){X(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(X){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var fe=w;w=re;try{return X()}finally{w=fe}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var fe=w;w=X;try{return re()}finally{w=fe}},t.unstable_scheduleCallback=function(X,re,fe){var Ie=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ie+fe:Ie):fe=Ie,X){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=fe+_e,X={id:y++,callback:re,priorityLevel:X,startTime:fe,expirationTime:_e,sortIndex:-1},fe>Ie?(X.sortIndex=fe,e(g,X),n(m)===null&&X===n(g)&&(U?(F(C),C=-1):U=!0,ut(oe,fe-Ie))):(X.sortIndex=_e,e(m,X),M||R||(M=!0,ae||(ae=!0,z()))),X},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(X){var re=w;return function(){var fe=w;w=re;try{return X.apply(this,arguments)}finally{w=fe}}}})(_p)),_p}var Qb;function XR(){return Qb||(Qb=1,vp.exports=$R()),vp.exports}var bp={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function JR(){if($b)return sn;$b=1;var t=Hg();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:g,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,y)},sn.flushSync=function(m){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=y,s.d.f()}},sn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},sn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},sn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:R}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},sn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},sn.requestFormReset=function(m){s.d.r(m)},sn.unstable_batchedUpdates=function(m,g){return m(g)},sn.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var Xb;function Qw(){if(Xb)return bp.exports;Xb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bp.exports=JR(),bp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function ZR(){if(Jb)return fu;Jb=1;var t=XR(),e=Hg(),n=Qw();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),i;if(p===u)return m(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=p;else{for(var b=!1,S=f.child;S;){if(S===o){b=!0,o=f,u=p;break}if(S===u){b=!0,u=f,o=p;break}S=S.sibling}if(!b){for(S=p.child;S;){if(S===o){b=!0,o=p,u=f;break}if(S===u){b=!0,u=p,o=f;break}S=S.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Fe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case B:return"Profiler";case k:return"StrictMode";case oe:return"Suspense";case ae:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case Y:return i.displayName||"Context";case F:return(i._context.displayName||"Context")+".Consumer";case le:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:Fe(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return Fe(i(r))}catch{}}return null}var ut=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ie=[],_e=-1;function L(i){return{current:i}}function Z(i){0>_e||(i.current=Ie[_e],Ie[_e]=null,_e--)}function ce(i,r){_e++,Ie[_e]=i.current,i.current=r}var de=L(null),se=L(null),he=L(null),Ae=L(null);function rt(i,r){switch(ce(he,r),ce(se,i),ce(de,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?db(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=db(r),i=mb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(de),ce(de,i)}function it(){Z(de),Z(se),Z(he)}function Ei(i){i.memoizedState!==null&&ce(Ae,i);var r=de.current,o=mb(r,i.type);r!==o&&(ce(se,i),ce(de,o))}function ns(i){se.current===i&&(Z(de),Z(se)),Ae.current===i&&(Z(Ae),ou._currentValue=fe)}var Me,ti;function On(i){if(Me===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Me=r&&r[1]||"",ti=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+i+ti}var ol=!1;function Ur(i,r){if(!i||ol)return"";ol=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch($){var W=$}Reflect.construct(i,[],te)}else{try{te.call()}catch($){W=$}i.call(te.prototype)}}else{try{throw Error()}catch($){W=$}(te=i())&&typeof te.catch=="function"&&te.catch(function(){})}}catch($){if($&&W&&typeof $.stack=="string")return[$.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],S=p[1];if(b&&S){var O=b.split(`
`),K=S.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===K.length)for(u=O.length-1,f=K.length-1;1<=u&&0<=f&&O[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==K[f]){var J=`
`+O[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=f);break}}}finally{ol=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?On(o):""}function ll(i,r){switch(i.tag){case 26:case 27:case 5:return On(i.type);case 16:return On("Lazy");case 13:return i.child!==r&&r!==null?On("Suspense Fallback"):On("Suspense");case 19:return On("SuspenseList");case 0:case 15:return Ur(i.type,!1);case 11:return Ur(i.type.render,!1);case 1:return Ur(i.type,!0);case 31:return On("Activity");default:return""}}function ul(i){try{var r="",o=null;do r+=ll(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var xt=Object.prototype.hasOwnProperty,jt=t.unstable_scheduleCallback,js=t.unstable_cancelCallback,yd=t.unstable_shouldYield,_c=t.unstable_requestPaint,cn=t.unstable_now,zr=t.unstable_getCurrentPriorityLevel,cl=t.unstable_ImmediatePriority,hl=t.unstable_UserBlockingPriority,Us=t.unstable_NormalPriority,vd=t.unstable_LowPriority,bc=t.unstable_IdlePriority,Tc=t.log,Ec=t.unstable_setDisableYieldValue,ni=null,Wt=null;function Vn(i){if(typeof Tc=="function"&&Ec(i),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(ni,i)}catch{}}var bt=Math.clz32?Math.clz32:Sc,wc=Math.log,Va=Math.LN2;function Sc(i){return i>>>=0,i===0?32:31-(wc(i)/Va|0)|0}var wi=256,Br=262144,Ct=4194304;function Si(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ai(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,p=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?f=Si(u):(b&=S,b!==0?f=Si(b):o||(o=S&~i,o!==0&&(f=Si(o))))):(S=u&~p,S!==0?f=Si(S):b!==0?f=Si(b):o||(o=u&~i,o!==0&&(f=Si(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function ii(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function _d(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ac(){var i=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),i}function xi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function qr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function bd(i,r,o,u,f,p){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,O=i.expirationTimes,K=i.hiddenUpdates;for(o=b&~o;0<o;){var J=31-bt(o),te=1<<J;S[J]=0,O[J]=-1;var W=K[J];if(W!==null)for(K[J]=null,J=0;J<W.length;J++){var $=W[J];$!==null&&($.lane&=-536870913)}o&=~te}u!==0&&Fr(i,u,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(b&~r))}function Fr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-bt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function fl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-bt(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function dl(i,r){var o=r&-r;return o=(o&42)!==0?1:Hr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Hr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function is(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function xc(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:Lb(i.type))}function si(i,r){var o=re.p;try{return re.p=i,r()}finally{re.p=o}}var ri=Math.random().toString(36).slice(2),Rt="__reactFiber$"+ri,qt="__reactProps$"+ri,Ci="__reactContainer$"+ri,ka="__reactEvents$"+ri,Td="__reactListeners$"+ri,Cc="__reactHandles$"+ri,Rc="__reactResources$"+ri,Ri="__reactMarker$"+ri;function La(i){delete i[Rt],delete i[qt],delete i[ka],delete i[Td],delete i[Cc]}function Ii(i){var r=i[Rt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ci]||o[Rt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Tb(i);i!==null;){if(o=i[Rt])return o;i=Tb(i)}return r}i=o,o=i.parentNode}return null}function kn(i){if(i=i[Rt]||i[Ci]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Sn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ni(i){var r=i[Rc];return r||(r=i[Rc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function It(i){i[Ri]=!0}var ml=new Set,pl={};function Di(i,r){Pi(i,r),Pi(i+"Capture",r)}function Pi(i,r){for(pl[i]=r,i=0;i<r.length;i++)ml.add(r[i])}var gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},vl={};function Ic(i){return xt.call(vl,i)?!0:xt.call(yl,i)?!1:gl.test(i)?vl[i]=!0:(yl[i]=!0,!1)}function ja(i,r,o){if(Ic(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function An(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Nt(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Ft(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function zs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _l(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,p=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,p.call(this,b)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function $e(i){if(!i._valueTracker){var r=zs(i)?"checked":"value";i._valueTracker=_l(i,r,""+i[r])}}function Gr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=zs(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Mi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Kr=/[\n"\\]/g;function pn(i){return i.replace(Kr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ua(i,r,o,u,f,p,b,S){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Ft(r)):i.value!==""+Ft(r)&&(i.value=""+Ft(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?bl(i,b,Ft(r)):o!=null?bl(i,b,Ft(o)):u!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Ft(S):i.removeAttribute("name")}function Nc(i,r,o,u,f,p,b,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){$e(i);return}o=o!=null?""+Ft(o):"",r=r!=null?""+Ft(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),$e(i)}function bl(i,r,o){r==="number"&&Mi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Bs(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Ft(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Dc(i,r,o){if(r!=null&&(r=""+Ft(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Ft(o):""}function qs(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ut(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Ft(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),$e(i)}function gn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Pc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Pc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function El(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Tl(i,f,u)}else for(var p in r)r.hasOwnProperty(p)&&Tl(i,p,r[p])}function za(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(i){return Fs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ai(){}var wl=null;function Ln(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hs=null,Oi=null;function Wr(i){var r=kn(i);if(r&&(i=r.stateNode)){var o=i[qt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ua(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[qt]||null;if(!f)throw Error(s(90));Ua(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Gr(u)}break e;case"textarea":Dc(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Bs(i,!!o.multiple,r,!1)}}}var qa=!1;function Gs(i,r,o){if(qa)return i(r,o);qa=!0;try{var u=i(r);return u}finally{if(qa=!1,(Hs!==null||Oi!==null)&&(xh(),Hs&&(r=Hs,i=Oi,Oi=Hs=null,Wr(r),i)))for(r=0;r<i.length;r++)Wr(i[r])}}function oi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yr=!1;if(jn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Yr=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Yr=!1}var Vi=null,Sl=null,Qr=null;function Al(){if(Qr)return Qr;var i,r=Sl,o=r.length,u,f="value"in Vi?Vi.value:Vi.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var b=o-i;for(u=1;u<=b&&r[o-u]===f[p-u];u++);return Qr=f.slice(i,1<u?1-u:void 0)}function $r(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ss(){return!0}function li(){return!1}function Yt(i){function r(o,u,f,p,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ss:li,this.isPropagationStopped=li,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),r}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=Yt(rs),Ks=_({},rs,{view:0,detail:0}),xl=Yt(Ks),Ws,Fa,Li,Ha=_({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Li&&(Li&&i.type==="mousemove"?(Ws=i.screenX-Li.screenX,Fa=i.screenY-Li.screenY):Fa=Ws=0,Li=i),Ws)},movementY:function(i){return"movementY"in i?i.movementY:Fa}}),Cl=Yt(Ha),Xr=_({},Ha,{dataTransfer:0}),Oc=Yt(Xr),Vc=_({},Ks,{relatedTarget:0}),Jr=Yt(Vc),Rl=_({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),kc=Yt(Rl),Ga=_({},rs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Lc=Yt(Ga),jc=_({},rs,{data:0}),ji=Yt(jc),Uc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Bc[i])?!!r[i]:!1}function Ys(){return qc}var hn=_({},Ks,{key:function(i){if(i.key){var r=Uc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=$r(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?zc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(i){return i.type==="keypress"?$r(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?$r(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Fc=Yt(hn),Hc=_({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=Yt(Hc),h=_({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),v=Yt(h),T=_({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Yt(T),H=_({},Ha,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Yt(H),ue=_({},rs,{newState:0,oldState:0}),Ne=Yt(ue),Tt=[9,13,27,32],We=jn&&"CompositionEvent"in window,ct=null;jn&&"documentMode"in document&&(ct=document.documentMode);var Un=jn&&"TextEvent"in window&&!ct,Ui=jn&&(!We||ct&&8<ct&&11>=ct),ui=" ",ci=!1;function Zr(i,r){switch(i){case"keyup":return Tt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Wa=!1;function yC(i,r){switch(i){case"compositionend":return Ka(r);case"keypress":return r.which!==32?null:(ci=!0,ui);case"textInput":return i=r.data,i===ui&&ci?null:i;default:return null}}function vC(i,r){if(Wa)return i==="compositionend"||!We&&Zr(i,r)?(i=Al(),Qr=Sl=Vi=null,Wa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ui&&r.locale!=="ko"?null:r.data;default:return null}}var _C={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!_C[i.type]:r==="textarea"}function Av(i,r,o,u){Hs?Oi?Oi.push(u):Oi=[u]:Hs=u,r=Mh(r,"onChange"),0<r.length&&(o=new ki("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Il=null,Nl=null;function bC(i){ob(i,0)}function Gc(i){var r=Sn(i);if(Gr(r))return i}function xv(i,r){if(i==="change")return r}var Cv=!1;if(jn){var Ed;if(jn){var wd="oninput"in document;if(!wd){var Rv=document.createElement("div");Rv.setAttribute("oninput","return;"),wd=typeof Rv.oninput=="function"}Ed=wd}else Ed=!1;Cv=Ed&&(!document.documentMode||9<document.documentMode)}function Iv(){Il&&(Il.detachEvent("onpropertychange",Nv),Nl=Il=null)}function Nv(i){if(i.propertyName==="value"&&Gc(Nl)){var r=[];Av(r,Nl,i,Ln(i)),Gs(bC,r)}}function TC(i,r,o){i==="focusin"?(Iv(),Il=r,Nl=o,Il.attachEvent("onpropertychange",Nv)):i==="focusout"&&Iv()}function EC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Gc(Nl)}function wC(i,r){if(i==="click")return Gc(r)}function SC(i,r){if(i==="input"||i==="change")return Gc(r)}function AC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var xn=typeof Object.is=="function"?Object.is:AC;function Dl(i,r){if(xn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!xt.call(r,f)||!xn(i[f],r[f]))return!1}return!0}function Dv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Pv(i,r){var o=Dv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Dv(o)}}function Mv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Mv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Ov(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Mi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Mi(i.document)}return r}function Sd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var xC=jn&&"documentMode"in document&&11>=document.documentMode,Ya=null,Ad=null,Pl=null,xd=!1;function Vv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xd||Ya==null||Ya!==Mi(u)||(u=Ya,"selectionStart"in u&&Sd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pl&&Dl(Pl,u)||(Pl=u,u=Mh(Ad,"onSelect"),0<u.length&&(r=new ki("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Ya)))}function ea(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Qa={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Cd={},kv={};jn&&(kv=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function ta(i){if(Cd[i])return Cd[i];if(!Qa[i])return i;var r=Qa[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in kv)return Cd[i]=r[o];return i}var Lv=ta("animationend"),jv=ta("animationiteration"),Uv=ta("animationstart"),CC=ta("transitionrun"),RC=ta("transitionstart"),IC=ta("transitioncancel"),zv=ta("transitionend"),Bv=new Map,Rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rd.push("scrollEnd");function hi(i,r){Bv.set(i,r),Di(r,[i])}var Kc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},zn=[],$a=0,Id=0;function Wc(){for(var i=$a,r=Id=$a=0;r<i;){var o=zn[r];zn[r++]=null;var u=zn[r];zn[r++]=null;var f=zn[r];zn[r++]=null;var p=zn[r];if(zn[r++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}p!==0&&qv(o,f,p)}}function Yc(i,r,o,u){zn[$a++]=i,zn[$a++]=r,zn[$a++]=o,zn[$a++]=u,Id|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Nd(i,r,o,u){return Yc(i,r,o,u),Qc(i)}function na(i,r){return Yc(i,null,null,r),Qc(i)}function qv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-bt(o),i=p.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),p):null}function Qc(i){if(50<eu)throw eu=0,Um=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Xa={};function NC(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(i,r,o,u){return new NC(i,r,o,u)}function Dd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function os(i,r){var o=i.alternate;return o===null?(o=Cn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Fv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function $c(i,r,o,u,f,p){var b=0;if(u=i,typeof i=="function")Dd(i)&&(b=1);else if(typeof i=="string")b=VR(i,o,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Cn(31,o,r,f),i.elementType=I,i.lanes=p,i;case U:return ia(o.children,f,p,r);case k:b=8,f|=24;break;case B:return i=Cn(12,o,r,f|2),i.elementType=B,i.lanes=p,i;case oe:return i=Cn(13,o,r,f),i.elementType=oe,i.lanes=p,i;case ae:return i=Cn(19,o,r,f),i.elementType=ae,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:b=10;break e;case F:b=9;break e;case le:b=11;break e;case C:b=14;break e;case A:b=16,u=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Cn(b,o,r,f),r.elementType=i,r.type=u,r.lanes=p,r}function ia(i,r,o,u){return i=Cn(7,i,u,r),i.lanes=o,i}function Pd(i,r,o){return i=Cn(6,i,null,r),i.lanes=o,i}function Hv(i){var r=Cn(18,null,null,0);return r.stateNode=i,r}function Md(i,r,o){return r=Cn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Gv=new WeakMap;function Bn(i,r){if(typeof i=="object"&&i!==null){var o=Gv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:ul(r)},Gv.set(i,r),r)}return{value:i,source:r,stack:ul(r)}}var Ja=[],Za=0,Xc=null,Ml=0,qn=[],Fn=0,Qs=null,zi=1,Bi="";function ls(i,r){Ja[Za++]=Ml,Ja[Za++]=Xc,Xc=i,Ml=r}function Kv(i,r,o){qn[Fn++]=zi,qn[Fn++]=Bi,qn[Fn++]=Qs,Qs=i;var u=zi;i=Bi;var f=32-bt(u)-1;u&=~(1<<f),o+=1;var p=32-bt(r)+f;if(30<p){var b=f-f%5;p=(u&(1<<b)-1).toString(32),u>>=b,f-=b,zi=1<<32-bt(r)+f|o<<f|u,Bi=p+i}else zi=1<<p|o<<f|u,Bi=i}function Od(i){i.return!==null&&(ls(i,1),Kv(i,1,0))}function Vd(i){for(;i===Xc;)Xc=Ja[--Za],Ja[Za]=null,Ml=Ja[--Za],Ja[Za]=null;for(;i===Qs;)Qs=qn[--Fn],qn[Fn]=null,Bi=qn[--Fn],qn[Fn]=null,zi=qn[--Fn],qn[Fn]=null}function Wv(i,r){qn[Fn++]=zi,qn[Fn++]=Bi,qn[Fn++]=Qs,zi=r.id,Bi=r.overflow,Qs=i}var Qt=null,at=null,qe=!1,$s=null,Hn=!1,kd=Error(s(519));function Xs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(Bn(r,i)),kd}function Yv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Rt]=i,r[qt]=u,o){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(o=0;o<nu.length;o++)ke(nu[o],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),Nc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),qs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||hb(r.textContent,o)?(u.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),u.onScroll!=null&&ke("scroll",r),u.onScrollEnd!=null&&ke("scrollend",r),u.onClick!=null&&(r.onclick=ai),r=!0):r=!1,r||Xs(i,!0)}function Qv(i){for(Qt=i.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Qt=Qt.return}}function eo(i){if(i!==Qt)return!1;if(!qe)return Qv(i),qe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||ep(i.type,i.memoizedProps)),o=!o),o&&at&&Xs(i),Qv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));at=bb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));at=bb(i)}else r===27?(r=at,hr(i.type)?(i=rp,rp=null,at=i):at=r):at=Qt?Kn(i.stateNode.nextSibling):null;return!0}function sa(){at=Qt=null,qe=!1}function Ld(){var i=$s;return i!==null&&(bn===null?bn=i:bn.push.apply(bn,i),$s=null),i}function Ol(i){$s===null?$s=[i]:$s.push(i)}var jd=L(null),ra=null,us=null;function Js(i,r,o){ce(jd,r._currentValue),r._currentValue=o}function cs(i){i._currentValue=jd.current,Z(jd)}function Ud(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function zd(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var b=f.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=f;for(var O=0;O<r.length;O++)if(S.context===r[O]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),Ud(p.return,o,i),u||(b=null);break e}p=S.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),Ud(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function to(i,r,o,u){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var S=f.type;xn(f.pendingProps.value,b.value)||(i!==null?i.push(S):i=[S])}}else if(f===Ae.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(ou):i=[ou])}f=f.return}i!==null&&zd(r,i,o,u),r.flags|=262144}function Jc(i){for(i=i.firstContext;i!==null;){if(!xn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function aa(i){ra=i,us=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function $t(i){return $v(ra,i)}function Zc(i,r){return ra===null&&aa(i),$v(i,r)}function $v(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},us===null){if(i===null)throw Error(s(308));us=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else us=us.next=r;return o}var DC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},PC=t.unstable_scheduleCallback,MC=t.unstable_NormalPriority,Dt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bd(){return{controller:new DC,data:new Map,refCount:0}}function Vl(i){i.refCount--,i.refCount===0&&PC(MC,function(){i.controller.abort()})}var kl=null,qd=0,no=0,io=null;function OC(i,r){if(kl===null){var o=kl=[];qd=0,no=Gm(),io={status:"pending",value:void 0,then:function(u){o.push(u)}}}return qd++,r.then(Xv,Xv),r}function Xv(){if(--qd===0&&kl!==null){io!==null&&(io.status="fulfilled");var i=kl;kl=null,no=0,io=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function VC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Jv=X.S;X.S=function(i,r){V0=cn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&OC(i,r),Jv!==null&&Jv(i,r)};var oa=L(null);function Fd(){var i=oa.current;return i!==null?i:st.pooledCache}function eh(i,r){r===null?ce(oa,oa.current):ce(oa,r.pool)}function Zv(){var i=Fd();return i===null?null:{parent:Dt._currentValue,pool:i}}var so=Error(s(460)),Hd=Error(s(474)),th=Error(s(542)),nh={then:function(){}};function e_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function t_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ai,ai),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i_(i),i;default:if(typeof r.status=="string")r.then(ai,ai);else{if(i=st,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i_(i),i}throw ua=r,so}}function la(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ua=o,so):o}}var ua=null;function n_(){if(ua===null)throw Error(s(459));var i=ua;return ua=null,i}function i_(i){if(i===so||i===th)throw Error(s(483))}var ro=null,Ll=0;function ih(i){var r=Ll;return Ll+=1,ro===null&&(ro=[]),t_(ro,i,r)}function jl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function sh(i,r){throw r.$$typeof===w?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function s_(i){function r(q,j){if(i){var G=q.deletions;G===null?(q.deletions=[j],q.flags|=16):G.push(j)}}function o(q,j){if(!i)return null;for(;j!==null;)r(q,j),j=j.sibling;return null}function u(q){for(var j=new Map;q!==null;)q.key!==null?j.set(q.key,q):j.set(q.index,q),q=q.sibling;return j}function f(q,j){return q=os(q,j),q.index=0,q.sibling=null,q}function p(q,j,G){return q.index=G,i?(G=q.alternate,G!==null?(G=G.index,G<j?(q.flags|=67108866,j):G):(q.flags|=67108866,j)):(q.flags|=1048576,j)}function b(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function S(q,j,G,ee){return j===null||j.tag!==6?(j=Pd(G,q.mode,ee),j.return=q,j):(j=f(j,G),j.return=q,j)}function O(q,j,G,ee){var ve=G.type;return ve===U?J(q,j,G.props.children,ee,G.key):j!==null&&(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&la(ve)===j.type)?(j=f(j,G.props),jl(j,G),j.return=q,j):(j=$c(G.type,G.key,G.props,null,q.mode,ee),jl(j,G),j.return=q,j)}function K(q,j,G,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=Md(G,q.mode,ee),j.return=q,j):(j=f(j,G.children||[]),j.return=q,j)}function J(q,j,G,ee,ve){return j===null||j.tag!==7?(j=ia(G,q.mode,ee,ve),j.return=q,j):(j=f(j,G),j.return=q,j)}function te(q,j,G){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Pd(""+j,q.mode,G),j.return=q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case R:return G=$c(j.type,j.key,j.props,null,q.mode,G),jl(G,j),G.return=q,G;case M:return j=Md(j,q.mode,G),j.return=q,j;case A:return j=la(j),te(q,j,G)}if(ut(j)||z(j))return j=ia(j,q.mode,G,null),j.return=q,j;if(typeof j.then=="function")return te(q,ih(j),G);if(j.$$typeof===Y)return te(q,Zc(q,j),G);sh(q,j)}return null}function W(q,j,G,ee){var ve=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ve!==null?null:S(q,j,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case R:return G.key===ve?O(q,j,G,ee):null;case M:return G.key===ve?K(q,j,G,ee):null;case A:return G=la(G),W(q,j,G,ee)}if(ut(G)||z(G))return ve!==null?null:J(q,j,G,ee,null);if(typeof G.then=="function")return W(q,j,ih(G),ee);if(G.$$typeof===Y)return W(q,j,Zc(q,G),ee);sh(q,G)}return null}function $(q,j,G,ee,ve){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return q=q.get(G)||null,S(j,q,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case R:return q=q.get(ee.key===null?G:ee.key)||null,O(j,q,ee,ve);case M:return q=q.get(ee.key===null?G:ee.key)||null,K(j,q,ee,ve);case A:return ee=la(ee),$(q,j,G,ee,ve)}if(ut(ee)||z(ee))return q=q.get(G)||null,J(j,q,ee,ve,null);if(typeof ee.then=="function")return $(q,j,G,ih(ee),ve);if(ee.$$typeof===Y)return $(q,j,G,Zc(j,ee),ve);sh(j,ee)}return null}function pe(q,j,G,ee){for(var ve=null,Ge=null,ge=j,Pe=j=0,je=null;ge!==null&&Pe<G.length;Pe++){ge.index>Pe?(je=ge,ge=null):je=ge.sibling;var Ke=W(q,ge,G[Pe],ee);if(Ke===null){ge===null&&(ge=je);break}i&&ge&&Ke.alternate===null&&r(q,ge),j=p(Ke,j,Pe),Ge===null?ve=Ke:Ge.sibling=Ke,Ge=Ke,ge=je}if(Pe===G.length)return o(q,ge),qe&&ls(q,Pe),ve;if(ge===null){for(;Pe<G.length;Pe++)ge=te(q,G[Pe],ee),ge!==null&&(j=p(ge,j,Pe),Ge===null?ve=ge:Ge.sibling=ge,Ge=ge);return qe&&ls(q,Pe),ve}for(ge=u(ge);Pe<G.length;Pe++)je=$(ge,q,Pe,G[Pe],ee),je!==null&&(i&&je.alternate!==null&&ge.delete(je.key===null?Pe:je.key),j=p(je,j,Pe),Ge===null?ve=je:Ge.sibling=je,Ge=je);return i&&ge.forEach(function(gr){return r(q,gr)}),qe&&ls(q,Pe),ve}function Te(q,j,G,ee){if(G==null)throw Error(s(151));for(var ve=null,Ge=null,ge=j,Pe=j=0,je=null,Ke=G.next();ge!==null&&!Ke.done;Pe++,Ke=G.next()){ge.index>Pe?(je=ge,ge=null):je=ge.sibling;var gr=W(q,ge,Ke.value,ee);if(gr===null){ge===null&&(ge=je);break}i&&ge&&gr.alternate===null&&r(q,ge),j=p(gr,j,Pe),Ge===null?ve=gr:Ge.sibling=gr,Ge=gr,ge=je}if(Ke.done)return o(q,ge),qe&&ls(q,Pe),ve;if(ge===null){for(;!Ke.done;Pe++,Ke=G.next())Ke=te(q,Ke.value,ee),Ke!==null&&(j=p(Ke,j,Pe),Ge===null?ve=Ke:Ge.sibling=Ke,Ge=Ke);return qe&&ls(q,Pe),ve}for(ge=u(ge);!Ke.done;Pe++,Ke=G.next())Ke=$(ge,q,Pe,Ke.value,ee),Ke!==null&&(i&&Ke.alternate!==null&&ge.delete(Ke.key===null?Pe:Ke.key),j=p(Ke,j,Pe),Ge===null?ve=Ke:Ge.sibling=Ke,Ge=Ke);return i&&ge.forEach(function(KR){return r(q,KR)}),qe&&ls(q,Pe),ve}function nt(q,j,G,ee){if(typeof G=="object"&&G!==null&&G.type===U&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case R:e:{for(var ve=G.key;j!==null;){if(j.key===ve){if(ve=G.type,ve===U){if(j.tag===7){o(q,j.sibling),ee=f(j,G.props.children),ee.return=q,q=ee;break e}}else if(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&la(ve)===j.type){o(q,j.sibling),ee=f(j,G.props),jl(ee,G),ee.return=q,q=ee;break e}o(q,j);break}else r(q,j);j=j.sibling}G.type===U?(ee=ia(G.props.children,q.mode,ee,G.key),ee.return=q,q=ee):(ee=$c(G.type,G.key,G.props,null,q.mode,ee),jl(ee,G),ee.return=q,q=ee)}return b(q);case M:e:{for(ve=G.key;j!==null;){if(j.key===ve)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){o(q,j.sibling),ee=f(j,G.children||[]),ee.return=q,q=ee;break e}else{o(q,j);break}else r(q,j);j=j.sibling}ee=Md(G,q.mode,ee),ee.return=q,q=ee}return b(q);case A:return G=la(G),nt(q,j,G,ee)}if(ut(G))return pe(q,j,G,ee);if(z(G)){if(ve=z(G),typeof ve!="function")throw Error(s(150));return G=ve.call(G),Te(q,j,G,ee)}if(typeof G.then=="function")return nt(q,j,ih(G),ee);if(G.$$typeof===Y)return nt(q,j,Zc(q,G),ee);sh(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,j!==null&&j.tag===6?(o(q,j.sibling),ee=f(j,G),ee.return=q,q=ee):(o(q,j),ee=Pd(G,q.mode,ee),ee.return=q,q=ee),b(q)):o(q,j)}return function(q,j,G,ee){try{Ll=0;var ve=nt(q,j,G,ee);return ro=null,ve}catch(ge){if(ge===so||ge===th)throw ge;var Ge=Cn(29,ge,null,q.mode);return Ge.lanes=ee,Ge.return=q,Ge}finally{}}}var ca=s_(!0),r_=s_(!1),Zs=!1;function Gd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function er(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function tr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Qc(i),qv(i,null,o),r}return Yc(i,u,r,o),Qc(i)}function Ul(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,fl(i,o)}}function Wd(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Yd=!1;function zl(){if(Yd){var i=io;if(i!==null)throw i}}function Bl(i,r,o,u){Yd=!1;var f=i.updateQueue;Zs=!1;var p=f.firstBaseUpdate,b=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,K=O.next;O.next=null,b===null?p=K:b.next=K,b=O;var J=i.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==b&&(S===null?J.firstBaseUpdate=K:S.next=K,J.lastBaseUpdate=O))}if(p!==null){var te=f.baseState;b=0,J=K=O=null,S=p;do{var W=S.lane&-536870913,$=W!==S.lane;if($?(Le&W)===W:(u&W)===W){W!==0&&W===no&&(Yd=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=i,Te=S;W=r;var nt=o;switch(Te.tag){case 1:if(pe=Te.payload,typeof pe=="function"){te=pe.call(nt,te,W);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Te.payload,W=typeof pe=="function"?pe.call(nt,te,W):pe,W==null)break e;te=_({},te,W);break e;case 2:Zs=!0}}W=S.callback,W!==null&&(i.flags|=64,$&&(i.flags|=8192),$=f.callbacks,$===null?f.callbacks=[W]:$.push(W))}else $={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(K=J=$,O=te):J=J.next=$,b|=W;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;$=S,S=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);J===null&&(O=te),f.baseState=O,f.firstBaseUpdate=K,f.lastBaseUpdate=J,p===null&&(f.shared.lanes=0),ar|=b,i.lanes=b,i.memoizedState=te}}function a_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function o_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)a_(o[i],r)}var ao=L(null),rh=L(0);function l_(i,r){i=_s,ce(rh,i),ce(ao,r),_s=i|r.baseLanes}function Qd(){ce(rh,_s),ce(ao,ao.current)}function $d(){_s=rh.current,Z(ao),Z(rh)}var Rn=L(null),Gn=null;function nr(i){var r=i.alternate;ce(Et,Et.current&1),ce(Rn,i),Gn===null&&(r===null||ao.current!==null||r.memoizedState!==null)&&(Gn=i)}function Xd(i){ce(Et,Et.current),ce(Rn,i),Gn===null&&(Gn=i)}function u_(i){i.tag===22?(ce(Et,Et.current),ce(Rn,i),Gn===null&&(Gn=i)):ir()}function ir(){ce(Et,Et.current),ce(Rn,Rn.current)}function In(i){Z(Rn),Gn===i&&(Gn=null),Z(Et)}var Et=L(0);function ah(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ip(o)||sp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var hs=0,De=null,et=null,Pt=null,oh=!1,oo=!1,ha=!1,lh=0,ql=0,lo=null,kC=0;function yt(){throw Error(s(321))}function Jd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!xn(i[o],r[o]))return!1;return!0}function Zd(i,r,o,u,f,p){return hs=p,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=i===null||i.memoizedState===null?K_:mm,ha=!1,p=o(u,f),ha=!1,oo&&(p=h_(r,o,u,f)),c_(i),p}function c_(i){X.H=Gl;var r=et!==null&&et.next!==null;if(hs=0,Pt=et=De=null,oh=!1,ql=0,lo=null,r)throw Error(s(300));i===null||Mt||(i=i.dependencies,i!==null&&Jc(i)&&(Mt=!0))}function h_(i,r,o,u){De=i;var f=0;do{if(oo&&(lo=null),ql=0,oo=!1,25<=f)throw Error(s(301));if(f+=1,Pt=et=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}X.H=W_,p=r(o,u)}while(oo);return p}function LC(){var i=X.H,r=i.useState()[0];return r=typeof r.then=="function"?Fl(r):r,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(De.flags|=1024),r}function em(){var i=lh!==0;return lh=0,i}function tm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function nm(i){if(oh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}oh=!1}hs=0,Pt=et=De=null,oo=!1,ql=lh=0,lo=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?De.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function wt(){if(et===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var r=Pt===null?De.memoizedState:Pt.next;if(r!==null)Pt=r,et=i;else{if(i===null)throw De.alternate===null?Error(s(467)):Error(s(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Pt===null?De.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function uh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(i){var r=ql;return ql+=1,lo===null&&(lo=[]),i=t_(lo,i,r),r=De,(Pt===null?r.memoizedState:Pt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?K_:mm),i}function ch(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Fl(i);if(i.$$typeof===Y)return $t(i)}throw Error(s(438,String(i)))}function im(i){var r=null,o=De.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=uh(),De.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=V;return r.index++,o}function fs(i,r){return typeof r=="function"?r(i):r}function hh(i){var r=wt();return sm(r,et,i)}function sm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,p=u.pending;if(p!==null){if(f!==null){var b=f.next;f.next=p.next,p.next=b}r.baseQueue=f=p,u.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var S=b=null,O=null,K=r,J=!1;do{var te=K.lane&-536870913;if(te!==K.lane?(Le&te)===te:(hs&te)===te){var W=K.revertLane;if(W===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),te===no&&(J=!0);else if((hs&W)===W){K=K.next,W===no&&(J=!0);continue}else te={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=te,b=p):O=O.next=te,De.lanes|=W,ar|=W;te=K.action,ha&&o(p,te),p=K.hasEagerState?K.eagerState:o(p,te)}else W={lane:te,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=W,b=p):O=O.next=W,De.lanes|=te,ar|=te;K=K.next}while(K!==null&&K!==r);if(O===null?b=p:O.next=S,!xn(p,i.memoizedState)&&(Mt=!0,J&&(o=io,o!==null)))throw o;i.memoizedState=p,i.baseState=b,i.baseQueue=O,u.lastRenderedState=p}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function rm(i){var r=wt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do p=i(p,b.action),b=b.next;while(b!==f);xn(p,r.memoizedState)||(Mt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function f_(i,r,o){var u=De,f=wt(),p=qe;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!xn((et||f).memoizedState,o);if(b&&(f.memoizedState=o,Mt=!0),f=f.queue,lm(p_.bind(null,u,f,i),[i]),f.getSnapshot!==r||b||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,uo(9,{destroy:void 0},m_.bind(null,u,f,o,r),null),st===null)throw Error(s(349));p||(hs&127)!==0||d_(u,r,o)}return o}function d_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=De.updateQueue,r===null?(r=uh(),De.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function m_(i,r,o,u){r.value=o,r.getSnapshot=u,g_(r)&&y_(i)}function p_(i,r,o){return o(function(){g_(r)&&y_(i)})}function g_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!xn(i,o)}catch{return!0}}function y_(i){var r=na(i,2);r!==null&&Tn(r,i,2)}function am(i){var r=fn();if(typeof i=="function"){var o=i;if(i=o(),ha){Vn(!0);try{o()}finally{Vn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:i},r}function v_(i,r,o,u){return i.baseState=o,sm(i,et,typeof u=="function"?u:fs)}function jC(i,r,o,u,f){if(mh(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};X.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,__(r,p)):(p.next=o.next,r.pending=o.next=p)}}function __(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var p=X.T,b={};X.T=b;try{var S=o(f,u),O=X.S;O!==null&&O(b,S),b_(i,r,S)}catch(K){om(i,r,K)}finally{p!==null&&b.types!==null&&(p.types=b.types),X.T=p}}else try{p=o(f,u),b_(i,r,p)}catch(K){om(i,r,K)}}function b_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){T_(i,r,u)},function(u){return om(i,r,u)}):T_(i,r,o)}function T_(i,r,o){r.status="fulfilled",r.value=o,E_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,__(i,o)))}function om(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,E_(r),r=r.next;while(r!==u)}i.action=null}function E_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function w_(i,r){return r}function S_(i,r){if(qe){var o=st.formState;if(o!==null){e:{var u=De;if(qe){if(at){t:{for(var f=at,p=Hn;f.nodeType!==8;){if(!p){f=null;break t}if(f=Kn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){at=Kn(f.nextSibling),u=f.data==="F!";break e}}Xs(u)}u=!1}u&&(r=o[0])}}return o=fn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:w_,lastRenderedState:r},o.queue=u,o=F_.bind(null,De,u),u.dispatch=o,u=am(!1),p=dm.bind(null,De,!1,u.queue),u=fn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=jC.bind(null,De,f,p,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function A_(i){var r=wt();return x_(r,et,i)}function x_(i,r,o){if(r=sm(i,r,w_)[0],i=hh(fs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Fl(r)}catch(b){throw b===so?th:b}else u=r;r=wt();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(De.flags|=2048,uo(9,{destroy:void 0},UC.bind(null,f,o),null)),[u,p,i]}function UC(i,r){i.action=r}function C_(i){var r=wt(),o=et;if(o!==null)return x_(r,o,i);wt(),r=r.memoizedState,o=wt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function uo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=De.updateQueue,r===null&&(r=uh(),De.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function R_(){return wt().memoizedState}function fh(i,r,o,u){var f=fn();De.flags|=i,f.memoizedState=uo(1|r,{destroy:void 0},o,u===void 0?null:u)}function dh(i,r,o,u){var f=wt();u=u===void 0?null:u;var p=f.memoizedState.inst;et!==null&&u!==null&&Jd(u,et.memoizedState.deps)?f.memoizedState=uo(r,p,o,u):(De.flags|=i,f.memoizedState=uo(1|r,p,o,u))}function I_(i,r){fh(8390656,8,i,r)}function lm(i,r){dh(2048,8,i,r)}function zC(i){De.flags|=4;var r=De.updateQueue;if(r===null)r=uh(),De.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function N_(i){var r=wt().memoizedState;return zC({ref:r,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function D_(i,r){return dh(4,2,i,r)}function P_(i,r){return dh(4,4,i,r)}function M_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function O_(i,r,o){o=o!=null?o.concat([i]):null,dh(4,4,M_.bind(null,r,i),o)}function um(){}function V_(i,r){var o=wt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Jd(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function k_(i,r){var o=wt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Jd(r,u[1]))return u[0];if(u=i(),ha){Vn(!0);try{i()}finally{Vn(!1)}}return o.memoizedState=[u,r],u}function cm(i,r,o){return o===void 0||(hs&1073741824)!==0&&(Le&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=L0(),De.lanes|=i,ar|=i,o)}function L_(i,r,o,u){return xn(o,r)?o:ao.current!==null?(i=cm(i,o,u),xn(i,r)||(Mt=!0),i):(hs&42)===0||(hs&1073741824)!==0&&(Le&261930)===0?(Mt=!0,i.memoizedState=o):(i=L0(),De.lanes|=i,ar|=i,r)}function j_(i,r,o,u,f){var p=re.p;re.p=p!==0&&8>p?p:8;var b=X.T,S={};X.T=S,dm(i,!1,r,o);try{var O=f(),K=X.S;if(K!==null&&K(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=VC(O,u);Hl(i,r,J,Pn(i))}else Hl(i,r,u,Pn(i))}catch(te){Hl(i,r,{then:function(){},status:"rejected",reason:te},Pn())}finally{re.p=p,b!==null&&S.types!==null&&(b.types=S.types),X.T=b}}function BC(){}function hm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=U_(i).queue;j_(i,f,r,fe,o===null?BC:function(){return z_(i),o(u)})}function U_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:fe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function z_(i){var r=U_(i);r.next===null&&(r=i.alternate.memoizedState),Hl(i,r.next.queue,{},Pn())}function fm(){return $t(ou)}function B_(){return wt().memoizedState}function q_(){return wt().memoizedState}function qC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Pn();i=er(o);var u=tr(r,i,o);u!==null&&(Tn(u,r,o),Ul(u,r,o)),r={cache:Bd()},i.payload=r;return}r=r.return}}function FC(i,r,o){var u=Pn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},mh(i)?H_(r,o):(o=Nd(i,r,o,u),o!==null&&(Tn(o,i,u),G_(o,r,u)))}function F_(i,r,o){var u=Pn();Hl(i,r,o,u)}function Hl(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(mh(i))H_(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,S=p(b,o);if(f.hasEagerState=!0,f.eagerState=S,xn(S,b))return Yc(i,r,f,0),st===null&&Wc(),!1}catch{}finally{}if(o=Nd(i,r,f,u),o!==null)return Tn(o,i,u),G_(o,r,u),!0}return!1}function dm(i,r,o,u){if(u={lane:2,revertLane:Gm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},mh(i)){if(r)throw Error(s(479))}else r=Nd(i,o,u,2),r!==null&&Tn(r,i,2)}function mh(i){var r=i.alternate;return i===De||r!==null&&r===De}function H_(i,r){oo=oh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function G_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,fl(i,o)}}var Gl={readContext:$t,use:ch,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};Gl.useEffectEvent=yt;var K_={readContext:$t,use:ch,useCallback:function(i,r){return fn().memoizedState=[i,r===void 0?null:r],i},useContext:$t,useEffect:I_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,fh(4194308,4,M_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return fh(4194308,4,i,r)},useInsertionEffect:function(i,r){fh(4,2,i,r)},useMemo:function(i,r){var o=fn();r=r===void 0?null:r;var u=i();if(ha){Vn(!0);try{i()}finally{Vn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=fn();if(o!==void 0){var f=o(r);if(ha){Vn(!0);try{o(r)}finally{Vn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=FC.bind(null,De,i),[u.memoizedState,i]},useRef:function(i){var r=fn();return i={current:i},r.memoizedState=i},useState:function(i){i=am(i);var r=i.queue,o=F_.bind(null,De,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:um,useDeferredValue:function(i,r){var o=fn();return cm(o,i,r)},useTransition:function(){var i=am(!1);return i=j_.bind(null,De,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=De,f=fn();if(qe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),st===null)throw Error(s(349));(Le&127)!==0||d_(u,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,I_(p_.bind(null,u,p,i),[i]),u.flags|=2048,uo(9,{destroy:void 0},m_.bind(null,u,p,o,r),null),o},useId:function(){var i=fn(),r=st.identifierPrefix;if(qe){var o=Bi,u=zi;o=(u&~(1<<32-bt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=lh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=kC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:fm,useFormState:S_,useActionState:S_,useOptimistic:function(i){var r=fn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=dm.bind(null,De,!0,o),o.dispatch=r,[i,r]},useMemoCache:im,useCacheRefresh:function(){return fn().memoizedState=qC.bind(null,De)},useEffectEvent:function(i){var r=fn(),o={impl:i};return r.memoizedState=o,function(){if((Ye&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},mm={readContext:$t,use:ch,useCallback:V_,useContext:$t,useEffect:lm,useImperativeHandle:O_,useInsertionEffect:D_,useLayoutEffect:P_,useMemo:k_,useReducer:hh,useRef:R_,useState:function(){return hh(fs)},useDebugValue:um,useDeferredValue:function(i,r){var o=wt();return L_(o,et.memoizedState,i,r)},useTransition:function(){var i=hh(fs)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:Fl(i),r]},useSyncExternalStore:f_,useId:B_,useHostTransitionStatus:fm,useFormState:A_,useActionState:A_,useOptimistic:function(i,r){var o=wt();return v_(o,et,i,r)},useMemoCache:im,useCacheRefresh:q_};mm.useEffectEvent=N_;var W_={readContext:$t,use:ch,useCallback:V_,useContext:$t,useEffect:lm,useImperativeHandle:O_,useInsertionEffect:D_,useLayoutEffect:P_,useMemo:k_,useReducer:rm,useRef:R_,useState:function(){return rm(fs)},useDebugValue:um,useDeferredValue:function(i,r){var o=wt();return et===null?cm(o,i,r):L_(o,et.memoizedState,i,r)},useTransition:function(){var i=rm(fs)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:Fl(i),r]},useSyncExternalStore:f_,useId:B_,useHostTransitionStatus:fm,useFormState:C_,useActionState:C_,useOptimistic:function(i,r){var o=wt();return et!==null?v_(o,et,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:im,useCacheRefresh:q_};W_.useEffectEvent=N_;function pm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var gm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Pn(),f=er(u);f.payload=r,o!=null&&(f.callback=o),r=tr(i,f,u),r!==null&&(Tn(r,i,u),Ul(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Pn(),f=er(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=tr(i,f,u),r!==null&&(Tn(r,i,u),Ul(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Pn(),u=er(o);u.tag=2,r!=null&&(u.callback=r),r=tr(i,u,o),r!==null&&(Tn(r,i,o),Ul(r,i,o))}};function Y_(i,r,o,u,f,p,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,p,b):r.prototype&&r.prototype.isPureReactComponent?!Dl(o,u)||!Dl(f,p):!0}function Q_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&gm.enqueueReplaceState(r,r.state,null)}function fa(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function $_(i){Kc(i)}function X_(i){console.error(i)}function J_(i){Kc(i)}function ph(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Z_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ym(i,r,o){return o=er(o),o.tag=3,o.payload={element:null},o.callback=function(){ph(i,r)},o}function e0(i){return i=er(i),i.tag=3,i}function t0(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;i.payload=function(){return f(p)},i.callback=function(){Z_(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){Z_(r,o,u),typeof f!="function"&&(or===null?or=new Set([this]):or.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function HC(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&to(r,o,f,!0),o=Rn.current,o!==null){switch(o.tag){case 31:case 13:return Gn===null?Ch():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===nh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),qm(i,u,f)),!1;case 22:return o.flags|=65536,u===nh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),qm(i,u,f)),!1}throw Error(s(435,o.tag))}return qm(i,u,f),Ch(),!1}if(qe)return r=Rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==kd&&(i=Error(s(422),{cause:u}),Ol(Bn(i,o)))):(u!==kd&&(r=Error(s(423),{cause:u}),Ol(Bn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Bn(u,o),f=ym(i.stateNode,u,f),Wd(i,f),vt!==4&&(vt=2)),!1;var p=Error(s(520),{cause:u});if(p=Bn(p,o),Zl===null?Zl=[p]:Zl.push(p),vt!==4&&(vt=2),r===null)return!0;u=Bn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=ym(o.stateNode,u,i),Wd(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(or===null||!or.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=e0(f),t0(f,i,o,u),Wd(o,f),!1}o=o.return}while(o!==null);return!1}var vm=Error(s(461)),Mt=!1;function Xt(i,r,o,u){r.child=i===null?r_(r,null,o,u):ca(r,i.child,o,u)}function n0(i,r,o,u,f){o=o.render;var p=r.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return aa(r),u=Zd(i,r,o,b,p,f),S=em(),i!==null&&!Mt?(tm(i,r,f),ds(i,r,f)):(qe&&S&&Od(r),r.flags|=1,Xt(i,r,u,f),r.child)}function i0(i,r,o,u,f){if(i===null){var p=o.type;return typeof p=="function"&&!Dd(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,s0(i,r,p,u,f)):(i=$c(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!xm(i,f)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:Dl,o(b,u)&&i.ref===r.ref)return ds(i,r,f)}return r.flags|=1,i=os(p,u),i.ref=r.ref,i.return=r,r.child=i}function s0(i,r,o,u,f){if(i!==null){var p=i.memoizedProps;if(Dl(p,u)&&i.ref===r.ref)if(Mt=!1,r.pendingProps=u=p,xm(i,f))(i.flags&131072)!==0&&(Mt=!0);else return r.lanes=i.lanes,ds(i,r,f)}return _m(i,r,o,u,f)}function r0(i,r,o,u){var f=u.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~p}else u=0,r.child=null;return a0(i,r,p,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&eh(r,p!==null?p.cachePool:null),p!==null?l_(r,p):Qd(),u_(r);else return u=r.lanes=536870912,a0(i,r,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(eh(r,p.cachePool),l_(r,p),ir(),r.memoizedState=null):(i!==null&&eh(r,null),Qd(),ir());return Xt(i,r,f,o),r.child}function Kl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function a0(i,r,o,u,f){var p=Fd();return p=p===null?null:{parent:Dt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&eh(r,null),Qd(),u_(r),i!==null&&to(i,r,u,!0),r.childLanes=f,null}function gh(i,r){return r=vh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function o0(i,r,o){return ca(r,i.child,null,o),i=gh(r,r.pendingProps),i.flags|=2,In(r),r.memoizedState=null,i}function GC(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(qe){if(u.mode==="hidden")return i=gh(r,u),r.lanes=536870912,Kl(null,i);if(Xd(r),(i=at)?(i=_b(i,Hn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Qs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},o=Hv(i),o.return=r,r.child=o,Qt=r,at=null)):i=null,i===null)throw Xs(r);return r.lanes=536870912,null}return gh(r,u)}var p=i.memoizedState;if(p!==null){var b=p.dehydrated;if(Xd(r),f)if(r.flags&256)r.flags&=-257,r=o0(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Mt||to(i,r,o,!1),f=(o&i.childLanes)!==0,Mt||f){if(u=st,u!==null&&(b=dl(u,o),b!==0&&b!==p.retryLane))throw p.retryLane=b,na(i,b),Tn(u,i,b),vm;Ch(),r=o0(i,r,o)}else i=p.treeContext,at=Kn(b.nextSibling),Qt=r,qe=!0,$s=null,Hn=!1,i!==null&&Wv(r,i),r=gh(r,u),r.flags|=4096;return r}return i=os(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function yh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function _m(i,r,o,u,f){return aa(r),o=Zd(i,r,o,u,void 0,f),u=em(),i!==null&&!Mt?(tm(i,r,f),ds(i,r,f)):(qe&&u&&Od(r),r.flags|=1,Xt(i,r,o,f),r.child)}function l0(i,r,o,u,f,p){return aa(r),r.updateQueue=null,o=h_(r,u,o,f),c_(i),u=em(),i!==null&&!Mt?(tm(i,r,p),ds(i,r,p)):(qe&&u&&Od(r),r.flags|=1,Xt(i,r,o,p),r.child)}function u0(i,r,o,u,f){if(aa(r),r.stateNode===null){var p=Xa,b=o.contextType;typeof b=="object"&&b!==null&&(p=$t(b)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=gm,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},Gd(r),b=o.contextType,p.context=typeof b=="object"&&b!==null?$t(b):Xa,p.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(pm(r,o,b,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&gm.enqueueReplaceState(p,p.state,null),Bl(r,u,p,f),zl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){p=r.stateNode;var S=r.memoizedProps,O=fa(o,S);p.props=O;var K=p.context,J=o.contextType;b=Xa,typeof J=="object"&&J!==null&&(b=$t(J));var te=o.getDerivedStateFromProps;J=typeof te=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||K!==b)&&Q_(r,p,u,b),Zs=!1;var W=r.memoizedState;p.state=W,Bl(r,u,p,f),zl(),K=r.memoizedState,S||W!==K||Zs?(typeof te=="function"&&(pm(r,o,te,u),K=r.memoizedState),(O=Zs||Y_(r,o,O,u,W,K,b))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),p.props=u,p.state=K,p.context=b,u=O):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,Kd(i,r),b=r.memoizedProps,J=fa(o,b),p.props=J,te=r.pendingProps,W=p.context,K=o.contextType,O=Xa,typeof K=="object"&&K!==null&&(O=$t(K)),S=o.getDerivedStateFromProps,(K=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==te||W!==O)&&Q_(r,p,u,O),Zs=!1,W=r.memoizedState,p.state=W,Bl(r,u,p,f),zl();var $=r.memoizedState;b!==te||W!==$||Zs||i!==null&&i.dependencies!==null&&Jc(i.dependencies)?(typeof S=="function"&&(pm(r,o,S,u),$=r.memoizedState),(J=Zs||Y_(r,o,J,u,W,$,O)||i!==null&&i.dependencies!==null&&Jc(i.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,$,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,$,O)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=$),p.props=u,p.state=$,p.context=O,u=J):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(r.flags|=1024),u=!1)}return p=u,yh(i,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&u?(r.child=ca(r,i.child,null,f),r.child=ca(r,null,o,f)):Xt(i,r,o,f),r.memoizedState=p.state,i=r.child):i=ds(i,r,f),i}function c0(i,r,o,u){return sa(),r.flags|=256,Xt(i,r,o,u),r.child}var bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tm(i){return{baseLanes:i,cachePool:Zv()}}function Em(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Dn),i}function h0(i,r,o){var u=r.pendingProps,f=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=i!==null&&i.memoizedState===null?!1:(Et.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(qe){if(f?nr(r):ir(),(i=at)?(i=_b(i,Hn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Qs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},o=Hv(i),o.return=r,r.child=o,Qt=r,at=null)):i=null,i===null)throw Xs(r);return sp(i)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,f?(ir(),f=r.mode,S=vh({mode:"hidden",children:S},f),u=ia(u,f,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=Tm(o),u.childLanes=Em(i,b,o),r.memoizedState=bm,Kl(null,u)):(nr(r),wm(r,S))}var O=i.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(p)r.flags&256?(nr(r),r.flags&=-257,r=Sm(i,r,o)):r.memoizedState!==null?(ir(),r.child=i.child,r.flags|=128,r=null):(ir(),S=u.fallback,f=r.mode,u=vh({mode:"visible",children:u.children},f),S=ia(S,f,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,ca(r,i.child,null,o),u=r.child,u.memoizedState=Tm(o),u.childLanes=Em(i,b,o),r.memoizedState=bm,r=Kl(null,u));else if(nr(r),sp(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var K=b.dgst;b=K,u=Error(s(419)),u.stack="",u.digest=b,Ol({value:u,source:null,stack:null}),r=Sm(i,r,o)}else if(Mt||to(i,r,o,!1),b=(o&i.childLanes)!==0,Mt||b){if(b=st,b!==null&&(u=dl(b,o),u!==0&&u!==O.retryLane))throw O.retryLane=u,na(i,u),Tn(b,i,u),vm;ip(S)||Ch(),r=Sm(i,r,o)}else ip(S)?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,at=Kn(S.nextSibling),Qt=r,qe=!0,$s=null,Hn=!1,i!==null&&Wv(r,i),r=wm(r,u.children),r.flags|=4096);return r}return f?(ir(),S=u.fallback,f=r.mode,O=i.child,K=O.sibling,u=os(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,K!==null?S=os(K,S):(S=ia(S,f,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,Kl(null,u),u=r.child,S=i.child.memoizedState,S===null?S=Tm(o):(f=S.cachePool,f!==null?(O=Dt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=Zv(),S={baseLanes:S.baseLanes|o,cachePool:f}),u.memoizedState=S,u.childLanes=Em(i,b,o),r.memoizedState=bm,Kl(i.child,u)):(nr(r),o=i.child,i=o.sibling,o=os(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function wm(i,r){return r=vh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function vh(i,r){return i=Cn(22,i,null,r),i.lanes=0,i}function Sm(i,r,o){return ca(r,i.child,null,o),i=wm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function f0(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Ud(i.return,r,o)}function Am(i,r,o,u,f,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=f,b.treeForkCount=p)}function d0(i,r,o){var u=r.pendingProps,f=u.revealOrder,p=u.tail;u=u.children;var b=Et.current,S=(b&2)!==0;if(S?(b=b&1|2,r.flags|=128):b&=1,ce(Et,b),Xt(i,r,u,o),u=qe?Ml:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&f0(i,o,r);else if(i.tag===19)f0(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&ah(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Am(r,!1,f,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&ah(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Am(r,!0,o,null,p,u);break;case"together":Am(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ds(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),ar|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(to(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=os(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=os(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function xm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Jc(i)))}function KC(i,r,o){switch(r.tag){case 3:rt(r,r.stateNode.containerInfo),Js(r,Dt,i.memoizedState.cache),sa();break;case 27:case 5:Ei(r);break;case 4:rt(r,r.stateNode.containerInfo);break;case 10:Js(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Xd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(nr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?h0(i,r,o):(nr(r),i=ds(i,r,o),i!==null?i.sibling:null);nr(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(to(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return d0(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ce(Et,Et.current),u)break;return null;case 22:return r.lanes=0,r0(i,r,o,r.pendingProps);case 24:Js(r,Dt,i.memoizedState.cache)}return ds(i,r,o)}function m0(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Mt=!0;else{if(!xm(i,o)&&(r.flags&128)===0)return Mt=!1,KC(i,r,o);Mt=(i.flags&131072)!==0}else Mt=!1,qe&&(r.flags&1048576)!==0&&Kv(r,Ml,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=la(r.elementType),r.type=i,typeof i=="function")Dd(i)?(u=fa(i,u),r.tag=1,r=u0(null,r,i,u,o)):(r.tag=0,r=_m(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===le){r.tag=11,r=n0(null,r,i,u,o);break e}else if(f===C){r.tag=14,r=i0(null,r,i,u,o);break e}}throw r=Fe(i)||i,Error(s(306,r,""))}}return r;case 0:return _m(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=fa(u,r.pendingProps),u0(i,r,u,f,o);case 3:e:{if(rt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var p=r.memoizedState;f=p.element,Kd(i,r),Bl(r,u,null,o);var b=r.memoizedState;if(u=b.cache,Js(r,Dt,u),u!==p.cache&&zd(r,[Dt],o,!0),zl(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=c0(i,r,u,o);break e}else if(u!==f){f=Bn(Error(s(424)),r),Ol(f),r=c0(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(at=Kn(i.firstChild),Qt=r,qe=!0,$s=null,Hn=!0,o=r_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(sa(),u===f){r=ds(i,r,o);break e}Xt(i,r,u,o)}r=r.child}return r;case 26:return yh(i,r),i===null?(o=Ab(r.type,null,r.pendingProps,null))?r.memoizedState=o:qe||(o=r.type,i=r.pendingProps,u=Oh(he.current).createElement(o),u[Rt]=r,u[qt]=i,Jt(u,o,i),It(u),r.stateNode=u):r.memoizedState=Ab(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ei(r),i===null&&qe&&(u=r.stateNode=Eb(r.type,r.pendingProps,he.current),Qt=r,Hn=!0,f=at,hr(r.type)?(rp=f,at=Kn(u.firstChild)):at=f),Xt(i,r,r.pendingProps.children,o),yh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&qe&&((f=u=at)&&(u=ER(u,r.type,r.pendingProps,Hn),u!==null?(r.stateNode=u,Qt=r,at=Kn(u.firstChild),Hn=!1,f=!0):f=!1),f||Xs(r)),Ei(r),f=r.type,p=r.pendingProps,b=i!==null?i.memoizedProps:null,u=p.children,ep(f,p)?u=null:b!==null&&ep(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=Zd(i,r,LC,null,null,o),ou._currentValue=f),yh(i,r),Xt(i,r,u,o),r.child;case 6:return i===null&&qe&&((i=o=at)&&(o=wR(o,r.pendingProps,Hn),o!==null?(r.stateNode=o,Qt=r,at=null,i=!0):i=!1),i||Xs(r)),null;case 13:return h0(i,r,o);case 4:return rt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=ca(r,null,u,o):Xt(i,r,u,o),r.child;case 11:return n0(i,r,r.type,r.pendingProps,o);case 7:return Xt(i,r,r.pendingProps,o),r.child;case 8:return Xt(i,r,r.pendingProps.children,o),r.child;case 12:return Xt(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Js(r,r.type,u.value),Xt(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,aa(r),f=$t(f),u=u(f),r.flags|=1,Xt(i,r,u,o),r.child;case 14:return i0(i,r,r.type,r.pendingProps,o);case 15:return s0(i,r,r.type,r.pendingProps,o);case 19:return d0(i,r,o);case 31:return GC(i,r,o);case 22:return r0(i,r,o,r.pendingProps);case 24:return aa(r),u=$t(Dt),i===null?(f=Fd(),f===null&&(f=st,p=Bd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:u,cache:f},Gd(r),Js(r,Dt,f)):((i.lanes&o)!==0&&(Kd(i,r),Bl(r,null,null,o),zl()),f=i.memoizedState,p=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Js(r,Dt,u)):(u=p.cache,Js(r,Dt,u),u!==f.cache&&zd(r,[Dt],o,!0))),Xt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ms(i){i.flags|=4}function Cm(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(B0())i.flags|=8192;else throw ua=nh,Hd}else i.flags&=-16777217}function p0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Nb(r))if(B0())i.flags|=8192;else throw ua=nh,Hd}function _h(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Ac():536870912,i.lanes|=r,mo|=r)}function Wl(i,r){if(!qe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ot(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function WC(i,r,o){var u=r.pendingProps;switch(Vd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),cs(Dt),it(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(eo(r)?ms(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ld())),ot(r),null;case 26:var f=r.type,p=r.memoizedState;return i===null?(ms(r),p!==null?(ot(r),p0(r,p)):(ot(r),Cm(r,f,null,u,o))):p?p!==i.memoizedState?(ms(r),ot(r),p0(r,p)):(ot(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&ms(r),ot(r),Cm(r,f,i,u,o)),null;case 27:if(ns(r),o=he.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ms(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ot(r),null}i=de.current,eo(r)?Yv(r):(i=Eb(f,u,o),r.stateNode=i,ms(r))}return ot(r),null;case 5:if(ns(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ms(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(p=de.current,eo(r))Yv(r);else{var b=Oh(he.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(f,{is:u.is}):b.createElement(f)}}p[Rt]=r,p[qt]=u;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=p;e:switch(Jt(p,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ms(r)}}return ot(r),Cm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&ms(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=he.current,eo(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=Qt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Rt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||hb(i.nodeValue,o)),i||Xs(r,!0)}else i=Oh(i).createTextNode(u),i[Rt]=r,r.stateNode=i}return ot(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=eo(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Rt]=r}else sa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),i=!1}else o=Ld(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(In(r),r):(In(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ot(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=eo(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Rt]=r}else sa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),f=!1}else f=Ld(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(In(r),r):(In(r),null)}return In(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),_h(r,r.updateQueue),ot(r),null);case 4:return it(),i===null&&Qm(r.stateNode.containerInfo),ot(r),null;case 10:return cs(r.type),ot(r),null;case 19:if(Z(Et),u=r.memoizedState,u===null)return ot(r),null;if(f=(r.flags&128)!==0,p=u.rendering,p===null)if(f)Wl(u,!1);else{if(vt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=ah(i),p!==null){for(r.flags|=128,Wl(u,!1),i=p.updateQueue,r.updateQueue=i,_h(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Fv(o,i),o=o.sibling;return ce(Et,Et.current&1|2),qe&&ls(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&cn()>Sh&&(r.flags|=128,f=!0,Wl(u,!1),r.lanes=4194304)}else{if(!f)if(i=ah(p),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,_h(r,i),Wl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!qe)return ot(r),null}else 2*cn()-u.renderingStartTime>Sh&&o!==536870912&&(r.flags|=128,f=!0,Wl(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(i=u.last,i!==null?i.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=cn(),i.sibling=null,o=Et.current,ce(Et,f?o&1|2:o&1),qe&&ls(r,u.treeForkCount),i):(ot(r),null);case 22:case 23:return In(r),$d(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),o=r.updateQueue,o!==null&&_h(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&Z(oa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),cs(Dt),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function YC(i,r){switch(Vd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return cs(Dt),it(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ns(r),null;case 31:if(r.memoizedState!==null){if(In(r),r.alternate===null)throw Error(s(340));sa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(In(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));sa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return Z(Et),null;case 4:return it(),null;case 10:return cs(r.type),null;case 22:case 23:return In(r),$d(),i!==null&&Z(oa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return cs(Dt),null;case 25:return null;default:return null}}function g0(i,r){switch(Vd(r),r.tag){case 3:cs(Dt),it();break;case 26:case 27:case 5:ns(r);break;case 4:it();break;case 31:r.memoizedState!==null&&In(r);break;case 13:In(r);break;case 19:Z(Et);break;case 10:cs(r.type);break;case 22:case 23:In(r),$d(),i!==null&&Z(oa);break;case 24:cs(Dt)}}function Yl(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var p=o.create,b=o.inst;u=p(),b.destroy=u}o=o.next}while(o!==f)}}catch(S){Je(r,r.return,S)}}function sr(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&i)===i){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,f=r;var O=o,K=S;try{K()}catch(J){Je(f,O,J)}}}u=u.next}while(u!==p)}}catch(J){Je(r,r.return,J)}}function y0(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{o_(r,o)}catch(u){Je(i,i.return,u)}}}function v0(i,r,o){o.props=fa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Je(i,r,u)}}function Ql(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Je(i,r,f)}}function qi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Je(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Je(i,r,f)}else o.current=null}function _0(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Je(i,i.return,f)}}function Rm(i,r,o){try{var u=i.stateNode;gR(u,i.type,o,r),u[qt]=r}catch(f){Je(i,i.return,f)}}function b0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&hr(i.type)||i.tag===4}function Im(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||b0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&hr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Nm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ai));else if(u!==4&&(u===27&&hr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Nm(i,r,o),i=i.sibling;i!==null;)Nm(i,r,o),i=i.sibling}function bh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&hr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(bh(i,r,o),i=i.sibling;i!==null;)bh(i,r,o),i=i.sibling}function T0(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Jt(r,u,o),r[Rt]=i,r[qt]=o}catch(p){Je(i,i.return,p)}}var ps=!1,Ot=!1,Dm=!1,E0=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function QC(i,r){if(i=i.containerInfo,Jm=Bh,i=Ov(i),Sd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var b=0,S=-1,O=-1,K=0,J=0,te=i,W=null;t:for(;;){for(var $;te!==o||f!==0&&te.nodeType!==3||(S=b+f),te!==p||u!==0&&te.nodeType!==3||(O=b+u),te.nodeType===3&&(b+=te.nodeValue.length),($=te.firstChild)!==null;)W=te,te=$;for(;;){if(te===i)break t;if(W===o&&++K===f&&(S=b),W===p&&++J===u&&(O=b),($=te.nextSibling)!==null)break;te=W,W=te.parentNode}te=$}o=S===-1||O===-1?null:{start:S,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Zm={focusedElem:i,selectionRange:o},Bh=!1,Ht=r;Ht!==null;)if(r=Ht,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Ht=i;else for(;Ht!==null;){switch(r=Ht,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var pe=fa(o.type,f);i=u.getSnapshotBeforeUpdate(pe,p),u.__reactInternalSnapshotBeforeUpdate=i}catch(Te){Je(o,o.return,Te)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)np(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":np(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ht=i;break}Ht=r.return}}function w0(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ys(i,o),u&4&&Yl(5,o);break;case 1:if(ys(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){Je(o,o.return,b)}else{var f=fa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Je(o,o.return,b)}}u&64&&y0(o),u&512&&Ql(o,o.return);break;case 3:if(ys(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{o_(i,r)}catch(b){Je(o,o.return,b)}}break;case 27:r===null&&u&4&&T0(o);case 26:case 5:ys(i,o),r===null&&u&4&&_0(o),u&512&&Ql(o,o.return);break;case 12:ys(i,o);break;case 31:ys(i,o),u&4&&x0(i,o);break;case 13:ys(i,o),u&4&&C0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=sR.bind(null,o),SR(i,o))));break;case 22:if(u=o.memoizedState!==null||ps,!u){r=r!==null&&r.memoizedState!==null||Ot,f=ps;var p=Ot;ps=u,(Ot=r)&&!p?vs(i,o,(o.subtreeFlags&8772)!==0):ys(i,o),ps=f,Ot=p}break;case 30:break;default:ys(i,o)}}function S0(i){var r=i.alternate;r!==null&&(i.alternate=null,S0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&La(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ht=null,yn=!1;function gs(i,r,o){for(o=o.child;o!==null;)A0(i,r,o),o=o.sibling}function A0(i,r,o){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ni,o)}catch{}switch(o.tag){case 26:Ot||qi(o,r),gs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ot||qi(o,r);var u=ht,f=yn;hr(o.type)&&(ht=o.stateNode,yn=!1),gs(i,r,o),su(o.stateNode),ht=u,yn=f;break;case 5:Ot||qi(o,r);case 6:if(u=ht,f=yn,ht=null,gs(i,r,o),ht=u,yn=f,ht!==null)if(yn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(p){Je(o,r,p)}else try{ht.removeChild(o.stateNode)}catch(p){Je(o,r,p)}break;case 18:ht!==null&&(yn?(i=ht,yb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Eo(i)):yb(ht,o.stateNode));break;case 4:u=ht,f=yn,ht=o.stateNode.containerInfo,yn=!0,gs(i,r,o),ht=u,yn=f;break;case 0:case 11:case 14:case 15:sr(2,o,r),Ot||sr(4,o,r),gs(i,r,o);break;case 1:Ot||(qi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&v0(o,r,u)),gs(i,r,o);break;case 21:gs(i,r,o);break;case 22:Ot=(u=Ot)||o.memoizedState!==null,gs(i,r,o),Ot=u;break;default:gs(i,r,o)}}function x0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Eo(i)}catch(o){Je(r,r.return,o)}}}function C0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Eo(i)}catch(o){Je(r,r.return,o)}}function $C(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new E0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new E0),r;default:throw Error(s(435,i.tag))}}function Th(i,r){var o=$C(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=rR.bind(null,i,u);u.then(f,f)}})}function vn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=i,b=r,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(hr(S.type)){ht=S.stateNode,yn=!1;break e}break;case 5:ht=S.stateNode,yn=!1;break e;case 3:case 4:ht=S.stateNode.containerInfo,yn=!0;break e}S=S.return}if(ht===null)throw Error(s(160));A0(p,b,f),ht=null,yn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)R0(r,i),r=r.sibling}var fi=null;function R0(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:vn(r,i),_n(i),u&4&&(sr(3,i,i.return),Yl(3,i),sr(5,i,i.return));break;case 1:vn(r,i),_n(i),u&512&&(Ot||o===null||qi(o,o.return)),u&64&&ps&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=fi;if(vn(r,i),_n(i),u&512&&(Ot||o===null||qi(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ri]||p[Rt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),Jt(p,u,o),p[Rt]=i,It(p),u=p;break e;case"link":var b=Rb("link","href",f).get(u+(o.href||""));if(b){for(var S=0;S<b.length;S++)if(p=b[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(S,1);break t}}p=f.createElement(u),Jt(p,u,o),f.head.appendChild(p);break;case"meta":if(b=Rb("meta","content",f).get(u+(o.content||""))){for(S=0;S<b.length;S++)if(p=b[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(S,1);break t}}p=f.createElement(u),Jt(p,u,o),f.head.appendChild(p);break;default:throw Error(s(468,u))}p[Rt]=i,It(p),u=p}i.stateNode=u}else Ib(f,i.type,i.stateNode);else i.stateNode=Cb(f,u,i.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?Ib(f,i.type,i.stateNode):Cb(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Rm(i,i.memoizedProps,o.memoizedProps)}break;case 27:vn(r,i),_n(i),u&512&&(Ot||o===null||qi(o,o.return)),o!==null&&u&4&&Rm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(vn(r,i),_n(i),u&512&&(Ot||o===null||qi(o,o.return)),i.flags&32){f=i.stateNode;try{gn(f,"")}catch(pe){Je(i,i.return,pe)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Rm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Dm=!0);break;case 6:if(vn(r,i),_n(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(pe){Je(i,i.return,pe)}}break;case 3:if(Lh=null,f=fi,fi=Vh(r.containerInfo),vn(r,i),fi=f,_n(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Eo(r.containerInfo)}catch(pe){Je(i,i.return,pe)}Dm&&(Dm=!1,I0(i));break;case 4:u=fi,fi=Vh(i.stateNode.containerInfo),vn(r,i),_n(i),fi=u;break;case 12:vn(r,i),_n(i);break;case 31:vn(r,i),_n(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Th(i,u)));break;case 13:vn(r,i),_n(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(wh=cn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Th(i,u)));break;case 22:f=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,K=ps,J=Ot;if(ps=K||f,Ot=J||O,vn(r,i),Ot=J,ps=K,_n(i),u&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||O||ps||Ot||da(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(p=O.stateNode,f)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=O.stateNode;var te=O.memoizedProps.style,W=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(pe){Je(O,O.return,pe)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(pe){Je(O,O.return,pe)}}}else if(r.tag===18){if(o===null){O=r;try{var $=O.stateNode;f?vb($,!0):vb(O.stateNode,!1)}catch(pe){Je(O,O.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Th(i,o))));break;case 19:vn(r,i),_n(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Th(i,u)));break;case 30:break;case 21:break;default:vn(r,i),_n(i)}}function _n(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(b0(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=Im(i);bh(i,p,f);break;case 5:var b=o.stateNode;o.flags&32&&(gn(b,""),o.flags&=-33);var S=Im(i);bh(i,S,b);break;case 3:case 4:var O=o.stateNode.containerInfo,K=Im(i);Nm(i,K,O);break;default:throw Error(s(161))}}catch(J){Je(i,i.return,J)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function I0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;I0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ys(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)w0(i,r.alternate,r),r=r.sibling}function da(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:sr(4,r,r.return),da(r);break;case 1:qi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&v0(r,r.return,o),da(r);break;case 27:su(r.stateNode);case 26:case 5:qi(r,r.return),da(r);break;case 22:r.memoizedState===null&&da(r);break;case 30:da(r);break;default:da(r)}i=i.sibling}}function vs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:vs(f,p,o),Yl(4,p);break;case 1:if(vs(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Je(u,u.return,K)}if(u=p,f=u.updateQueue,f!==null){var S=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)a_(O[f],S)}catch(K){Je(u,u.return,K)}}o&&b&64&&y0(p),Ql(p,p.return);break;case 27:T0(p);case 26:case 5:vs(f,p,o),o&&u===null&&b&4&&_0(p),Ql(p,p.return);break;case 12:vs(f,p,o);break;case 31:vs(f,p,o),o&&b&4&&x0(f,p);break;case 13:vs(f,p,o),o&&b&4&&C0(f,p);break;case 22:p.memoizedState===null&&vs(f,p,o),Ql(p,p.return);break;case 30:break;default:vs(f,p,o)}r=r.sibling}}function Pm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Vl(o))}function Mm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Vl(i))}function di(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)N0(i,r,o,u),r=r.sibling}function N0(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:di(i,r,o,u),f&2048&&Yl(9,r);break;case 1:di(i,r,o,u);break;case 3:di(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Vl(i)));break;case 12:if(f&2048){di(i,r,o,u),i=r.stateNode;try{var p=r.memoizedProps,b=p.id,S=p.onPostCommit;typeof S=="function"&&S(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){Je(r,r.return,O)}}else di(i,r,o,u);break;case 31:di(i,r,o,u);break;case 13:di(i,r,o,u);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?di(i,r,o,u):$l(i,r):p._visibility&2?di(i,r,o,u):(p._visibility|=2,co(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Pm(b,r);break;case 24:di(i,r,o,u),f&2048&&Mm(r.alternate,r);break;default:di(i,r,o,u)}}function co(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,b=r,S=o,O=u,K=b.flags;switch(b.tag){case 0:case 11:case 15:co(p,b,S,O,f),Yl(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&2?co(p,b,S,O,f):$l(p,b):(J._visibility|=2,co(p,b,S,O,f)),f&&K&2048&&Pm(b.alternate,b);break;case 24:co(p,b,S,O,f),f&&K&2048&&Mm(b.alternate,b);break;default:co(p,b,S,O,f)}r=r.sibling}}function $l(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:$l(o,u),f&2048&&Pm(u.alternate,u);break;case 24:$l(o,u),f&2048&&Mm(u.alternate,u);break;default:$l(o,u)}r=r.sibling}}var Xl=8192;function ho(i,r,o){if(i.subtreeFlags&Xl)for(i=i.child;i!==null;)D0(i,r,o),i=i.sibling}function D0(i,r,o){switch(i.tag){case 26:ho(i,r,o),i.flags&Xl&&i.memoizedState!==null&&kR(o,fi,i.memoizedState,i.memoizedProps);break;case 5:ho(i,r,o);break;case 3:case 4:var u=fi;fi=Vh(i.stateNode.containerInfo),ho(i,r,o),fi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Xl,Xl=16777216,ho(i,r,o),Xl=u):ho(i,r,o));break;default:ho(i,r,o)}}function P0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Jl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ht=u,O0(u,i)}P0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)M0(i),i=i.sibling}function M0(i){switch(i.tag){case 0:case 11:case 15:Jl(i),i.flags&2048&&sr(9,i,i.return);break;case 3:Jl(i);break;case 12:Jl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Eh(i)):Jl(i);break;default:Jl(i)}}function Eh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ht=u,O0(u,i)}P0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:sr(8,r,r.return),Eh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Eh(r));break;default:Eh(r)}i=i.sibling}}function O0(i,r){for(;Ht!==null;){var o=Ht;switch(o.tag){case 0:case 11:case 15:sr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Vl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ht=u;else e:for(o=i;Ht!==null;){u=Ht;var f=u.sibling,p=u.return;if(S0(u),u===o){Ht=null;break e}if(f!==null){f.return=p,Ht=f;break e}Ht=p}}}var XC={getCacheForType:function(i){var r=$t(Dt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return $t(Dt).controller.signal}},JC=typeof WeakMap=="function"?WeakMap:Map,Ye=0,st=null,Ve=null,Le=0,Xe=0,Nn=null,rr=!1,fo=!1,Om=!1,_s=0,vt=0,ar=0,ma=0,Vm=0,Dn=0,mo=0,Zl=null,bn=null,km=!1,wh=0,V0=0,Sh=1/0,Ah=null,or=null,Ut=0,lr=null,po=null,bs=0,Lm=0,jm=null,k0=null,eu=0,Um=null;function Pn(){return(Ye&2)!==0&&Le!==0?Le&-Le:X.T!==null?Gm():xc()}function L0(){if(Dn===0)if((Le&536870912)===0||qe){var i=Br;Br<<=1,(Br&3932160)===0&&(Br=262144),Dn=i}else Dn=536870912;return i=Rn.current,i!==null&&(i.flags|=32),Dn}function Tn(i,r,o){(i===st&&(Xe===2||Xe===9)||i.cancelPendingCommit!==null)&&(go(i,0),ur(i,Le,Dn,!1)),qr(i,o),((Ye&2)===0||i!==st)&&(i===st&&((Ye&2)===0&&(ma|=o),vt===4&&ur(i,Le,Dn,!1)),Fi(i))}function j0(i,r,o){if((Ye&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ii(i,r),f=u?tR(i,r):Bm(i,r,!0),p=u;do{if(f===0){fo&&!u&&ur(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!ZC(o)){f=Bm(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var S=i;f=Zl;var O=S.current.memoizedState.isDehydrated;if(O&&(go(S,b).flags|=256),b=Bm(S,b,!1),b!==2){if(Om&&!O){S.errorRecoveryDisabledLanes|=p,ma|=p,f=4;break e}p=bn,bn=f,p!==null&&(bn===null?bn=p:bn.push.apply(bn,p))}f=b}if(p=!1,f!==2)continue}}if(f===1){go(i,0),ur(i,r,0,!0);break}e:{switch(u=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ur(u,r,Dn,!rr);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=wh+300-cn(),10<f)){if(ur(u,r,Dn,!rr),Ai(u,0,!0)!==0)break e;bs=r,u.timeoutHandle=pb(U0.bind(null,u,o,bn,Ah,km,r,Dn,ma,mo,rr,p,"Throttled",-0,0),f);break e}U0(u,o,bn,Ah,km,r,Dn,ma,mo,rr,p,null,-0,0)}}break}while(!0);Fi(i)}function U0(i,r,o,u,f,p,b,S,O,K,J,te,W,$){if(i.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},D0(r,p,te);var pe=(p&62914560)===p?wh-cn():(p&4194048)===p?V0-cn():0;if(pe=LR(te,pe),pe!==null){bs=p,i.cancelPendingCommit=pe(W0.bind(null,i,r,p,o,u,f,b,S,O,J,te,null,W,$)),ur(i,p,b,!K);return}}W0(i,r,p,o,u,f,b,S,O)}function ZC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!xn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ur(i,r,o,u){r&=~Vm,r&=~ma,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var p=31-bt(f),b=1<<p;u[p]=-1,f&=~b}o!==0&&Fr(i,o,r)}function xh(){return(Ye&6)===0?(tu(0),!1):!0}function zm(){if(Ve!==null){if(Xe===0)var i=Ve.return;else i=Ve,us=ra=null,nm(i),ro=null,Ll=0,i=Ve;for(;i!==null;)g0(i.alternate,i),i=i.return;Ve=null}}function go(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,_R(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),bs=0,zm(),st=i,Ve=o=os(i.current,null),Le=r,Xe=0,Nn=null,rr=!1,fo=ii(i,r),Om=!1,mo=Dn=Vm=ma=ar=vt=0,bn=Zl=null,km=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-bt(u),p=1<<f;r|=i[f],u&=~p}return _s=r,Wc(),o}function z0(i,r){De=null,X.H=Gl,r===so||r===th?(r=n_(),Xe=3):r===Hd?(r=n_(),Xe=4):Xe=r===vm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Nn=r,Ve===null&&(vt=1,ph(i,Bn(r,i.current)))}function B0(){var i=Rn.current;return i===null?!0:(Le&4194048)===Le?Gn===null:(Le&62914560)===Le||(Le&536870912)!==0?i===Gn:!1}function q0(){var i=X.H;return X.H=Gl,i===null?Gl:i}function F0(){var i=X.A;return X.A=XC,i}function Ch(){vt=4,rr||(Le&4194048)!==Le&&Rn.current!==null||(fo=!0),(ar&134217727)===0&&(ma&134217727)===0||st===null||ur(st,Le,Dn,!1)}function Bm(i,r,o){var u=Ye;Ye|=2;var f=q0(),p=F0();(st!==i||Le!==r)&&(Ah=null,go(i,r)),r=!1;var b=vt;e:do try{if(Xe!==0&&Ve!==null){var S=Ve,O=Nn;switch(Xe){case 8:zm(),b=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(r=!0);var K=Xe;if(Xe=0,Nn=null,yo(i,S,O,K),o&&fo){b=0;break e}break;default:K=Xe,Xe=0,Nn=null,yo(i,S,O,K)}}eR(),b=vt;break}catch(J){z0(i,J)}while(!0);return r&&i.shellSuspendCounter++,us=ra=null,Ye=u,X.H=f,X.A=p,Ve===null&&(st=null,Le=0,Wc()),b}function eR(){for(;Ve!==null;)H0(Ve)}function tR(i,r){var o=Ye;Ye|=2;var u=q0(),f=F0();st!==i||Le!==r?(Ah=null,Sh=cn()+500,go(i,r)):fo=ii(i,r);e:do try{if(Xe!==0&&Ve!==null){r=Ve;var p=Nn;t:switch(Xe){case 1:Xe=0,Nn=null,yo(i,r,p,1);break;case 2:case 9:if(e_(p)){Xe=0,Nn=null,G0(r);break}r=function(){Xe!==2&&Xe!==9||st!==i||(Xe=7),Fi(i)},p.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:e_(p)?(Xe=0,Nn=null,G0(r)):(Xe=0,Nn=null,yo(i,r,p,7));break;case 5:var b=null;switch(Ve.tag){case 26:b=Ve.memoizedState;case 5:case 27:var S=Ve;if(b?Nb(b):S.stateNode.complete){Xe=0,Nn=null;var O=S.sibling;if(O!==null)Ve=O;else{var K=S.return;K!==null?(Ve=K,Rh(K)):Ve=null}break t}}Xe=0,Nn=null,yo(i,r,p,5);break;case 6:Xe=0,Nn=null,yo(i,r,p,6);break;case 8:zm(),vt=6;break e;default:throw Error(s(462))}}nR();break}catch(J){z0(i,J)}while(!0);return us=ra=null,X.H=u,X.A=f,Ye=o,Ve!==null?0:(st=null,Le=0,Wc(),vt)}function nR(){for(;Ve!==null&&!yd();)H0(Ve)}function H0(i){var r=m0(i.alternate,i,_s);i.memoizedProps=i.pendingProps,r===null?Rh(i):Ve=r}function G0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=l0(o,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=l0(o,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:nm(r);default:g0(o,r),r=Ve=Fv(r,_s),r=m0(o,r,_s)}i.memoizedProps=i.pendingProps,r===null?Rh(i):Ve=r}function yo(i,r,o,u){us=ra=null,nm(r),ro=null,Ll=0;var f=r.return;try{if(HC(i,f,r,o,Le)){vt=1,ph(i,Bn(o,i.current)),Ve=null;return}}catch(p){if(f!==null)throw Ve=f,p;vt=1,ph(i,Bn(o,i.current)),Ve=null;return}r.flags&32768?(qe||u===1?i=!0:fo||(Le&536870912)!==0?i=!1:(rr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Rn.current,u!==null&&u.tag===13&&(u.flags|=16384))),K0(r,i)):Rh(r)}function Rh(i){var r=i;do{if((r.flags&32768)!==0){K0(r,rr);return}i=r.return;var o=WC(r.alternate,r,_s);if(o!==null){Ve=o;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=i}while(r!==null);vt===0&&(vt=5)}function K0(i,r){do{var o=YC(i.alternate,i);if(o!==null){o.flags&=32767,Ve=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ve=i;return}Ve=i=o}while(i!==null);vt=6,Ve=null}function W0(i,r,o,u,f,p,b,S,O){i.cancelPendingCommit=null;do Ih();while(Ut!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Id,bd(i,o,p,b,S,O),i===st&&(Ve=st=null,Le=0),po=r,lr=i,bs=o,Lm=p,jm=f,k0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,aR(Us,function(){return J0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,f=re.p,re.p=2,b=Ye,Ye|=4;try{QC(i,r,o)}finally{Ye=b,re.p=f,X.T=u}}Ut=1,Y0(),Q0(),$0()}}function Y0(){if(Ut===1){Ut=0;var i=lr,r=po,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=re.p;re.p=2;var f=Ye;Ye|=4;try{R0(r,i);var p=Zm,b=Ov(i.containerInfo),S=p.focusedElem,O=p.selectionRange;if(b!==S&&S&&S.ownerDocument&&Mv(S.ownerDocument.documentElement,S)){if(O!==null&&Sd(S)){var K=O.start,J=O.end;if(J===void 0&&(J=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(J,S.value.length);else{var te=S.ownerDocument||document,W=te&&te.defaultView||window;if(W.getSelection){var $=W.getSelection(),pe=S.textContent.length,Te=Math.min(O.start,pe),nt=O.end===void 0?Te:Math.min(O.end,pe);!$.extend&&Te>nt&&(b=nt,nt=Te,Te=b);var q=Pv(S,Te),j=Pv(S,nt);if(q&&j&&($.rangeCount!==1||$.anchorNode!==q.node||$.anchorOffset!==q.offset||$.focusNode!==j.node||$.focusOffset!==j.offset)){var G=te.createRange();G.setStart(q.node,q.offset),$.removeAllRanges(),Te>nt?($.addRange(G),$.extend(j.node,j.offset)):(G.setEnd(j.node,j.offset),$.addRange(G))}}}}for(te=[],$=S;$=$.parentNode;)$.nodeType===1&&te.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var ee=te[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Bh=!!Jm,Zm=Jm=null}finally{Ye=f,re.p=u,X.T=o}}i.current=r,Ut=2}}function Q0(){if(Ut===2){Ut=0;var i=lr,r=po,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=re.p;re.p=2;var f=Ye;Ye|=4;try{w0(i,r.alternate,r)}finally{Ye=f,re.p=u,X.T=o}}Ut=3}}function $0(){if(Ut===4||Ut===3){Ut=0,_c();var i=lr,r=po,o=bs,u=k0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ut=5:(Ut=0,po=lr=null,X0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(or=null),is(o),r=r.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ni,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=X.T,f=re.p,re.p=2,X.T=null;try{for(var p=i.onRecoverableError,b=0;b<u.length;b++){var S=u[b];p(S.value,{componentStack:S.stack})}}finally{X.T=r,re.p=f}}(bs&3)!==0&&Ih(),Fi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===Um?eu++:(eu=0,Um=i):eu=0,tu(0)}}function X0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Vl(r)))}function Ih(){return Y0(),Q0(),$0(),J0()}function J0(){if(Ut!==5)return!1;var i=lr,r=Lm;Lm=0;var o=is(bs),u=X.T,f=re.p;try{re.p=32>o?32:o,X.T=null,o=jm,jm=null;var p=lr,b=bs;if(Ut=0,po=lr=null,bs=0,(Ye&6)!==0)throw Error(s(331));var S=Ye;if(Ye|=4,M0(p.current),N0(p,p.current,b,o),Ye=S,tu(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ni,p)}catch{}return!0}finally{re.p=f,X.T=u,X0(i,r)}}function Z0(i,r,o){r=Bn(o,r),r=ym(i.stateNode,r,2),i=tr(i,r,2),i!==null&&(qr(i,2),Fi(i))}function Je(i,r,o){if(i.tag===3)Z0(i,i,o);else for(;r!==null;){if(r.tag===3){Z0(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(or===null||!or.has(u))){i=Bn(o,i),o=e0(2),u=tr(r,o,2),u!==null&&(t0(o,u,r,i),qr(u,2),Fi(u));break}}r=r.return}}function qm(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new JC;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Om=!0,f.add(o),i=iR.bind(null,i,r,o),r.then(i,i))}function iR(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,st===i&&(Le&o)===o&&(vt===4||vt===3&&(Le&62914560)===Le&&300>cn()-wh?(Ye&2)===0&&go(i,0):Vm|=o,mo===Le&&(mo=0)),Fi(i)}function eb(i,r){r===0&&(r=Ac()),i=na(i,r),i!==null&&(qr(i,r),Fi(i))}function sR(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),eb(i,o)}function rR(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),eb(i,o)}function aR(i,r){return jt(i,r)}var Nh=null,vo=null,Fm=!1,Dh=!1,Hm=!1,cr=0;function Fi(i){i!==vo&&i.next===null&&(vo===null?Nh=vo=i:vo=vo.next=i),Dh=!0,Fm||(Fm=!0,lR())}function tu(i,r){if(!Hm&&Dh){Hm=!0;do for(var o=!1,u=Nh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var b=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-bt(42|i)+1)-1,p&=f&~(b&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,sb(u,p))}else p=Le,p=Ai(u,u===st?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ii(u,p)||(o=!0,sb(u,p));u=u.next}while(o);Hm=!1}}function oR(){tb()}function tb(){Dh=Fm=!1;var i=0;cr!==0&&vR()&&(i=cr);for(var r=cn(),o=null,u=Nh;u!==null;){var f=u.next,p=nb(u,r);p===0?(u.next=null,o===null?Nh=f:o.next=f,f===null&&(vo=o)):(o=u,(i!==0||(p&3)!==0)&&(Dh=!0)),u=f}Ut!==0&&Ut!==5||tu(i),cr!==0&&(cr=0)}function nb(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var b=31-bt(p),S=1<<b,O=f[b];O===-1?((S&o)===0||(S&u)!==0)&&(f[b]=_d(S,r)):O<=r&&(i.expiredLanes|=S),p&=~S}if(r=st,o=Le,o=Ai(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Xe===2||Xe===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&js(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ii(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&js(u),is(o)){case 2:case 8:o=hl;break;case 32:o=Us;break;case 268435456:o=bc;break;default:o=Us}return u=ib.bind(null,i),o=jt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&js(u),i.callbackPriority=2,i.callbackNode=null,2}function ib(i,r){if(Ut!==0&&Ut!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Ih()&&i.callbackNode!==o)return null;var u=Le;return u=Ai(i,i===st?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(j0(i,u,r),nb(i,cn()),i.callbackNode!=null&&i.callbackNode===o?ib.bind(null,i):null)}function sb(i,r){if(Ih())return null;j0(i,r,!0)}function lR(){bR(function(){(Ye&6)!==0?jt(cl,oR):tb()})}function Gm(){if(cr===0){var i=no;i===0&&(i=wi,wi<<=1,(wi&261888)===0&&(wi=256)),cr=i}return cr}function rb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ba(""+i)}function ab(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function uR(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var p=rb((f[qt]||null).action),b=u.submitter;b&&(r=(r=b[qt]||null)?rb(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var S=new ki("action","action",null,u,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(cr!==0){var O=b?ab(f,b):new FormData(f);hm(o,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(S.preventDefault(),O=b?ab(f,b):new FormData(f),hm(o,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var Km=0;Km<Rd.length;Km++){var Wm=Rd[Km],cR=Wm.toLowerCase(),hR=Wm[0].toUpperCase()+Wm.slice(1);hi(cR,"on"+hR)}hi(Lv,"onAnimationEnd"),hi(jv,"onAnimationIteration"),hi(Uv,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(CC,"onTransitionRun"),hi(RC,"onTransitionStart"),hi(IC,"onTransitionCancel"),hi(zv,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function ob(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var b=u.length-1;0<=b;b--){var S=u[b],O=S.instance,K=S.currentTarget;if(S=S.listener,O!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=K;try{p(f)}catch(J){Kc(J)}f.currentTarget=null,p=O}else for(b=0;b<u.length;b++){if(S=u[b],O=S.instance,K=S.currentTarget,S=S.listener,O!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=K;try{p(f)}catch(J){Kc(J)}f.currentTarget=null,p=O}}}}function ke(i,r){var o=r[ka];o===void 0&&(o=r[ka]=new Set);var u=i+"__bubble";o.has(u)||(lb(r,i,2,!1),o.add(u))}function Ym(i,r,o){var u=0;r&&(u|=4),lb(o,i,u,r)}var Ph="_reactListening"+Math.random().toString(36).slice(2);function Qm(i){if(!i[Ph]){i[Ph]=!0,ml.forEach(function(o){o!=="selectionchange"&&(fR.has(o)||Ym(o,!1,i),Ym(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ph]||(r[Ph]=!0,Ym("selectionchange",!1,r))}}function lb(i,r,o,u){switch(Lb(r)){case 2:var f=zR;break;case 8:f=BR;break;default:f=cp}o=f.bind(null,r,o,i),f=void 0,!Yr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function $m(i,r,o,u,f){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===f)break;if(b===4)for(b=u.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;S!==null;){if(b=Ii(S),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){u=p=b;continue e}S=S.parentNode}}u=u.return}Gs(function(){var K=p,J=Ln(o),te=[];e:{var W=Bv.get(i);if(W!==void 0){var $=ki,pe=i;switch(i){case"keypress":if($r(o)===0)break e;case"keydown":case"keyup":$=Fc;break;case"focusin":pe="focus",$=Jr;break;case"focusout":pe="blur",$=Jr;break;case"beforeblur":case"afterblur":$=Jr;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=v;break;case Lv:case jv:case Uv:$=kc;break;case zv:$=x;break;case"scroll":case"scrollend":$=xl;break;case"wheel":$=Q;break;case"copy":case"cut":case"paste":$=Lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=as;break;case"toggle":case"beforetoggle":$=Ne}var Te=(r&4)!==0,nt=!Te&&(i==="scroll"||i==="scrollend"),q=Te?W!==null?W+"Capture":null:W;Te=[];for(var j=K,G;j!==null;){var ee=j;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||q===null||(ee=oi(j,q),ee!=null&&Te.push(iu(j,ee,G))),nt)break;j=j.return}0<Te.length&&(W=new $(W,pe,null,o,J),te.push({event:W,listeners:Te}))}}if((r&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",W&&o!==wl&&(pe=o.relatedTarget||o.fromElement)&&(Ii(pe)||pe[Ci]))break e;if(($||W)&&(W=J.window===J?J:(W=J.ownerDocument)?W.defaultView||W.parentWindow:window,$?(pe=o.relatedTarget||o.toElement,$=K,pe=pe?Ii(pe):null,pe!==null&&(nt=l(pe),Te=pe.tag,pe!==nt||Te!==5&&Te!==27&&Te!==6)&&(pe=null)):($=null,pe=K),$!==pe)){if(Te=Cl,ee="onMouseLeave",q="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Te=as,ee="onPointerLeave",q="onPointerEnter",j="pointer"),nt=$==null?W:Sn($),G=pe==null?W:Sn(pe),W=new Te(ee,j+"leave",$,o,J),W.target=nt,W.relatedTarget=G,ee=null,Ii(J)===K&&(Te=new Te(q,j+"enter",pe,o,J),Te.target=G,Te.relatedTarget=nt,ee=Te),nt=ee,$&&pe)t:{for(Te=dR,q=$,j=pe,G=0,ee=q;ee;ee=Te(ee))G++;ee=0;for(var ve=j;ve;ve=Te(ve))ee++;for(;0<G-ee;)q=Te(q),G--;for(;0<ee-G;)j=Te(j),ee--;for(;G--;){if(q===j||j!==null&&q===j.alternate){Te=q;break t}q=Te(q),j=Te(j)}Te=null}else Te=null;$!==null&&ub(te,W,$,Te,!1),pe!==null&&nt!==null&&ub(te,nt,pe,Te,!0)}}e:{if(W=K?Sn(K):window,$=W.nodeName&&W.nodeName.toLowerCase(),$==="select"||$==="input"&&W.type==="file")var Ge=xv;else if(Sv(W))if(Cv)Ge=SC;else{Ge=EC;var ge=TC}else $=W.nodeName,!$||$.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?K&&za(K.elementType)&&(Ge=xv):Ge=wC;if(Ge&&(Ge=Ge(i,K))){Av(te,Ge,o,J);break e}ge&&ge(i,W,K),i==="focusout"&&K&&W.type==="number"&&K.memoizedProps.value!=null&&bl(W,"number",W.value)}switch(ge=K?Sn(K):window,i){case"focusin":(Sv(ge)||ge.contentEditable==="true")&&(Ya=ge,Ad=K,Pl=null);break;case"focusout":Pl=Ad=Ya=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,Vv(te,o,J);break;case"selectionchange":if(xC)break;case"keydown":case"keyup":Vv(te,o,J)}var Pe;if(We)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Wa?Zr(i,o)&&(je="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(Ui&&o.locale!=="ko"&&(Wa||je!=="onCompositionStart"?je==="onCompositionEnd"&&Wa&&(Pe=Al()):(Vi=J,Sl="value"in Vi?Vi.value:Vi.textContent,Wa=!0)),ge=Mh(K,je),0<ge.length&&(je=new ji(je,i,null,o,J),te.push({event:je,listeners:ge}),Pe?je.data=Pe:(Pe=Ka(o),Pe!==null&&(je.data=Pe)))),(Pe=Un?yC(i,o):vC(i,o))&&(je=Mh(K,"onBeforeInput"),0<je.length&&(ge=new ji("onBeforeInput","beforeinput",null,o,J),te.push({event:ge,listeners:je}),ge.data=Pe)),uR(te,i,K,o,J)}ob(te,r)})}function iu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Mh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=oi(i,o),f!=null&&u.unshift(iu(i,f,p)),f=oi(i,r),f!=null&&u.push(iu(i,f,p))),i.tag===3)return u;i=i.return}return[]}function dR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ub(i,r,o,u,f){for(var p=r._reactName,b=[];o!==null&&o!==u;){var S=o,O=S.alternate,K=S.stateNode;if(S=S.tag,O!==null&&O===u)break;S!==5&&S!==26&&S!==27||K===null||(O=K,f?(K=oi(o,p),K!=null&&b.unshift(iu(o,K,O))):f||(K=oi(o,p),K!=null&&b.push(iu(o,K,O)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var mR=/\r\n?/g,pR=/\u0000|\uFFFD/g;function cb(i){return(typeof i=="string"?i:""+i).replace(mR,`
`).replace(pR,"")}function hb(i,r){return r=cb(r),cb(i)===r}function tt(i,r,o,u,f,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||gn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&gn(i,""+u);break;case"className":An(i,"class",u);break;case"tabIndex":An(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(i,o,u);break;case"style":El(i,u,p);break;case"data":if(r!=="object"){An(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ba(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&tt(i,r,"name",f.name,f,null),tt(i,r,"formEncType",f.formEncType,f,null),tt(i,r,"formMethod",f.formMethod,f,null),tt(i,r,"formTarget",f.formTarget,f,null)):(tt(i,r,"encType",f.encType,f,null),tt(i,r,"method",f.method,f,null),tt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ba(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ai);break;case"onScroll":u!=null&&ke("scroll",i);break;case"onScrollEnd":u!=null&&ke("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ba(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":ke("beforetoggle",i),ke("toggle",i),ja(i,"popover",u);break;case"xlinkActuate":Nt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Nt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Nt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Nt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Nt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Nt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ja(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Mc.get(o)||o,ja(i,o,u))}}function Xm(i,r,o,u,f,p){switch(o){case"style":El(i,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?gn(i,u):(typeof u=="number"||typeof u=="bigint")&&gn(i,""+u);break;case"onScroll":u!=null&&ke("scroll",i);break;case"onScrollEnd":u!=null&&ke("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[qt]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):ja(i,o,u)}}}function Jt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",i),ke("load",i);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,p,b,o,null)}}f&&tt(i,r,"srcSet",o.srcSet,o,null),u&&tt(i,r,"src",o.src,o,null);return;case"input":ke("invalid",i);var S=p=b=f=null,O=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":f=J;break;case"type":b=J;break;case"checked":O=J;break;case"defaultChecked":K=J;break;case"value":p=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:tt(i,r,u,J,o,null)}}Nc(i,p,S,O,K,b,f,!1);return;case"select":ke("invalid",i),u=b=p=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:tt(i,r,f,S,o,null)}r=p,o=b,i.multiple=!!u,r!=null?Bs(i,!!u,r,!1):o!=null&&Bs(i,!!u,o,!0);return;case"textarea":ke("invalid",i),p=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(S=o[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:tt(i,r,b,S,o,null)}qs(i,u,f,p);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:tt(i,r,O,u,o,null)}return;case"dialog":ke("beforetoggle",i),ke("toggle",i),ke("cancel",i),ke("close",i);break;case"iframe":case"object":ke("load",i);break;case"video":case"audio":for(u=0;u<nu.length;u++)ke(nu[u],i);break;case"image":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"embed":case"source":case"link":ke("error",i),ke("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,K,u,o,null)}return;default:if(za(r)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&Xm(i,r,J,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&tt(i,r,S,u,o,null))}function gR(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,b=null,S=null,O=null,K=null,J=null;for($ in o){var te=o[$];if(o.hasOwnProperty($)&&te!=null)switch($){case"checked":break;case"value":break;case"defaultValue":O=te;default:u.hasOwnProperty($)||tt(i,r,$,null,u,te)}}for(var W in u){var $=u[W];if(te=o[W],u.hasOwnProperty(W)&&($!=null||te!=null))switch(W){case"type":p=$;break;case"name":f=$;break;case"checked":K=$;break;case"defaultChecked":J=$;break;case"value":b=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==te&&tt(i,r,W,$,u,te)}}Ua(i,b,S,O,K,J,p,f);return;case"select":$=b=S=W=null;for(p in o)if(O=o[p],o.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":$=O;default:u.hasOwnProperty(p)||tt(i,r,p,null,u,O)}for(f in u)if(p=u[f],O=o[f],u.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":W=p;break;case"defaultValue":S=p;break;case"multiple":b=p;default:p!==O&&tt(i,r,f,p,u,O)}r=S,o=b,u=$,W!=null?Bs(i,!!o,W,!1):!!u!=!!o&&(r!=null?Bs(i,!!o,r,!0):Bs(i,!!o,o?[]:"",!1));return;case"textarea":$=W=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:tt(i,r,S,null,u,f)}for(b in u)if(f=u[b],p=o[b],u.hasOwnProperty(b)&&(f!=null||p!=null))switch(b){case"value":W=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&tt(i,r,b,f,u,p)}Dc(i,W,$);return;case"option":for(var pe in o)if(W=o[pe],o.hasOwnProperty(pe)&&W!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:tt(i,r,pe,null,u,W)}for(O in u)if(W=u[O],$=o[O],u.hasOwnProperty(O)&&W!==$&&(W!=null||$!=null))switch(O){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:tt(i,r,O,W,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)W=o[Te],o.hasOwnProperty(Te)&&W!=null&&!u.hasOwnProperty(Te)&&tt(i,r,Te,null,u,W);for(K in u)if(W=u[K],$=o[K],u.hasOwnProperty(K)&&W!==$&&(W!=null||$!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:tt(i,r,K,W,u,$)}return;default:if(za(r)){for(var nt in o)W=o[nt],o.hasOwnProperty(nt)&&W!==void 0&&!u.hasOwnProperty(nt)&&Xm(i,r,nt,void 0,u,W);for(J in u)W=u[J],$=o[J],!u.hasOwnProperty(J)||W===$||W===void 0&&$===void 0||Xm(i,r,J,W,u,$);return}}for(var q in o)W=o[q],o.hasOwnProperty(q)&&W!=null&&!u.hasOwnProperty(q)&&tt(i,r,q,null,u,W);for(te in u)W=u[te],$=o[te],!u.hasOwnProperty(te)||W===$||W==null&&$==null||tt(i,r,te,W,u,$)}function fb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],p=f.transferSize,b=f.initiatorType,S=f.duration;if(p&&S&&fb(b)){for(b=0,S=f.responseEnd,u+=1;u<o.length;u++){var O=o[u],K=O.startTime;if(K>S)break;var J=O.transferSize,te=O.initiatorType;J&&fb(te)&&(O=O.responseEnd,b+=J*(O<S?1:(S-K)/(O-K)))}if(--u,r+=8*(p+b)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Jm=null,Zm=null;function Oh(i){return i.nodeType===9?i:i.ownerDocument}function db(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function ep(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var tp=null;function vR(){var i=window.event;return i&&i.type==="popstate"?i===tp?!1:(tp=i,!0):(tp=null,!1)}var pb=typeof setTimeout=="function"?setTimeout:void 0,_R=typeof clearTimeout=="function"?clearTimeout:void 0,gb=typeof Promise=="function"?Promise:void 0,bR=typeof queueMicrotask=="function"?queueMicrotask:typeof gb<"u"?function(i){return gb.resolve(null).then(i).catch(TR)}:pb;function TR(i){setTimeout(function(){throw i})}function hr(i){return i==="head"}function yb(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),Eo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")su(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,su(o);for(var p=o.firstChild;p;){var b=p.nextSibling,S=p.nodeName;p[Ri]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=b}}else o==="body"&&su(i.ownerDocument.body);o=f}while(o);Eo(r)}function vb(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function np(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":np(o),La(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function ER(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ri])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Kn(i.nextSibling),i===null)break}return null}function wR(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Kn(i.nextSibling),i===null))return null;return i}function _b(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Kn(i.nextSibling),i===null))return null;return i}function ip(i){return i.data==="$?"||i.data==="$~"}function sp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function SR(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Kn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var rp=null;function bb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Kn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Tb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Eb(i,r,o){switch(r=Oh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function su(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);La(i)}var Wn=new Map,wb=new Set;function Vh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ts=re.d;re.d={f:AR,r:xR,D:CR,C:RR,L:IR,m:NR,X:PR,S:DR,M:MR};function AR(){var i=Ts.f(),r=xh();return i||r}function xR(i){var r=kn(i);r!==null&&r.tag===5&&r.type==="form"?z_(r):Ts.r(i)}var _o=typeof document>"u"?null:document;function Sb(i,r,o){var u=_o;if(u&&typeof r=="string"&&r){var f=pn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),wb.has(f)||(wb.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Jt(r,"link",i),It(r),u.head.appendChild(r)))}}function CR(i){Ts.D(i),Sb("dns-prefetch",i,null)}function RR(i,r){Ts.C(i,r),Sb("preconnect",i,r)}function IR(i,r,o){Ts.L(i,r,o);var u=_o;if(u&&i&&r){var f='link[rel="preload"][as="'+pn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+pn(o.imageSizes)+'"]')):f+='[href="'+pn(i)+'"]';var p=f;switch(r){case"style":p=bo(i);break;case"script":p=To(i)}Wn.has(p)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Wn.set(p,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(ru(p))||r==="script"&&u.querySelector(au(p))||(r=u.createElement("link"),Jt(r,"link",i),It(r),u.head.appendChild(r)))}}function NR(i,r){Ts.m(i,r);var o=_o;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+pn(u)+'"][href="'+pn(i)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=To(i)}if(!Wn.has(p)&&(i=_({rel:"modulepreload",href:i},r),Wn.set(p,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(au(p)))return}u=o.createElement("link"),Jt(u,"link",i),It(u),o.head.appendChild(u)}}}function DR(i,r,o){Ts.S(i,r,o);var u=_o;if(u&&i){var f=Ni(u).hoistableStyles,p=bo(i);r=r||"default";var b=f.get(p);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(ru(p)))S.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Wn.get(p))&&ap(i,o);var O=b=u.createElement("link");It(O),Jt(O,"link",i),O._p=new Promise(function(K,J){O.onload=K,O.onerror=J}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,kh(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:S},f.set(p,b)}}}function PR(i,r){Ts.X(i,r);var o=_o;if(o&&i){var u=Ni(o).hoistableScripts,f=To(i),p=u.get(f);p||(p=o.querySelector(au(f)),p||(i=_({src:i,async:!0},r),(r=Wn.get(f))&&op(i,r),p=o.createElement("script"),It(p),Jt(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function MR(i,r){Ts.M(i,r);var o=_o;if(o&&i){var u=Ni(o).hoistableScripts,f=To(i),p=u.get(f);p||(p=o.querySelector(au(f)),p||(i=_({src:i,async:!0,type:"module"},r),(r=Wn.get(f))&&op(i,r),p=o.createElement("script"),It(p),Jt(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function Ab(i,r,o,u){var f=(f=he.current)?Vh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=bo(o.href),o=Ni(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=bo(o.href);var p=Ni(f).hoistableStyles,b=p.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,b),(p=f.querySelector(ru(i)))&&!p._p&&(b.instance=p,b.state.loading=5),Wn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wn.set(i,o),p||OR(f,i,o,b.state))),r&&u===null)throw Error(s(528,""));return b}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=To(o),o=Ni(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function bo(i){return'href="'+pn(i)+'"'}function ru(i){return'link[rel="stylesheet"]['+i+"]"}function xb(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function OR(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Jt(r,"link",o),It(r),i.head.appendChild(r))}function To(i){return'[src="'+pn(i)+'"]'}function au(i){return"script[async]"+i}function Cb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+pn(o.href)+'"]');if(u)return r.instance=u,It(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),It(u),Jt(u,"style",f),kh(u,o.precedence,i),r.instance=u;case"stylesheet":f=bo(o.href);var p=i.querySelector(ru(f));if(p)return r.state.loading|=4,r.instance=p,It(p),p;u=xb(o),(f=Wn.get(f))&&ap(u,f),p=(i.ownerDocument||i).createElement("link"),It(p);var b=p;return b._p=new Promise(function(S,O){b.onload=S,b.onerror=O}),Jt(p,"link",u),r.state.loading|=4,kh(p,o.precedence,i),r.instance=p;case"script":return p=To(o.src),(f=i.querySelector(au(p)))?(r.instance=f,It(f),f):(u=o,(f=Wn.get(p))&&(u=_({},o),op(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),It(f),Jt(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,kh(u,o.precedence,i));return r.instance}function kh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===r)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function ap(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function op(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Lh=null;function Rb(i,r,o){if(Lh===null){var u=new Map,f=Lh=new Map;f.set(o,u)}else f=Lh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Ri]||p[Rt]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=i+b;var S=u.get(b);S?S.push(p):u.set(b,[p])}}return u}function Ib(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function VR(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Nb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function kR(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=bo(u.href),p=r.querySelector(ru(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=jh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,It(p);return}p=r.ownerDocument||r,u=xb(u),(f=Wn.get(f))&&ap(u,f),p=p.createElement("link"),It(p);var b=p;b._p=new Promise(function(S,O){b.onload=S,b.onerror=O}),Jt(p,"link",u),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=jh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var lp=0;function LR(i,r){return i.stylesheets&&i.count===0&&zh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&zh(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&lp===0&&(lp=62500*yR());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&zh(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>lp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function jh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Uh=null;function zh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Uh=new Map,r.forEach(jR,i),Uh=null,jh.call(i))}function jR(i,r){if(!(r.state.loading&4)){var o=Uh.get(i);if(o)var u=o.get(null);else{o=new Map,Uh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var b=f[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=r.instance,b=f.getAttribute("data-precedence"),p=o.get(b)||u,p===u&&o.set(null,f),o.set(b,f),this.count++,u=jh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var ou={$$typeof:Y,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function UR(i,r,o,u,f,p,b,S,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Db(i,r,o,u,f,p,b,S,O,K,J,te){return i=new UR(i,r,o,b,O,K,J,te,S),r=1,p===!0&&(r|=24),p=Cn(3,null,null,r),i.current=p,p.stateNode=i,r=Bd(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},Gd(p),i}function Pb(i){return i?(i=Xa,i):Xa}function Mb(i,r,o,u,f,p){f=Pb(f),u.context===null?u.context=f:u.pendingContext=f,u=er(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=tr(i,u,r),o!==null&&(Tn(o,i,r),Ul(o,i,r))}function Ob(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function up(i,r){Ob(i,r),(i=i.alternate)&&Ob(i,r)}function Vb(i){if(i.tag===13||i.tag===31){var r=na(i,67108864);r!==null&&Tn(r,i,67108864),up(i,67108864)}}function kb(i){if(i.tag===13||i.tag===31){var r=Pn();r=Hr(r);var o=na(i,r);o!==null&&Tn(o,i,r),up(i,r)}}var Bh=!0;function zR(i,r,o,u){var f=X.T;X.T=null;var p=re.p;try{re.p=2,cp(i,r,o,u)}finally{re.p=p,X.T=f}}function BR(i,r,o,u){var f=X.T;X.T=null;var p=re.p;try{re.p=8,cp(i,r,o,u)}finally{re.p=p,X.T=f}}function cp(i,r,o,u){if(Bh){var f=hp(u);if(f===null)$m(i,r,u,qh,o),jb(i,u);else if(FR(f,i,r,o,u))u.stopPropagation();else if(jb(i,u),r&4&&-1<qR.indexOf(i)){for(;f!==null;){var p=kn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Si(p.pendingLanes);if(b!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var O=1<<31-bt(b);S.entanglements[1]|=O,b&=~O}Fi(p),(Ye&6)===0&&(Sh=cn()+500,tu(0))}}break;case 31:case 13:S=na(p,2),S!==null&&Tn(S,p,2),xh(),up(p,2)}if(p=hp(u),p===null&&$m(i,r,u,qh,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else $m(i,r,u,null,o)}}function hp(i){return i=Ln(i),fp(i)}var qh=null;function fp(i){if(qh=null,i=Ii(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return qh=i,null}function Lb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zr()){case cl:return 2;case hl:return 8;case Us:case vd:return 32;case bc:return 268435456;default:return 32}default:return 32}}var dp=!1,fr=null,dr=null,mr=null,lu=new Map,uu=new Map,pr=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jb(i,r){switch(i){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":lu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(r.pointerId)}}function cu(i,r,o,u,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=kn(r),r!==null&&Vb(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function FR(i,r,o,u,f){switch(r){case"focusin":return fr=cu(fr,i,r,o,u,f),!0;case"dragenter":return dr=cu(dr,i,r,o,u,f),!0;case"mouseover":return mr=cu(mr,i,r,o,u,f),!0;case"pointerover":var p=f.pointerId;return lu.set(p,cu(lu.get(p)||null,i,r,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,uu.set(p,cu(uu.get(p)||null,i,r,o,u,f)),!0}return!1}function Ub(i){var r=Ii(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,si(i.priority,function(){kb(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,si(i.priority,function(){kb(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=hp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);wl=u,o.target.dispatchEvent(u),wl=null}else return r=kn(o),r!==null&&Vb(r),i.blockedOn=o,!1;r.shift()}return!0}function zb(i,r,o){Fh(i)&&o.delete(r)}function HR(){dp=!1,fr!==null&&Fh(fr)&&(fr=null),dr!==null&&Fh(dr)&&(dr=null),mr!==null&&Fh(mr)&&(mr=null),lu.forEach(zb),uu.forEach(zb)}function Hh(i,r){i.blockedOn===r&&(i.blockedOn=null,dp||(dp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,HR)))}var Gh=null;function Bb(i){Gh!==i&&(Gh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Gh===i&&(Gh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(fp(u||o)===null)continue;break}var p=kn(o);p!==null&&(i.splice(r,3),r-=3,hm(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Eo(i){function r(O){return Hh(O,i)}fr!==null&&Hh(fr,i),dr!==null&&Hh(dr,i),mr!==null&&Hh(mr,i),lu.forEach(r),uu.forEach(r);for(var o=0;o<pr.length;o++){var u=pr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<pr.length&&(o=pr[0],o.blockedOn===null);)Ub(o),o.blockedOn===null&&pr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],b=f[qt]||null;if(typeof p=="function")b||Bb(o);else if(b){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,b=p[qt]||null)S=b.formAction;else if(fp(f)!==null)continue}else S=b.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),Bb(o)}}}function qb(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function mp(i){this._internalRoot=i}Kh.prototype.render=mp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Pn();Mb(o,u,i,r,null,null)},Kh.prototype.unmount=mp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Mb(i.current,2,null,i,null,null),xh(),r[Ci]=null}};function Kh(i){this._internalRoot=i}Kh.prototype.unstable_scheduleHydration=function(i){if(i){var r=xc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<pr.length&&r!==0&&r<pr[o].priority;o++);pr.splice(o,0,i),o===0&&Ub(i)}};var Fb=e.version;if(Fb!=="19.2.0")throw Error(s(527,Fb,"19.2.0"));re.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var GR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wh.isDisabled&&Wh.supportsFiber)try{ni=Wh.inject(GR),Wt=Wh}catch{}}return fu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=$_,p=X_,b=J_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=Db(i,1,!1,null,null,o,u,null,f,p,b,qb),i[Ci]=r.current,Qm(i),new mp(r)},fu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",p=$_,b=X_,S=J_,O=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),r=Db(i,1,!0,r,o??null,u,f,O,p,b,S,qb),r.context=Pb(null),o=r.current,u=Pn(),u=Hr(u),f=er(u),f.callback=null,tr(o,f,u),o=u,r.current.lanes=o,qr(r,o),Fi(r),i[Ci]=r.current,Qm(i),new Kh(r)},fu.version="19.2.0",fu}var Zb;function eI(){if(Zb)return yp.exports;Zb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yp.exports=ZR(),yp.exports}var tI=eI();const nI=Ww(tI);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eT="popstate";function iI(t={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return $p("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Vu(a)}return rI(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _i(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sI(){return Math.random().toString(36).substring(2,10)}function tT(t,e){return{usr:t.state,key:t.key,idx:e}}function $p(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Yo(e):e,state:n,key:e&&e.key||s||sI()}}function Vu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function rI(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let k=y(),B=k==null?null:k-g;g=k,m&&m({action:d,location:U.location,delta:B})}function w(k,B){d="PUSH";let F=$p(U.location,k,B);g=y()+1;let Y=tT(F,g),le=U.createHref(F);try{c.pushState(Y,"",le)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;a.location.assign(le)}l&&m&&m({action:d,location:U.location,delta:1})}function R(k,B){d="REPLACE";let F=$p(U.location,k,B);g=y();let Y=tT(F,g),le=U.createHref(F);c.replaceState(Y,"",le),l&&m&&m({action:d,location:U.location,delta:0})}function M(k){return aI(k)}let U={get action(){return d},get location(){return t(a,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(eT,_),m=k,()=>{a.removeEventListener(eT,_),m=null}},createHref(k){return e(a,k)},createURL:M,encodeLocation(k){let B=M(k);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:R,go(k){return c.go(k)}};return U}function aI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Vu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function $w(t,e,n="/"){return oI(t,e,n,!1)}function oI(t,e,n,s){let a=typeof e=="string"?Yo(e):e,l=Rs(a.pathname||"/",n);if(l==null)return null;let c=Xw(t);lI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=_I(l);d=yI(c[m],g,s)}return d}function Xw(t,e=[],n=[],s="",a=!1){let l=(c,d,m=a,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;dt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=As([s,y.relativePath]),w=n.concat(y);c.children&&c.children.length>0&&(dt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Xw(c.children,e,w,_,m)),!(c.path==null&&!c.index)&&e.push({path:_,score:pI(_,c.index),routesMeta:w})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of Jw(c.path))l(c,d,!0,m)}),e}function Jw(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=Jw(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function lI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var uI=/^:[\w-]+$/,cI=3,hI=2,fI=1,dI=10,mI=-2,nT=t=>t==="*";function pI(t,e){let n=t.split("/"),s=n.length;return n.some(nT)&&(s+=mI),e&&(s+=hI),n.filter(a=>!nT(a)).reduce((a,l)=>a+(uI.test(l)?cI:l===""?fI:dI),s)}function gI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function yI(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Ef({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),w=m.route;if(!_&&g&&n&&!s[s.length-1].route.index&&(_=Ef({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:As([l,_.pathname]),pathnameBase:wI(As([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=As([l,_.pathnameBase]))}return c}function Ef(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=vI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:_},w)=>{if(y==="*"){let M=d[w]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const R=d[w];return _&&!R?g[y]=void 0:g[y]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function vI(t,e=!1,n=!0){_i(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function _I(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _i(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Rs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function bI(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Yo(t):t;return{pathname:n?n.startsWith("/")?n:TI(n,e):e,search:SI(s),hash:AI(a)}}function TI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Tp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gg(t){let e=EI(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Kg(t,e,n,s=!1){let a;typeof t=="string"?a=Yo(t):(a={...t},dt(!a.pathname||!a.pathname.includes("?"),Tp("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),Tp("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),Tp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;a.pathname=w.join("/")}d=_>=0?e[_]:"/"}let m=bI(a,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var As=t=>t.join("/").replace(/\/\/+/g,"/"),wI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Zw=["POST","PUT","PATCH","DELETE"];new Set(Zw);var CI=["GET",...Zw];new Set(CI);var Qo=N.createContext(null);Qo.displayName="DataRouter";var Yf=N.createContext(null);Yf.displayName="DataRouterState";N.createContext(!1);var eS=N.createContext({isTransitioning:!1});eS.displayName="ViewTransition";var RI=N.createContext(new Map);RI.displayName="Fetchers";var II=N.createContext(null);II.displayName="Await";var bi=N.createContext(null);bi.displayName="Navigation";var Zu=N.createContext(null);Zu.displayName="Location";var Ti=N.createContext({outlet:null,matches:[],isDataRoute:!1});Ti.displayName="Route";var Wg=N.createContext(null);Wg.displayName="RouteError";function NI(t,{relative:e}={}){dt($o(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=N.useContext(bi),{hash:a,pathname:l,search:c}=ec(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:As([n,l])),s.createHref({pathname:d,search:c,hash:a})}function $o(){return N.useContext(Zu)!=null}function kr(){return dt($o(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Zu).location}var tS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nS(t){N.useContext(bi).static||N.useLayoutEffect(t)}function Vs(){let{isDataRoute:t}=N.useContext(Ti);return t?FI():DI()}function DI(){dt($o(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Qo),{basename:e,navigator:n}=N.useContext(bi),{matches:s}=N.useContext(Ti),{pathname:a}=kr(),l=JSON.stringify(Gg(s)),c=N.useRef(!1);return nS(()=>{c.current=!0}),N.useCallback((m,g={})=>{if(_i(c.current,tS),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Kg(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:As([e,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[e,n,l,a,t])}N.createContext(null);function iS(){let{matches:t}=N.useContext(Ti),e=t[t.length-1];return e?e.params:{}}function ec(t,{relative:e}={}){let{matches:n}=N.useContext(Ti),{pathname:s}=kr(),a=JSON.stringify(Gg(n));return N.useMemo(()=>Kg(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function PI(t,e){return sS(t,e)}function sS(t,e,n,s,a){dt($o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(bi),{matches:c}=N.useContext(Ti),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let F=_&&_.path||"";rS(g,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=kr(),R;if(e){let F=typeof e=="string"?Yo(e):e;dt(y==="/"||F.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${F.pathname}" was given in the \`location\` prop.`),R=F}else R=w;let M=R.pathname||"/",U=M;if(y!=="/"){let F=y.replace(/^\//,"").split("/");U="/"+M.replace(/^\//,"").split("/").slice(F.length).join("/")}let k=$w(t,{pathname:U});_i(_||k!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),_i(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=LI(k&&k.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:As([y,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:As([y,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,n,s,a);return e&&B?N.createElement(Zu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},B):B}function MI(){let t=qI(),e=xI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:a},n):null,c)}var OI=N.createElement(MI,null),VI=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(Ti.Provider,{value:this.props.routeContext},N.createElement(Wg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kI({routeContext:t,match:e,children:n}){let s=N.useContext(Qo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Ti.Provider,{value:t},n)}function LI(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let g=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);dt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,m=-1;if(n)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:_,errors:w}=n,R=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||R){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,y,_)=>{let w,R=!1,M=null,U=null;n&&(w=c&&y.route.id?c[y.route.id]:void 0,M=y.route.errorElement||OI,d&&(m<0&&_===0?(rS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,U=null):m===_&&(R=!0,U=y.route.hydrateFallbackElement||null)));let k=e.concat(l.slice(0,_+1)),B=()=>{let F;return w?F=M:R?F=U:y.route.Component?F=N.createElement(y.route.Component,null):y.route.element?F=y.route.element:F=g,N.createElement(kI,{match:y,routeContext:{outlet:g,matches:k,isDataRoute:n!=null},children:F})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?N.createElement(VI,{location:n.location,revalidation:n.revalidation,component:M,error:w,children:B(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:s}):B()},null)}function Yg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jI(t){let e=N.useContext(Qo);return dt(e,Yg(t)),e}function UI(t){let e=N.useContext(Yf);return dt(e,Yg(t)),e}function zI(t){let e=N.useContext(Ti);return dt(e,Yg(t)),e}function Qg(t){let e=zI(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function BI(){return Qg("useRouteId")}function qI(){let t=N.useContext(Wg),e=UI("useRouteError"),n=Qg("useRouteError");return t!==void 0?t:e.errors?.[n]}function FI(){let{router:t}=jI("useNavigate"),e=Qg("useNavigate"),n=N.useRef(!1);return nS(()=>{n.current=!0}),N.useCallback(async(a,l={})=>{_i(n.current,tS),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var iT={};function rS(t,e,n){!e&&!iT[t]&&(iT[t]=!0,_i(!1,n))}N.memo(HI);function HI({routes:t,future:e,state:n,unstable_onError:s}){return sS(t,void 0,n,s,e)}function GI({to:t,replace:e,state:n,relative:s}){dt($o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(bi);_i(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(Ti),{pathname:c}=kr(),d=Vs(),m=Kg(t,Gg(l),c,s==="path"),g=JSON.stringify(m);return N.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:s})},[d,g,s,e,n]),null}function Hi(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KI({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){dt(!$o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Yo(n));let{pathname:m="/",search:g="",hash:y="",state:_=null,key:w="default"}=n,R=N.useMemo(()=>{let M=Rs(m,c);return M==null?null:{location:{pathname:M,search:g,hash:y,state:_,key:w},navigationType:s}},[c,m,g,y,_,w,s]);return _i(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:N.createElement(bi.Provider,{value:d},N.createElement(Zu.Provider,{children:e,value:R}))}function WI({children:t,location:e}){return PI(Xp(t),e)}function Xp(t,e=[]){let n=[];return N.Children.forEach(t,(s,a)=>{if(!N.isValidElement(s))return;let l=[...e,a];if(s.type===N.Fragment){n.push.apply(n,Xp(s.props.children,l));return}dt(s.type===Hi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Xp(s.props.children,l)),n.push(c)}),n}var af="get",of="application/x-www-form-urlencoded";function Qf(t){return t!=null&&typeof t.tagName=="string"}function YI(t){return Qf(t)&&t.tagName.toLowerCase()==="button"}function QI(t){return Qf(t)&&t.tagName.toLowerCase()==="form"}function $I(t){return Qf(t)&&t.tagName.toLowerCase()==="input"}function XI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JI(t,e){return t.button===0&&(!e||e==="_self")&&!XI(t)}var Yh=null;function ZI(){if(Yh===null)try{new FormData(document.createElement("form"),0),Yh=!1}catch{Yh=!0}return Yh}var eN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ep(t){return t!=null&&!eN.has(t)?(_i(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${of}"`),null):t}function tN(t,e){let n,s,a,l,c;if(QI(t)){let d=t.getAttribute("action");s=d?Rs(d,e):null,n=t.getAttribute("method")||af,a=Ep(t.getAttribute("enctype"))||of,l=new FormData(t)}else if(YI(t)||$I(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?Rs(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||af,a=Ep(t.getAttribute("formenctype"))||Ep(d.getAttribute("enctype"))||of,l=new FormData(d,t),!ZI()){let{name:g,type:y,value:_}=t;if(y==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,_)}}else{if(Qf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=af,s=null,a=of,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $g(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nN(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Rs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function iN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function rN(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await iN(l,n);return c.links?c.links():[]}return[]}));return uN(s.flat(1).filter(sN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function sT(t,e,n,s,a,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function aN(t,e,{includeHydrateFallback:n}={}){return oN(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function oN(t){return[...new Set(t)]}function lN(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function uN(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(lN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function aS(){let t=N.useContext(Qo);return $g(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function cN(){let t=N.useContext(Yf);return $g(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xg=N.createContext(void 0);Xg.displayName="FrameworkContext";function oS(){let t=N.useContext(Xg);return $g(t,"You must render this element inside a <HydratedRouter> element"),t}function hN(t,e){let n=N.useContext(Xg),[s,a]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=e,w=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let U=B=>{B.forEach(F=>{c(F.isIntersecting)})},k=new IntersectionObserver(U,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[t]),N.useEffect(()=>{if(s){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[s]);let R=()=>{a(!0)},M=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:du(d,R),onBlur:du(m,M),onMouseEnter:du(g,R),onMouseLeave:du(y,M),onTouchStart:du(_,R)}]:[!1,w,{}]}function du(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function fN({page:t,...e}){let{router:n}=aS(),s=N.useMemo(()=>$w(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?N.createElement(mN,{page:t,matches:s,...e}):null}function dN(t){let{manifest:e,routeModules:n}=oS(),[s,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return rN(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function mN({page:t,matches:e,...n}){let s=kr(),{manifest:a,routeModules:l}=oS(),{basename:c}=aS(),{loaderData:d,matches:m}=cN(),g=N.useMemo(()=>sT(t,e,m,a,s,"data"),[t,e,m,a,s]),y=N.useMemo(()=>sT(t,e,m,a,s,"assets"),[t,e,m,a,s]),_=N.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let M=new Set,U=!1;if(e.forEach(B=>{let F=a.routes[B.route.id];!F||!F.hasLoader||(!g.some(Y=>Y.route.id===B.route.id)&&B.route.id in d&&l[B.route.id]?.shouldRevalidate||F.hasClientLoader?U=!0:M.add(B.route.id))}),M.size===0)return[];let k=nN(t,c,"data");return U&&M.size>0&&k.searchParams.set("_routes",e.filter(B=>M.has(B.route.id)).map(B=>B.route.id).join(",")),[k.pathname+k.search]},[c,d,s,a,g,e,t,l]),w=N.useMemo(()=>aN(y,a),[y,a]),R=dN(y);return N.createElement(N.Fragment,null,_.map(M=>N.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),w.map(M=>N.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),R.map(({key:M,link:U})=>N.createElement("link",{key:M,nonce:n.nonce,...U})))}function pN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var lS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lS&&(window.__reactRouterVersion="7.9.4")}catch{}function gN({basename:t,children:e,window:n}){let s=N.useRef();s.current==null&&(s.current=iI({window:n,v5Compat:!0}));let a=s.current,[l,c]=N.useState({action:a.action,location:a.location}),d=N.useCallback(m=>{N.startTransition(()=>c(m))},[c]);return N.useLayoutEffect(()=>a.listen(d),[a,d]),N.createElement(KI,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var uS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$f=N.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:y,viewTransition:_,...w},R){let{basename:M}=N.useContext(bi),U=typeof g=="string"&&uS.test(g),k,B=!1;if(typeof g=="string"&&U&&(k=g,lS))try{let I=new URL(window.location.href),V=g.startsWith("//")?new URL(I.protocol+g):new URL(g),P=Rs(V.pathname,M);V.origin===I.origin&&P!=null?g=P+V.search+V.hash:B=!0}catch{_i(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=NI(g,{relative:a}),[Y,le,oe]=hN(s,w),ae=bN(g,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_});function C(I){e&&e(I),I.defaultPrevented||ae(I)}let A=N.createElement("a",{...w,...oe,href:k||F,onClick:B||l?e:C,ref:pN(R,le),target:m,"data-discover":!U&&n==="render"?"true":void 0});return Y&&!U?N.createElement(N.Fragment,null,A,N.createElement(fN,{page:F})):A});$f.displayName="Link";var yN=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},y){let _=ec(c,{relative:g.relative}),w=kr(),R=N.useContext(Yf),{navigator:M,basename:U}=N.useContext(bi),k=R!=null&&AN(_)&&d===!0,B=M.encodeLocation?M.encodeLocation(_).pathname:_.pathname,F=w.pathname,Y=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(F=F.toLowerCase(),Y=Y?Y.toLowerCase():null,B=B.toLowerCase()),Y&&U&&(Y=Rs(Y,U)||Y);const le=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let oe=F===B||!a&&F.startsWith(B)&&F.charAt(le)==="/",ae=Y!=null&&(Y===B||!a&&Y.startsWith(B)&&Y.charAt(B.length)==="/"),C={isActive:oe,isPending:ae,isTransitioning:k},A=oe?e:void 0,I;typeof s=="function"?I=s(C):I=[s,oe?"active":null,ae?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(C):l;return N.createElement($f,{...g,"aria-current":A,className:I,ref:y,style:V,to:c,viewTransition:d},typeof m=="function"?m(C):m)});yN.displayName="NavLink";var vN=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=af,action:d,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:_,...w},R)=>{let M=wN(),U=SN(d,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&uS.test(d),F=Y=>{if(m&&m(Y),Y.defaultPrevented)return;Y.preventDefault();let le=Y.nativeEvent.submitter,oe=le?.getAttribute("formmethod")||c;M(le||Y.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:a,state:l,relative:g,preventScrollReset:y,viewTransition:_})};return N.createElement("form",{ref:R,method:k,action:U,onSubmit:s?m:F,...w,"data-discover":!B&&t==="render"?"true":void 0})});vN.displayName="Form";function _N(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cS(t){let e=N.useContext(Qo);return dt(e,_N(t)),e}function bN(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Vs(),m=kr(),g=ec(t,{relative:l});return N.useCallback(y=>{if(JI(y,e)){y.preventDefault();let _=n!==void 0?n:Vu(m)===Vu(g);d(t,{replace:_,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,g,n,s,e,t,a,l,c])}var TN=0,EN=()=>`__${String(++TN)}__`;function wN(){let{router:t}=cS("useSubmit"),{basename:e}=N.useContext(bi),n=BI();return N.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=tN(s,e);if(a.navigate===!1){let y=a.fetcherKey||EN();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function SN(t,{relative:e}={}){let{basename:n}=N.useContext(bi),s=N.useContext(Ti);dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...ec(t||".",{relative:e})},c=kr();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:As([n,l.pathname])),Vu(l)}function AN(t,{relative:e}={}){let n=N.useContext(eS);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=cS("useViewTransitionState"),a=ec(t,{relative:e});if(!n.isTransitioning)return!1;let l=Rs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Rs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ef(a.pathname,c)!=null||Ef(a.pathname,l)!=null}var xN=Qw();const CN=()=>{};var rT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},RN=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},fS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,R=g&63;m||(R=64,c||(w=64)),s.push(n[y],n[_],n[w],n[R])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||g==null||_==null)throw new IN;const w=l<<2|d>>4;if(s.push(w),g!==64){const R=d<<4&240|g>>2;if(s.push(R),_!==64){const M=g<<6&192|_;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NN=function(t){const e=hS(t);return fS.encodeByteArray(e,!0)},wf=function(t){return NN(t).replace(/\./g,"")},dS=function(t){try{return fS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=()=>DN().__FIREBASE_DEFAULTS__,MN=()=>{if(typeof process>"u"||typeof rT>"u")return;const t=rT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ON=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dS(t[1]);return e&&JSON.parse(e)},Xf=()=>{try{return CN()||PN()||MN()||ON()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mS=t=>Xf()?.emulatorHosts?.[t],VN=t=>{const e=mS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},pS=()=>Xf()?.config,gS=t=>Xf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wf(JSON.stringify(n)),wf(JSON.stringify(c)),""].join(".")}const wu={};function jN(){const t={prod:[],emulator:[]};for(const e of Object.keys(wu))wu[e]?t.emulator.push(e):t.prod.push(e);return t}function UN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let aT=!1;function vS(t,e){if(typeof window>"u"||typeof document>"u"||!Xo(window.location.host)||wu[t]===e||wu[t]||aT)return;wu[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=jN().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,R){w.setAttribute("width","24"),w.setAttribute("id",R),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{aT=!0,c()},w}function y(w,R){w.setAttribute("id",R),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=UN(s),R=n("text"),M=document.getElementById(R)||document.createElement("span"),U=n("learnmore"),k=document.getElementById(U)||document.createElement("a"),B=n("preprendIcon"),F=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Y=w.element;d(Y),y(k,U);const le=g();m(F,B),Y.append(F,M,k,le),document.body.appendChild(Y)}l?(M.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function BN(){const t=Xf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GN(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KN(){return!BN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WN(){try{return typeof indexedDB=="object"}catch{return!1}}function YN(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="FirebaseError";class ks extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=QN,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tc.prototype.create)}}class tc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?$N(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ks(a,d,s)}}function $N(t,e){return t.replace(XN,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const XN=/\{\$([^}]+)}/g;function JN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Aa(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(oT(l)&&oT(c)){if(!Aa(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function oT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function gu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function yu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ZN(t,e){const n=new e2(t,e);return n.subscribe.bind(n)}class e2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");t2(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=wp),a.error===void 0&&(a.error=wp),a.complete===void 0&&(a.complete=wp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t){return t&&t._delegate?t._delegate:t}class xa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new kN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s2(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:i2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i2(t){return t===ga?void 0:t}function s2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new n2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const a2={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},o2=Ue.INFO,l2={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},u2=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=l2[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jg{constructor(e){this.name=e,this._logLevel=o2,this._logHandler=u2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const c2=(t,e)=>e.some(n=>t instanceof n);let lT,uT;function h2(){return lT||(lT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f2(){return uT||(uT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _S=new WeakMap,Jp=new WeakMap,bS=new WeakMap,Sp=new WeakMap,Zg=new WeakMap;function d2(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(wr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&_S.set(n,t)}).catch(()=>{}),Zg.set(e,t),e}function m2(t){if(Jp.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Jp.set(t,e)}let Zp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function p2(t){Zp=t(Zp)}function g2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ap(this),e,...n);return bS.set(s,e.sort?e.sort():[e]),wr(s)}:f2().includes(t)?function(...e){return t.apply(Ap(this),e),wr(_S.get(this))}:function(...e){return wr(t.apply(Ap(this),e))}}function y2(t){return typeof t=="function"?g2(t):(t instanceof IDBTransaction&&m2(t),c2(t,h2())?new Proxy(t,Zp):t)}function wr(t){if(t instanceof IDBRequest)return d2(t);if(Sp.has(t))return Sp.get(t);const e=y2(t);return e!==t&&(Sp.set(t,e),Zg.set(e,t)),e}const Ap=t=>Zg.get(t);function v2(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=wr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(wr(c.result),m.oldVersion,m.newVersion,wr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const _2=["get","getKey","getAll","getAllKeys","count"],b2=["put","add","delete","clear"],xp=new Map;function cT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xp.get(e))return xp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=b2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||_2.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return xp.set(e,l),l}p2(t=>({...t,get:(e,n,s)=>cT(e,n)||t.get(e,n,s),has:(e,n)=>!!cT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(E2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function E2(t){return t.getComponent()?.type==="VERSION"}const eg="@firebase/app",hT="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new Jg("@firebase/app"),w2="@firebase/app-compat",S2="@firebase/analytics-compat",A2="@firebase/analytics",x2="@firebase/app-check-compat",C2="@firebase/app-check",R2="@firebase/auth",I2="@firebase/auth-compat",N2="@firebase/database",D2="@firebase/data-connect",P2="@firebase/database-compat",M2="@firebase/functions",O2="@firebase/functions-compat",V2="@firebase/installations",k2="@firebase/installations-compat",L2="@firebase/messaging",j2="@firebase/messaging-compat",U2="@firebase/performance",z2="@firebase/performance-compat",B2="@firebase/remote-config",q2="@firebase/remote-config-compat",F2="@firebase/storage",H2="@firebase/storage-compat",G2="@firebase/firestore",K2="@firebase/ai",W2="@firebase/firestore-compat",Y2="firebase",Q2="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="[DEFAULT]",$2={[eg]:"fire-core",[w2]:"fire-core-compat",[A2]:"fire-analytics",[S2]:"fire-analytics-compat",[C2]:"fire-app-check",[x2]:"fire-app-check-compat",[R2]:"fire-auth",[I2]:"fire-auth-compat",[N2]:"fire-rtdb",[D2]:"fire-data-connect",[P2]:"fire-rtdb-compat",[M2]:"fire-fn",[O2]:"fire-fn-compat",[V2]:"fire-iid",[k2]:"fire-iid-compat",[L2]:"fire-fcm",[j2]:"fire-fcm-compat",[U2]:"fire-perf",[z2]:"fire-perf-compat",[B2]:"fire-rc",[q2]:"fire-rc-compat",[F2]:"fire-gcs",[H2]:"fire-gcs-compat",[G2]:"fire-fst",[W2]:"fire-fst-compat",[K2]:"fire-vertex","fire-js":"fire-js",[Y2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Map,X2=new Map,ng=new Map;function fT(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jo(t){const e=t.name;if(ng.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;ng.set(e,t);for(const n of Sf.values())fT(n,t);for(const n of X2.values())fT(n,t);return!0}function ey(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new tc("app","Firebase",J2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=Q2;function TS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:tg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Sr.create("bad-app-name",{appName:String(a)});if(n||(n=pS()),!n)throw Sr.create("no-options");const l=Sf.get(a);if(l){if(Aa(n,l.options)&&Aa(s,l.config))return l;throw Sr.create("duplicate-app",{appName:a})}const c=new r2(a);for(const m of ng.values())c.addComponent(m);const d=new Z2(n,s,c);return Sf.set(a,d),d}function ES(t=tg){const e=Sf.get(t);if(!e&&t===tg&&pS())return TS();if(!e)throw Sr.create("no-app",{appName:t});return e}function Ar(t,e,n){let s=$2[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(c.join(" "));return}jo(new xa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="firebase-heartbeat-database",tD=1,ku="firebase-heartbeat-store";let Cp=null;function wS(){return Cp||(Cp=v2(eD,tD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ku)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sr.create("idb-open",{originalErrorMessage:t.message})})),Cp}async function nD(t){try{const n=(await wS()).transaction(ku),s=await n.objectStore(ku).get(SS(t));return await n.done,s}catch(e){if(e instanceof ks)Is.warn(e.message);else{const n=Sr.create("idb-get",{originalErrorMessage:e?.message});Is.warn(n.message)}}}async function dT(t,e){try{const s=(await wS()).transaction(ku,"readwrite");await s.objectStore(ku).put(e,SS(t)),await s.done}catch(n){if(n instanceof ks)Is.warn(n.message);else{const s=Sr.create("idb-set",{originalErrorMessage:n?.message});Is.warn(s.message)}}}function SS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=1024,sD=30;class rD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>sD){const a=lD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mT(),{heartbeatsToSend:n,unsentEntries:s}=aD(this._heartbeatsCache.heartbeats),a=wf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Is.warn(e),""}}}function mT(){return new Date().toISOString().substring(0,10)}function aD(t,e=iD){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),pT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),pT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class oD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WN()?YN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function pT(t){return wf(JSON.stringify({version:2,heartbeats:t})).length}function lD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t){jo(new xa("platform-logger",e=>new T2(e),"PRIVATE")),jo(new xa("heartbeat",e=>new rD(e),"PRIVATE")),Ar(eg,hT,t),Ar(eg,hT,"esm2020"),Ar("fire-js","")}uD("");var cD="firebase",hD="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(cD,hD,"app");function AS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fD=AS,xS=new tc("auth","Firebase",AS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Jg("@firebase/auth");function dD(t,...e){Af.logLevel<=Ue.WARN&&Af.warn(`Auth (${Jo}): ${t}`,...e)}function lf(t,...e){Af.logLevel<=Ue.ERROR&&Af.error(`Auth (${Jo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,...e){throw ny(t,...e)}function vi(t,...e){return ny(t,...e)}function ty(t,e,n){const s={...fD(),[e]:n};return new tc("auth","Firebase",s).create(e,{appName:t.name})}function xs(t){return ty(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mD(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ei(t,"argument-error"),ty(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ny(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return xS.create(t,...e)}function Ee(t,e,...n){if(!t)throw ny(e,...n)}function ws(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lf(e),new Error(e)}function Ns(t,e){t||ws(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(){return typeof self<"u"&&self.location?.href||""}function pD(){return gT()==="http:"||gT()==="https:"}function gT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pD()||FN()||"connection"in navigator)?navigator.onLine:!0}function yD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ns(n>e,"Short delay should be less than long delay!"),this.isMobile=zN()||HN()}get(){return gD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t,e){Ns(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bD=new ic(3e4,6e4);function Ls(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ts(t,e,n,s,a={}){return RS(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=nc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return qN()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Xo(t.emulatorConfig.host)&&(g.credentials="include"),CS.fetch()(await IS(t,t.config.apiHost,n,d),g)})}async function RS(t,e,n){t._canInitEmulator=!1;const s={...vD,...e};try{const a=new ED(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Qh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qh(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Qh(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Qh(t,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ty(t,y,g);ei(t,y)}}catch(a){if(a instanceof ks)throw a;ei(t,"network-request-failed",{message:String(a)})}}async function sc(t,e,n,s,a={}){const l=await ts(t,e,n,s,a);return"mfaPendingCredential"in l&&ei(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function IS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?iy(t.config,a):`${t.config.apiScheme}://${a}`;return _D.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function TD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ED{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(vi(this.auth,"network-request-failed")),bD.get())})}}function Qh(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=vi(t,e,s);return a.customData._tokenResponse=n,a}function yT(t){return t!==void 0&&t.enterprise!==void 0}class wD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return TD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SD(t,e){return ts(t,"GET","/v2/recaptchaConfig",Ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(t,e){return ts(t,"POST","/v1/accounts:delete",e)}async function xf(t,e){return ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xD(t,e=!1){const n=mn(t),s=await n.getIdToken(e),a=sy(s);Ee(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Su(Rp(a.auth_time)),issuedAtTime:Su(Rp(a.iat)),expirationTime:Su(Rp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Rp(t){return Number(t)*1e3}function sy(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return lf("JWT malformed, contained fewer than 3 sections"),null;try{const a=dS(n);return a?JSON.parse(a):(lf("Failed to decode base64 JWT payload"),null)}catch(a){return lf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function vT(t){const e=sy(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ks&&CD(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function CD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(t){const e=t.auth,n=await t.getIdToken(),s=await Uo(t,xf(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?NS(a.providerUserInfo):[],c=ND(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,g=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new sg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function ID(t){const e=mn(t);await Cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ND(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function NS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,e){const n=await RS(t,{},async()=>{const s=nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await IS(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&Xo(t.emulatorConfig.host)&&(m.credentials="include"),CS.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PD(t,e){return ts(t,"POST","/v2/accounts:revokeToken",Ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=vT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await DD(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Po;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Ee(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new RD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new sg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Uo(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xD(this,e)}reload(){return ID(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Cf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(xs(this.auth));const e=await this.getIdToken();return await Uo(this,AD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:w,isAnonymous:R,providerData:M,stsTokenManager:U}=n;Ee(_&&U,e,"internal-error");const k=Po.fromJSON(this.name,U);Ee(typeof _=="string",e,"internal-error"),yr(s,e.name),yr(a,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof R=="boolean",e,"internal-error"),yr(l,e.name),yr(c,e.name),yr(d,e.name),yr(m,e.name),yr(g,e.name),yr(y,e.name);const B=new gi({uid:_,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:k,createdAt:g,lastLoginAt:y});return M&&Array.isArray(M)&&(B.providerData=M.map(F=>({...F}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,n,s=!1){const a=new Po;a.updateFromServerResponse(n);const l=new gi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Cf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?NS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Po;d.updateFromIdToken(s);const m=new gi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new sg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new Map;function Ss(t){Ns(t instanceof Function,"Expected a class definition");let e=_T.get(t);return e?(Ns(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_T.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DS.type="NONE";const bT=DS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t,e,n){return`firebase:${t}:${e}:${n}`}class Mo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=uf(this.userKey,a.apiKey,l),this.fullPersistenceKey=uf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xf(this.auth,{idToken:e}).catch(()=>{});return n?gi._fromGetAccountInfoResponse(this.auth,n,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Mo(Ss(bT),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Ss(bT);const c=uf(s,e.config.apiKey,e.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){let _;if(typeof y=="string"){const w=await xf(e,{idToken:y}).catch(()=>{});if(!w)break;_=await gi._fromGetAccountInfoResponse(e,w,y)}else _=gi._fromJSON(e,y);g!==l&&(d=_),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Mo(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Mo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LS(e))return"Blackberry";if(jS(e))return"Webos";if(MS(e))return"Safari";if((e.includes("chrome/")||OS(e))&&!e.includes("edge/"))return"Chrome";if(kS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function PS(t=un()){return/firefox\//i.test(t)}function MS(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OS(t=un()){return/crios\//i.test(t)}function VS(t=un()){return/iemobile/i.test(t)}function kS(t=un()){return/android/i.test(t)}function LS(t=un()){return/blackberry/i.test(t)}function jS(t=un()){return/webos/i.test(t)}function ry(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MD(t=un()){return ry(t)&&!!window.navigator?.standalone}function OD(){return GN()&&document.documentMode===10}function US(t=un()){return ry(t)||kS(t)||jS(t)||LS(t)||/windows phone/i.test(t)||VS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e=[]){let n;switch(t){case"Browser":n=TT(un());break;case"Worker":n=`${TT(un())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t,e={}){return ts(t,"GET","/v2/passwordPolicy",Ls(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=6;class jD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??LD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ET(this),this.idTokenSubscription=new ET(this),this.beforeStateQueue=new VD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xf(this,{idToken:e}),s=await gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(xs(this));const n=e?mn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kD(this),n=new jD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await PD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ss(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&dD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lr(t){return mn(t)}class ET{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZN(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zD(t){Jf=t}function BS(t){return Jf.loadJS(t)}function BD(){return Jf.recaptchaEnterpriseScript}function qD(){return Jf.gapiScript}function FD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class HD{constructor(){this.enterprise=new GD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class GD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KD="recaptcha-enterprise",qS="NO_RECAPTCHA";class WD{constructor(e){this.type=KD,this.auth=Lr(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{SD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new wD(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;yT(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(qS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&yT(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=BD();m.length!==0&&(m+=d),BS(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function wT(t,e,n,s=!1,a=!1){const l=new WD(t);let c;if(a)c=qS;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function rg(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await wT(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await wT(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t,e){const n=ey(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Aa(l,e??{}))return a;ei(a,"already-initialized")}return n.initialize({options:e})}function QD(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ss);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function $D(t,e,n){const s=Lr(t);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=FS(e),{host:c,port:d}=XD(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Aa(g,s.config.emulator)&&Aa(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Xo(c)?(yS(`${l}//${c}${m}`),vS("Auth",!0)):JD()}function FS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XD(t){const e=FS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:ST(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:ST(c)}}}function ST(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ws("not implemented")}_getIdTokenResponse(e){return ws("not implemented")}_linkToIdToken(e,n){return ws("not implemented")}_getReauthenticationResolver(e){return ws("not implemented")}}async function ZD(t,e){return ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(t,e){return sc(t,"POST","/v1/accounts:signInWithPassword",Ls(t,e))}async function tP(t,e){return ts(t,"POST","/v1/accounts:sendOobCode",Ls(t,e))}async function nP(t,e){return tP(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(t,e){return sc(t,"POST","/v1/accounts:signInWithEmailLink",Ls(t,e))}async function sP(t,e){return sc(t,"POST","/v1/accounts:signInWithEmailLink",Ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends ay{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Lu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Lu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rg(e,n,"signInWithPassword",eP);case"emailLink":return iP(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rg(e,s,"signUpPassword",ZD);case"emailLink":return sP(e,{idToken:n,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t,e){return sc(t,"POST","/v1/accounts:signInWithIdp",Ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="http://localhost";class Ca extends ay{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Ca(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Oo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Oo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oo(e,n)}buildRequest(){const e={requestUri:rP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oP(t){const e=gu(yu(t)).link,n=e?gu(yu(e)).deep_link_id:null,s=gu(yu(t)).deep_link_id;return(s?gu(yu(s)).link:null)||s||n||e||t}class oy{constructor(e){const n=gu(yu(e)),s=n.apiKey??null,a=n.oobCode??null,l=aP(n.mode??null);Ee(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=oP(e);try{return new oy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(e,n){return Lu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=oy.parseLink(n);return Ee(s,"argument-error"),Lu._fromEmailAndCode(e,s.code,s.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends ly{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends rc{constructor(){super("facebook.com")}static credential(e){return Ca._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.FACEBOOK_SIGN_IN_METHOD="facebook.com";_r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ca._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Es.credential(n,s)}catch{return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com";Es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends rc{constructor(){super("github.com")}static credential(e){return Ca._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends rc{constructor(){super("twitter.com")}static credential(e,n){return Ca._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Tr.credential(n,s)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(t,e){return sc(t,"POST","/v1/accounts:signUp",Ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await gi._fromIdTokenResponse(e,s,a),c=AT(s);return new Ra({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=AT(s);return new Ra({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function AT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends ks{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Rf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Rf(e,n,s,a)}}function HS(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Rf._fromErrorAndOperation(t,l,e,s):l})}async function uP(t,e,n=!1){const s=await Uo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ra._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(t,e,n=!1){const{auth:s}=t;if(Mn(s.app))return Promise.reject(xs(s));const a="reauthenticate";try{const l=await Uo(t,HS(s,a,e,t),n);Ee(l.idToken,s,"internal-error");const c=sy(l.idToken);Ee(c,s,"internal-error");const{sub:d}=c;return Ee(t.uid===d,s,"user-mismatch"),Ra._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ei(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(t,e,n=!1){if(Mn(t.app))return Promise.reject(xs(t));const s="signIn",a=await HS(t,s,e),l=await Ra._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function hP(t,e){return GS(Lr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS(t){const e=Lr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fP(t,e,n){if(Mn(t.app))return Promise.reject(xs(t));const s=Lr(t),c=await rg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lP).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&KS(t),m}),d=await Ra._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function dP(t,e,n){return Mn(t.app)?Promise.reject(xs(t)):hP(mn(t),Zo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&KS(t),s})}async function mP(t,e){const n=mn(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await nP(n.auth,a);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(t,e){return ts(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=mn(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Uo(s,pP(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const d=s.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function yP(t,e,n,s){return mn(t).onIdTokenChanged(e,n,s)}function vP(t,e,n){return mn(t).beforeAuthStateChanged(e,n)}function _P(t,e,n,s){return mn(t).onAuthStateChanged(e,n,s)}function bP(t){return mn(t).signOut()}const If="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(If,"1"),this.storage.removeItem(If),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=1e3,EP=10;class YS extends WS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=US(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);OD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,EP):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},TP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YS.type="LOCAL";const wP=YS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS extends WS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QS.type="SESSION";const $S=QS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Zf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),m=await SP(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=uy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const w=_;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function xP(t){Ki().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function CP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RP(){return navigator?.serviceWorker?.controller||null}function IP(){return XS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firebaseLocalStorageDb",NP=1,Nf="firebaseLocalStorage",ZS="fbase_key";class ac{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ed(t,e){return t.transaction([Nf],e?"readwrite":"readonly").objectStore(Nf)}function DP(){const t=indexedDB.deleteDatabase(JS);return new ac(t).toPromise()}function ag(){const t=indexedDB.open(JS,NP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Nf,{keyPath:ZS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Nf)?e(s):(s.close(),await DP(),e(await ag()))})})}async function xT(t,e,n){const s=ed(t,!0).put({[ZS]:e,value:n});return new ac(s).toPromise()}async function PP(t,e){const n=ed(t,!1).get(e),s=await new ac(n).toPromise();return s===void 0?null:s.value}function CT(t,e){const n=ed(t,!0).delete(e);return new ac(n).toPromise()}const MP=800,OP=3;class eA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ag(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>OP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zf._getInstance(IP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CP(),!this.activeServiceWorker)return;this.sender=new AP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ag();return await xT(e,If,"1"),await CT(e,If),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>xT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>PP(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=ed(a,!1).getAll();return new ac(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eA.type="LOCAL";const VP=eA;new ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t,e){return e?Ss(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends ay{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kP(t){return GS(t.auth,new cy(t),t.bypassAuthState)}function LP(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),cP(n,new cy(t),t.bypassAuthState)}async function jP(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),uP(n,new cy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kP;case"linkViaPopup":case"linkViaRedirect":return jP;case"reauthViaPopup":case"reauthViaRedirect":return LP;default:ei(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=new ic(2e3,1e4);async function zP(t,e,n){if(Mn(t.app))return Promise.reject(vi(t,"operation-not-supported-in-this-environment"));const s=Lr(t);mD(t,e,ly);const a=tA(s,n);return new va(s,"signInViaPopup",e,a).executeNotNull()}class va extends nA{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const e=uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UP.get())};e()}}va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="pendingRedirect",cf=new Map;class qP extends nA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=cf.get(this.auth._key());if(!e){try{const s=await FP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}cf.set(this.auth._key(),e)}return this.bypassAuthState||cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FP(t,e){const n=KP(e),s=GP(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function HP(t,e){cf.set(t._key(),e)}function GP(t){return Ss(t._redirectPersistence)}function KP(t){return uf(BP,t.config.apiKey,t.name)}async function WP(t,e,n=!1){if(Mn(t.app))return Promise.reject(xs(t));const s=Lr(t),a=tA(s,e),c=await new qP(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=600*1e3;class QP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$P(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!iA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(vi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YP&&this.cachedEventUids.clear(),this.cachedEventUids.has(RT(e))}saveEventToCache(e){this.cachedEventUids.add(RT(e)),this.lastProcessedEventTime=Date.now()}}function RT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function $P(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(t,e={}){return ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZP=/^https?/;async function eM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await XP(t);for(const n of e)try{if(tM(n))return}catch{}ei(t,"unauthorized-domain")}function tM(t){const e=ig(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!ZP.test(n))return!1;if(JP.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=new ic(3e4,6e4);function IT(){const t=Ki().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iM(t){return new Promise((e,n)=>{function s(){IT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IT(),n(vi(t,"network-request-failed"))},timeout:nM.get()})}if(Ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ki().gapi?.load)s();else{const a=FD("iframefcb");return Ki()[a]=()=>{gapi.load?s():n(vi(t,"network-request-failed"))},BS(`${qD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw hf=null,e})}let hf=null;function sM(t){return hf=hf||iM(t),hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=new ic(5e3,15e3),aM="__/auth/iframe",oM="emulator/auth/iframe",lM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cM(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iy(e,oM):`https://${t.config.authDomain}/${aM}`,s={apiKey:e.apiKey,appName:t.name,v:Jo},a=uM.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${nc(s).slice(1)}`}async function hM(t){const e=await sM(t),n=Ki().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:cM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=vi(t,"network-request-failed"),d=Ki().setTimeout(()=>{l(c)},rM.get());function m(){Ki().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dM=500,mM=600,pM="_blank",gM="http://localhost";class NT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yM(t,e,n,s=dM,a=mM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...fM,width:s.toString(),height:a.toString(),top:l,left:c},g=un().toLowerCase();n&&(d=OS(g)?pM:n),PS(g)&&(e=e||gM,m.scrollbars="yes");const y=Object.entries(m).reduce((w,[R,M])=>`${w}${R}=${M},`,"");if(MD(g)&&d!=="_self")return vM(e||"",d),new NT(null);const _=window.open(e||"",d,y);Ee(_,t,"popup-blocked");try{_.focus()}catch{}return new NT(_)}function vM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="__/auth/handler",bM="emulator/auth/handler",TM=encodeURIComponent("fac");async function DT(t,e,n,s,a,l){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Jo,eventId:a};if(e instanceof ly){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",JN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof rc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await t._getAppCheckToken(),g=m?`#${TM}=${encodeURIComponent(m)}`:"";return`${EM(t)}?${nc(d).slice(1)}${g}`}function EM({config:t}){return t.emulator?iy(t,bM):`https://${t.authDomain}/${_M}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="webStorageSupport";class wM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$S,this._completeRedirectFn=WP,this._overrideRedirectResult=HP}async _openPopup(e,n,s,a){Ns(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await DT(e,n,s,ig(),a);return yM(e,l,uy())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await DT(e,n,s,ig(),a);return xP(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ns(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await hM(e),s=new QP(e);return n.register("authEvent",a=>(Ee(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ip,{type:Ip},a=>{const l=a?.[0]?.[Ip];l!==void 0&&n(!!l),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return US()||MS()||ry()}}const SM=wM;var PT="@firebase/auth",MT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CM(t){jo(new xa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zS(t)},g=new UD(s,a,l,m);return QD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),jo(new xa("auth-internal",e=>{const n=Lr(e.getProvider("auth").getImmediate());return(s=>new AM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(PT,MT,xM(t)),Ar(PT,MT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=300,IM=gS("authIdTokenMaxAge")||RM;let OT=null;const NM=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>IM)return;const a=n?.token;OT!==a&&(OT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function DM(t=ES()){const e=ey(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YD(t,{popupRedirectResolver:SM,persistence:[VP,wP,$S]}),s=gS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=NM(l.toString());vP(n,c,()=>c(n.currentUser)),yP(n,d=>c(d))}}const a=mS("auth");return a&&$D(n,`http://${a}`),n}function PM(){return document.getElementsByTagName("head")?.[0]??document}zD({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=vi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",PM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CM("Browser");var VT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xr,sA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,P,z){for(var D=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)D[Fe-2]=arguments[Fe];return A.prototype[P].apply(V,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var P=0;P<16;++P)V[P]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(P=0;P<16;++P)V[P]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],P=C.g[2];let z=C.g[3],D;D=A+(z^I&(P^z))+V[0]+3614090360&4294967295,A=I+(D<<7&4294967295|D>>>25),D=z+(P^A&(I^P))+V[1]+3905402710&4294967295,z=A+(D<<12&4294967295|D>>>20),D=P+(I^z&(A^I))+V[2]+606105819&4294967295,P=z+(D<<17&4294967295|D>>>15),D=I+(A^P&(z^A))+V[3]+3250441966&4294967295,I=P+(D<<22&4294967295|D>>>10),D=A+(z^I&(P^z))+V[4]+4118548399&4294967295,A=I+(D<<7&4294967295|D>>>25),D=z+(P^A&(I^P))+V[5]+1200080426&4294967295,z=A+(D<<12&4294967295|D>>>20),D=P+(I^z&(A^I))+V[6]+2821735955&4294967295,P=z+(D<<17&4294967295|D>>>15),D=I+(A^P&(z^A))+V[7]+4249261313&4294967295,I=P+(D<<22&4294967295|D>>>10),D=A+(z^I&(P^z))+V[8]+1770035416&4294967295,A=I+(D<<7&4294967295|D>>>25),D=z+(P^A&(I^P))+V[9]+2336552879&4294967295,z=A+(D<<12&4294967295|D>>>20),D=P+(I^z&(A^I))+V[10]+4294925233&4294967295,P=z+(D<<17&4294967295|D>>>15),D=I+(A^P&(z^A))+V[11]+2304563134&4294967295,I=P+(D<<22&4294967295|D>>>10),D=A+(z^I&(P^z))+V[12]+1804603682&4294967295,A=I+(D<<7&4294967295|D>>>25),D=z+(P^A&(I^P))+V[13]+4254626195&4294967295,z=A+(D<<12&4294967295|D>>>20),D=P+(I^z&(A^I))+V[14]+2792965006&4294967295,P=z+(D<<17&4294967295|D>>>15),D=I+(A^P&(z^A))+V[15]+1236535329&4294967295,I=P+(D<<22&4294967295|D>>>10),D=A+(P^z&(I^P))+V[1]+4129170786&4294967295,A=I+(D<<5&4294967295|D>>>27),D=z+(I^P&(A^I))+V[6]+3225465664&4294967295,z=A+(D<<9&4294967295|D>>>23),D=P+(A^I&(z^A))+V[11]+643717713&4294967295,P=z+(D<<14&4294967295|D>>>18),D=I+(z^A&(P^z))+V[0]+3921069994&4294967295,I=P+(D<<20&4294967295|D>>>12),D=A+(P^z&(I^P))+V[5]+3593408605&4294967295,A=I+(D<<5&4294967295|D>>>27),D=z+(I^P&(A^I))+V[10]+38016083&4294967295,z=A+(D<<9&4294967295|D>>>23),D=P+(A^I&(z^A))+V[15]+3634488961&4294967295,P=z+(D<<14&4294967295|D>>>18),D=I+(z^A&(P^z))+V[4]+3889429448&4294967295,I=P+(D<<20&4294967295|D>>>12),D=A+(P^z&(I^P))+V[9]+568446438&4294967295,A=I+(D<<5&4294967295|D>>>27),D=z+(I^P&(A^I))+V[14]+3275163606&4294967295,z=A+(D<<9&4294967295|D>>>23),D=P+(A^I&(z^A))+V[3]+4107603335&4294967295,P=z+(D<<14&4294967295|D>>>18),D=I+(z^A&(P^z))+V[8]+1163531501&4294967295,I=P+(D<<20&4294967295|D>>>12),D=A+(P^z&(I^P))+V[13]+2850285829&4294967295,A=I+(D<<5&4294967295|D>>>27),D=z+(I^P&(A^I))+V[2]+4243563512&4294967295,z=A+(D<<9&4294967295|D>>>23),D=P+(A^I&(z^A))+V[7]+1735328473&4294967295,P=z+(D<<14&4294967295|D>>>18),D=I+(z^A&(P^z))+V[12]+2368359562&4294967295,I=P+(D<<20&4294967295|D>>>12),D=A+(I^P^z)+V[5]+4294588738&4294967295,A=I+(D<<4&4294967295|D>>>28),D=z+(A^I^P)+V[8]+2272392833&4294967295,z=A+(D<<11&4294967295|D>>>21),D=P+(z^A^I)+V[11]+1839030562&4294967295,P=z+(D<<16&4294967295|D>>>16),D=I+(P^z^A)+V[14]+4259657740&4294967295,I=P+(D<<23&4294967295|D>>>9),D=A+(I^P^z)+V[1]+2763975236&4294967295,A=I+(D<<4&4294967295|D>>>28),D=z+(A^I^P)+V[4]+1272893353&4294967295,z=A+(D<<11&4294967295|D>>>21),D=P+(z^A^I)+V[7]+4139469664&4294967295,P=z+(D<<16&4294967295|D>>>16),D=I+(P^z^A)+V[10]+3200236656&4294967295,I=P+(D<<23&4294967295|D>>>9),D=A+(I^P^z)+V[13]+681279174&4294967295,A=I+(D<<4&4294967295|D>>>28),D=z+(A^I^P)+V[0]+3936430074&4294967295,z=A+(D<<11&4294967295|D>>>21),D=P+(z^A^I)+V[3]+3572445317&4294967295,P=z+(D<<16&4294967295|D>>>16),D=I+(P^z^A)+V[6]+76029189&4294967295,I=P+(D<<23&4294967295|D>>>9),D=A+(I^P^z)+V[9]+3654602809&4294967295,A=I+(D<<4&4294967295|D>>>28),D=z+(A^I^P)+V[12]+3873151461&4294967295,z=A+(D<<11&4294967295|D>>>21),D=P+(z^A^I)+V[15]+530742520&4294967295,P=z+(D<<16&4294967295|D>>>16),D=I+(P^z^A)+V[2]+3299628645&4294967295,I=P+(D<<23&4294967295|D>>>9),D=A+(P^(I|~z))+V[0]+4096336452&4294967295,A=I+(D<<6&4294967295|D>>>26),D=z+(I^(A|~P))+V[7]+1126891415&4294967295,z=A+(D<<10&4294967295|D>>>22),D=P+(A^(z|~I))+V[14]+2878612391&4294967295,P=z+(D<<15&4294967295|D>>>17),D=I+(z^(P|~A))+V[5]+4237533241&4294967295,I=P+(D<<21&4294967295|D>>>11),D=A+(P^(I|~z))+V[12]+1700485571&4294967295,A=I+(D<<6&4294967295|D>>>26),D=z+(I^(A|~P))+V[3]+2399980690&4294967295,z=A+(D<<10&4294967295|D>>>22),D=P+(A^(z|~I))+V[10]+4293915773&4294967295,P=z+(D<<15&4294967295|D>>>17),D=I+(z^(P|~A))+V[1]+2240044497&4294967295,I=P+(D<<21&4294967295|D>>>11),D=A+(P^(I|~z))+V[8]+1873313359&4294967295,A=I+(D<<6&4294967295|D>>>26),D=z+(I^(A|~P))+V[15]+4264355552&4294967295,z=A+(D<<10&4294967295|D>>>22),D=P+(A^(z|~I))+V[6]+2734768916&4294967295,P=z+(D<<15&4294967295|D>>>17),D=I+(z^(P|~A))+V[13]+1309151649&4294967295,I=P+(D<<21&4294967295|D>>>11),D=A+(P^(I|~z))+V[4]+4149444226&4294967295,A=I+(D<<6&4294967295|D>>>26),D=z+(I^(A|~P))+V[11]+3174756917&4294967295,z=A+(D<<10&4294967295|D>>>22),D=P+(A^(z|~I))+V[2]+718787259&4294967295,P=z+(D<<15&4294967295|D>>>17),D=I+(z^(P|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+P&4294967295,C.g[3]=C.g[3]+z&4294967295}s.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,V=this.C;let P=this.h,z=0;for(;z<A;){if(P==0)for(;z<=I;)a(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<A;)if(V[P++]=C.charCodeAt(z++),P==this.blockSize){a(this,V),P=0;break}}else for(;z<A;)if(V[P++]=C[z++],P==this.blockSize){a(this,V),P=0;break}}this.h=P,this.o+=A},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[A++]=this.g[I]>>>V&255;return C};function l(C,A){var I=d;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function c(C,A){this.h=A;const I=[];let V=!0;for(let P=C.length-1;P>=0;P--){const z=C[P]|0;V&&z==A||(I[P]=z,V=!1)}this.g=I}var d={};function m(C){return-128<=C&&C<128?l(C,function(A){return new c([A|0],A<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return k(g(-C));const A=[];let I=1;for(let V=0;C>=I;V++)A[V]=C/I|0,I*=4294967296;return new c(A,0)}function y(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return k(y(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(A,8));let V=_;for(let z=0;z<C.length;z+=8){var P=Math.min(8,C.length-z);const D=parseInt(C.substring(z,z+P),A);P<8?(P=g(Math.pow(A,P)),V=V.j(P).add(g(D))):(V=V.j(I),V=V.add(g(D)))}return V}var _=m(0),w=m(1),R=m(16777216);t=c.prototype,t.m=function(){if(U(this))return-k(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(M(this))return"0";if(U(this))return"-"+k(this).toString(C);const A=g(Math.pow(C,6));var I=this;let V="";for(;;){const P=le(I,A).g;I=B(I,P.j(A));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=P,M(I))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function M(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function U(C){return C.h==-1}t.l=function(C){return C=B(this,C),U(C)?-1:M(C)?0:1};function k(C){const A=C.g.length,I=[];for(let V=0;V<A;V++)I[V]=~C.g[V];return new c(I,~C.h).add(w)}t.abs=function(){return U(this)?k(this):this},t.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let P=0;P<=A;P++){let z=V+(this.i(P)&65535)+(C.i(P)&65535),D=(z>>>16)+(this.i(P)>>>16)+(C.i(P)>>>16);V=D>>>16,z&=65535,D&=65535,I[P]=D<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function B(C,A){return C.add(k(A))}t.j=function(C){if(M(this)||M(C))return _;if(U(this))return U(C)?k(this).j(k(C)):k(k(this).j(C));if(U(C))return k(this.j(k(C)));if(this.l(R)<0&&C.l(R)<0)return g(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let P=0;P<C.g.length;P++){const z=this.i(V)>>>16,D=this.i(V)&65535,Fe=C.i(P)>>>16,ut=C.i(P)&65535;I[2*V+2*P]+=D*ut,F(I,2*V+2*P),I[2*V+2*P+1]+=z*ut,F(I,2*V+2*P+1),I[2*V+2*P+1]+=D*Fe,F(I,2*V+2*P+1),I[2*V+2*P+2]+=z*Fe,F(I,2*V+2*P+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new c(I,0)};function F(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function Y(C,A){this.g=C,this.h=A}function le(C,A){if(M(A))throw Error("division by zero");if(M(C))return new Y(_,_);if(U(C))return A=le(k(C),A),new Y(k(A.g),k(A.h));if(U(A))return A=le(C,k(A)),new Y(k(A.g),A.h);if(C.g.length>30){if(U(C)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var I=w,V=A;V.l(C)<=0;)I=oe(I),V=oe(V);var P=ae(I,1),z=ae(V,1);for(V=ae(V,2),I=ae(I,2);!M(V);){var D=z.add(V);D.l(C)<=0&&(P=P.add(I),z=D),V=ae(V,1),I=ae(I,1)}return A=B(C,P.j(A)),new Y(P,A)}for(P=_;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=g(I),D=z.j(A);U(D)||D.l(C)>0;)I-=V,z=g(I),D=z.j(A);M(z)&&(z=w),P=P.add(z),C=B(C,D)}return new Y(P,C)}t.B=function(C){return le(this,C).h},t.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&C.i(V);return new c(I,this.h&C.h)},t.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|C.i(V);return new c(I,this.h|C.h)},t.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^C.i(V);return new c(I,this.h^C.h)};function oe(C){const A=C.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new c(I,C.h)}function ae(C,A){const I=A>>5;A%=32;const V=C.g.length-I,P=[];for(let z=0;z<V;z++)P[z]=A>0?C.i(z+I)>>>A|C.i(z+I+1)<<32-A:C.i(z+I);return new c(P,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,sA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,xr=c}).apply(typeof VT<"u"?VT:typeof self<"u"?self:typeof window<"u"?window:{});var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rA,vu,aA,ff,og,oA,lA,uA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof $h=="object"&&$h];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var T=s;h=h.split(".");for(var x=0;x<h.length-1;x++){var H=h[x];if(!(H in T))break e;T=T[H]}h=h[h.length-1],x=T[h],v=v(x),v!=x&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var T=[],x;for(x in v)Object.prototype.hasOwnProperty.call(v,x)&&T.push([x,v[x]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,T){return h.call.apply(h.bind,arguments)}function g(h,v,T){return g=m,g.apply(null,arguments)}function y(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function _(h,v){function T(){}T.prototype=v.prototype,h.Z=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(x,H,Q){for(var ue=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ue[Ne-2]=arguments[Ne];return v.prototype[H].apply(x,ue)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const v=h.length;if(v>0){const T=Array(v);for(let x=0;x<v;x++)T[x]=h[x];return T}return[]}function M(h,v){for(let x=1;x<arguments.length;x++){const H=arguments[x];var T=typeof H;if(T=T!="object"?T:H?Array.isArray(H)?"array":T:"null",T=="array"||T=="object"&&typeof H.length=="number"){T=h.length||0;const Q=H.length||0;h.length=T+Q;for(let ue=0;ue<Q;ue++)h[T+ue]=H[ue]}else h.push(H)}}class U{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function k(h){c.setTimeout(()=>{throw h},0)}function B(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class F{constructor(){this.h=this.g=null}add(v,T){const x=Y.get();x.set(v,T),this.h?this.h.next=x:this.g=x,this.h=x}}var Y=new U(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ae=!1,C=new F,A=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(I)}};function I(){for(var h;h=B();){try{h.h.call(h.g)}catch(T){k(T)}var v=Y;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ae=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Fe(h,v){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(Fe,P),Fe.prototype.init=function(h,v){const T=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Fe.Z.h.call(this)},Fe.prototype.h=function(){Fe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),X=0;function re(h,v,T,x,H){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!x,this.ha=H,this.key=++X,this.da=this.fa=!1}function fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ie(h,v,T){for(const x in h)v.call(T,h[x],x,h)}function _e(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function L(h){const v={};for(const T in h)v[T]=h[T];return v}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,v){let T,x;for(let H=1;H<arguments.length;H++){x=arguments[H];for(T in x)h[T]=x[T];for(let Q=0;Q<Z.length;Q++)T=Z[Q],Object.prototype.hasOwnProperty.call(x,T)&&(h[T]=x[T])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,v,T,x,H){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ue=he(h,v,x,H);return ue>-1?(v=h[ue],T||(v.fa=!1)):(v=new re(v,this.src,Q,!!x,H),v.fa=T,h.push(v)),v};function se(h,v){const T=v.type;if(T in h.g){var x=h.g[T],H=Array.prototype.indexOf.call(x,v,void 0),Q;(Q=H>=0)&&Array.prototype.splice.call(x,H,1),Q&&(fe(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function he(h,v,T,x){for(let H=0;H<h.length;++H){const Q=h[H];if(!Q.da&&Q.listener==v&&Q.capture==!!T&&Q.ha==x)return H}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),rt={};function it(h,v,T,x,H){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)it(h,v[Q],T,x,H);return null}return T=ul(T),h&&h[ut]?h.J(v,T,d(x)?!!x.capture:!1,H):Ei(h,v,T,!1,x,H)}function Ei(h,v,T,x,H,Q){if(!v)throw Error("Invalid event type");const ue=d(H)?!!H.capture:!!H;let Ne=Ur(h);if(Ne||(h[Ae]=Ne=new de(h)),T=Ne.add(v,T,x,ue,Q),T.proxy)return T;if(x=ns(),T.proxy=x,x.src=h,x.listener=T,h.addEventListener)z||(H=ue),H===void 0&&(H=!1),h.addEventListener(v.toString(),x,H);else if(h.attachEvent)h.attachEvent(On(v.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ns(){function h(T){return v.call(h.src,h.listener,T)}const v=ol;return h}function Me(h,v,T,x,H){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Me(h,v[Q],T,x,H);else x=d(x)?!!x.capture:!!x,T=ul(T),h&&h[ut]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],T=he(v,T,x,H),T>-1&&(fe(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Ur(h))&&(v=h.g[v.toString()],h=-1,v&&(h=he(v,T,x,H)),(T=h>-1?v[h]:null)&&ti(T))}function ti(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ut])se(v.i,h);else{var T=h.type,x=h.proxy;v.removeEventListener?v.removeEventListener(T,x,h.capture):v.detachEvent?v.detachEvent(On(T),x):v.addListener&&v.removeListener&&v.removeListener(x),(T=Ur(v))?(se(T,h),T.h==0&&(T.src=null,v[Ae]=null)):fe(h)}}}function On(h){return h in rt?rt[h]:rt[h]="on"+h}function ol(h,v){if(h.da)h=!0;else{v=new Fe(v,this);const T=h.listener,x=h.ha||h.src;h.fa&&ti(h),h=T.call(x,v)}return h}function Ur(h){return h=h[Ae],h instanceof de?h:null}var ll="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(h){return typeof h=="function"?h:(h[ll]||(h[ll]=function(v){return h.handleEvent(v)}),h[ll])}function xt(){V.call(this),this.i=new de(this),this.M=this,this.G=null}_(xt,V),xt.prototype[ut]=!0,xt.prototype.removeEventListener=function(h,v,T,x){Me(this,h,v,T,x)};function jt(h,v){var T,x=h.G;if(x)for(T=[];x;x=x.G)T.push(x);if(h=h.M,x=v.type||v,typeof v=="string")v=new P(v,h);else if(v instanceof P)v.target=v.target||h;else{var H=v;v=new P(x,h),ce(v,H)}H=!0;let Q,ue;if(T)for(ue=T.length-1;ue>=0;ue--)Q=v.g=T[ue],H=js(Q,x,!0,v)&&H;if(Q=v.g=h,H=js(Q,x,!0,v)&&H,H=js(Q,x,!1,v)&&H,T)for(ue=0;ue<T.length;ue++)Q=v.g=T[ue],H=js(Q,x,!1,v)&&H}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const T=h.g[v];for(let x=0;x<T.length;x++)fe(T[x]);delete h.g[v],h.h--}}this.G=null},xt.prototype.J=function(h,v,T,x){return this.i.add(String(h),v,!1,T,x)},xt.prototype.K=function(h,v,T,x){return this.i.add(String(h),v,!0,T,x)};function js(h,v,T,x){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let Q=0;Q<v.length;++Q){const ue=v[Q];if(ue&&!ue.da&&ue.capture==T){const Ne=ue.listener,Tt=ue.ha||ue.src;ue.fa&&se(h.i,ue),H=Ne.call(Tt,x)!==!1&&H}}return H&&!x.defaultPrevented}function yd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function _c(h){h.g=yd(()=>{h.g=null,h.i&&(h.i=!1,_c(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class cn extends V{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:_c(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(h){V.call(this),this.h=h,this.g={}}_(zr,V);var cl=[];function hl(h){Ie(h.g,function(v,T){this.g.hasOwnProperty(T)&&ti(v)},h),h.g={}}zr.prototype.N=function(){zr.Z.N.call(this),hl(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Us=c.JSON.stringify,vd=c.JSON.parse,bc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Tc(){}function Ec(){}var ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){P.call(this,"d")}_(Wt,P);function Vn(){P.call(this,"c")}_(Vn,P);var bt={},wc=null;function Va(){return wc=wc||new xt}bt.Ia="serverreachability";function Sc(h){P.call(this,bt.Ia,h)}_(Sc,P);function wi(h){const v=Va();jt(v,new Sc(v))}bt.STAT_EVENT="statevent";function Br(h,v){P.call(this,bt.STAT_EVENT,h),this.stat=v}_(Br,P);function Ct(h){const v=Va();jt(v,new Br(v,h))}bt.Ja="timingevent";function Si(h,v){P.call(this,bt.Ja,h),this.size=v}_(Si,P);function Ai(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function _d(h,v,T,x,H,Q){h.info(function(){if(h.g)if(Q){var ue="",Ne=Q.split("&");for(let We=0;We<Ne.length;We++){var Tt=Ne[We].split("=");if(Tt.length>1){const ct=Tt[0];Tt=Tt[1];const Un=ct.split("_");ue=Un.length>=2&&Un[1]=="type"?ue+(ct+"="+Tt+"&"):ue+(ct+"=redacted&")}}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+x+") [attempt "+H+"]: "+v+`
`+T+`
`+ue})}function Ac(h,v,T,x,H,Q,ue){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+H+"]: "+v+`
`+T+`
`+Q+" "+ue})}function xi(h,v,T,x){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+bd(h,T)+(x?" "+x:"")})}function qr(h,v){h.info(function(){return"TIMEOUT: "+v})}ii.prototype.info=function(){};function bd(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var T=Q[h];if(!(T.length<2)){var x=T[1];if(Array.isArray(x)&&!(x.length<1)){var H=x[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ue=1;ue<x.length;ue++)x[ue]=""}}}}return Us(Q)}catch{return v}}var Fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dl;function Hr(){}_(Hr,Tc),Hr.prototype.g=function(){return new XMLHttpRequest},dl=new Hr;function is(h){return encodeURIComponent(String(h))}function xc(h){var v=1;h=h.split(":");const T=[];for(;v>0&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function si(h,v,T,x){this.j=h,this.i=v,this.l=T,this.S=x||1,this.V=new zr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var Rt={},qt={};function Ci(h,v,T){h.M=1,h.A=Gr(Nt(v)),h.u=T,h.R=!0,ka(h,null)}function ka(h,v){h.F=Date.now(),Ri(h),h.B=Nt(h.A);var T=h.B,x=h.S;Array.isArray(x)||(x=[String(x)]),za(T.i,"t",x),h.C=0,T=h.j.L,h.h=new ri,h.g=Bc(h.j,T?v:null,!h.u),h.P>0&&(h.O=new cn(g(h.Y,h,h.g),h.P)),v=h.V,T=h.g,x=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(cl[0]=H.toString()),H=cl);for(let Q=0;Q<H.length;Q++){const ue=it(T,H[Q],x||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),wi(),_d(h.i,h.v,h.B,h.l,h.S,h.u)}si.prototype.ba=function(h){h=h.target;const v=this.O;v&&li(h)==3?v.j():this.Y(h)},si.prototype.Y=function(h){try{if(h==this.g)e:{const Ne=li(this.g),Tt=this.g.ya(),We=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||Ne!=4||Tt==7||(Tt==8||We<=0?wi(3):wi(2)),Ii(this);var v=this.g.ca();this.X=v;var T=Td(this);if(this.o=v==200,Ac(this.i,this.v,this.B,this.l,this.S,Ne,v),this.o){if(this.U&&!this.L){t:{if(this.g){var x,H=this.g;if((x=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(x)){var Q=x;break t}}Q=null}if(h=Q)xi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,h);else{this.o=!1,this.m=3,Ct(12),Sn(this),kn(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<T.length;)if(ct=Rc(this,T),ct==qt){Ne==4&&(this.m=4,Ct(14),h=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Rt){this.m=4,Ct(15),xi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else xi(this.i,this.l,ct,null),Ni(this,ct);if(Cc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||T.length!=0||this.h.h||(this.m=1,Ct(16),h=!1),this.o=this.o&&h,!h)xi(this.i,this.l,T,"[Invalid Chunked Response]"),Sn(this),kn(this);else if(T.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Rl(ue),ue.P=!0,Ct(11))}}else xi(this.i,this.l,T,null),Ni(this,T);Ne==4&&Sn(this),this.o&&!this.K&&(Ne==4?Lc(this.j,this):(this.o=!1,Ri(this)))}else rs(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Sn(this),kn(this)}}}catch{}finally{}};function Td(h){if(!Cc(h))return h.g.la();const v=Yt(h.g);if(v==="")return"";let T="";const x=v.length,H=li(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Sn(h),kn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<x;Q++)h.h.h=!0,T+=h.h.i.decode(v[Q],{stream:!(H&&Q==x-1)});return v.length=0,h.h.g+=T,h.C=0,h.h.g}function Cc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Rc(h,v){var T=h.C,x=v.indexOf(`
`,T);return x==-1?qt:(T=Number(v.substring(T,x)),isNaN(T)?Rt:(x+=1,x+T>v.length?qt:(v=v.slice(x,x+T),h.C=x+T,v)))}si.prototype.cancel=function(){this.K=!0,Sn(this)};function Ri(h){h.T=Date.now()+h.H,La(h,h.H)}function La(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ai(g(h.aa,h),v)}function Ii(h){h.D&&(c.clearTimeout(h.D),h.D=null)}si.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(qr(this.i,this.B),this.M!=2&&(wi(),Ct(17)),Sn(this),this.m=2,kn(this)):La(this,this.T-h)};function kn(h){h.j.I==0||h.K||Lc(h.j,h)}function Sn(h){Ii(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,hl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ni(h,v){try{var T=h.j;if(T.I!=0&&(T.g==h||Pi(T.h,h))){if(!h.L&&Pi(T.h,h)&&T.I==3){try{var x=T.Ba.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var H=x;if(H[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Ga(T),Ws(T);else break e;Jr(T),Ct(18)}}else T.xa=H[1],0<T.xa-T.K&&H[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ai(g(T.Va,T),6e3));Di(T.h)<=1&&T.ta&&(T.ta=void 0)}else ji(T,11)}else if((h.L||T.g==h)&&Ga(T),!D(v))for(H=T.Ba.g.parse(v),v=0;v<H.length;v++){let We=H[v];const ct=We[0];if(!(ct<=T.K))if(T.K=ct,We=We[1],T.I==2)if(We[0]=="c"){T.M=We[1],T.ba=We[2];const Un=We[3];Un!=null&&(T.ka=Un,T.j.info("VER="+T.ka));const Ui=We[4];Ui!=null&&(T.za=Ui,T.j.info("SVER="+T.za));const ui=We[5];ui!=null&&typeof ui=="number"&&ui>0&&(x=1.5*ui,T.O=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const ci=h.g;if(ci){const Zr=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zr){var Q=x.h;Q.g||Zr.indexOf("spdy")==-1&&Zr.indexOf("quic")==-1&&Zr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(gl(Q,Q.h),Q.h=null))}if(x.G){const Ka=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(x.wa=Ka,$e(x.J,x.G,Ka))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),x=T;var ue=h;if(x.na=zc(x,x.L?x.ba:null,x.W),ue.L){yl(x.h,ue);var Ne=ue,Tt=x.O;Tt&&(Ne.H=Tt),Ne.D&&(Ii(Ne),Ri(Ne)),x.g=ue}else Vc(x);T.i.length>0&&Li(T)}else We[0]!="stop"&&We[0]!="close"||ji(T,7);else T.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?ji(T,7):xl(T):We[0]!="noop"&&T.l&&T.l.qa(We),T.A=0)}}wi(4)}catch{}}var It=class{constructor(h,v){this.g=h,this.map=v}};function ml(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Di(h){return h.h?1:h.g?h.g.size:0}function Pi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function gl(h,v){h.g?h.g.add(v):h.h=v}function yl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}ml.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function vl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.G);return v}return R(h.i)}var Ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ja(h,v){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const x=h[T].indexOf("=");let H,Q=null;x>=0?(H=h[T].substring(0,x),Q=h[T].substring(x+1)):H=h[T],v(H,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof An?(this.l=h.l,Ft(this,h.j),this.o=h.o,this.g=h.g,zs(this,h.u),this.h=h.h,_l(this,Mc(h.i)),this.m=h.m):h&&(v=String(h).match(Ic))?(this.l=!1,Ft(this,v[1]||"",!0),this.o=Mi(v[2]||""),this.g=Mi(v[3]||"",!0),zs(this,v[4]),this.h=Mi(v[5]||"",!0),_l(this,v[6]||"",!0),this.m=Mi(v[7]||"")):(this.l=!1,this.i=new qs(null,this.l))}An.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Kr(v,Ua,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Kr(v,Ua,!0),"@"),h.push(is(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Kr(T,T.charAt(0)=="/"?bl:Nc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Kr(T,Dc)),h.join("")},An.prototype.resolve=function(h){const v=Nt(this);let T=!!h.j;T?Ft(v,h.j):T=!!h.o,T?v.o=h.o:T=!!h.g,T?v.g=h.g:T=h.u!=null;var x=h.h;if(T)zs(v,h.u);else if(T=!!h.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var H=v.h.lastIndexOf("/");H!=-1&&(x=v.h.slice(0,H+1)+x)}if(H=x,H==".."||H==".")x="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){x=H.lastIndexOf("/",0)==0,H=H.split("/");const Q=[];for(let ue=0;ue<H.length;){const Ne=H[ue++];Ne=="."?x&&ue==H.length&&Q.push(""):Ne==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),x&&ue==H.length&&Q.push("")):(Q.push(Ne),x=!0)}x=Q.join("/")}else x=H}return T?v.h=x:T=h.i.toString()!=="",T?_l(v,Mc(h.i)):T=!!h.m,T&&(v.m=h.m),v};function Nt(h){return new An(h)}function Ft(h,v,T){h.j=T?Mi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function zs(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function _l(h,v,T){v instanceof qs?(h.i=v,Ba(h.i,h.l)):(T||(v=Kr(v,Bs)),h.i=new qs(v,h.l))}function $e(h,v,T){h.i.set(v,T)}function Gr(h){return $e(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Mi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Kr(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,pn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ua=/[#\/\?@]/g,Nc=/[#\?:]/g,bl=/[#\?]/g,Bs=/[#\?@]/g,Dc=/#/g;function qs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function gn(h){h.g||(h.g=new Map,h.h=0,h.i&&ja(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=qs.prototype,t.add=function(h,v){gn(this),this.i=null,h=Fs(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function Pc(h,v){gn(h),v=Fs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Tl(h,v){return gn(h),v=Fs(h,v),h.g.has(v)}t.forEach=function(h,v){gn(this),this.g.forEach(function(T,x){T.forEach(function(H){h.call(v,H,x,this)},this)},this)};function El(h,v){gn(h);let T=[];if(typeof v=="string")Tl(h,v)&&(T=T.concat(h.g.get(Fs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)T=T.concat(h[v]);return T}t.set=function(h,v){return gn(this),this.i=null,h=Fs(this,h),Tl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=El(this,h),h.length>0?String(h[0]):v):v};function za(h,v,T){Pc(h,v),T.length>0&&(h.i=null,h.g.set(Fs(h,v),R(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let x=0;x<v.length;x++){var T=v[x];const H=is(T);T=El(this,T);for(let Q=0;Q<T.length;Q++){let ue=H;T[Q]!==""&&(ue+="="+is(T[Q])),h.push(ue)}}return this.i=h.join("&")};function Mc(h){const v=new qs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Fs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ba(h,v){v&&!h.j&&(gn(h),h.i=null,h.g.forEach(function(T,x){const H=x.toLowerCase();x!=H&&(Pc(this,x),za(this,H,T))},h)),h.j=v}function ai(h,v){const T=new ii;if(c.Image){const x=new Image;x.onload=y(Ln,T,"TestLoadImage: loaded",!0,v,x),x.onerror=y(Ln,T,"TestLoadImage: error",!1,v,x),x.onabort=y(Ln,T,"TestLoadImage: abort",!1,v,x),x.ontimeout=y(Ln,T,"TestLoadImage: timeout",!1,v,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else v(!1)}function wl(h,v){const T=new ii,x=new AbortController,H=setTimeout(()=>{x.abort(),Ln(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:x.signal}).then(Q=>{clearTimeout(H),Q.ok?Ln(T,"TestPingServer: ok",!0,v):Ln(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Ln(T,"TestPingServer: error",!1,v)})}function Ln(h,v,T,x,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),x(T)}catch{}}function Hs(){this.g=new bc}function Oi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Oi,Tc),Oi.prototype.g=function(){return new Wr(this.i,this.h)};function Wr(h,v){xt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Wr,xt),t=Wr.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,oi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gs(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function qa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Gs(this):oi(this),this.readyState==3&&qa(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Gs(this))},t.Na=function(h){this.g&&(this.response=h,Gs(this))},t.ga=function(){this.g&&Gs(this)};function Gs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,oi(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function oi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function jn(h){let v="";return Ie(h,function(T,x){v+=x,v+=":",v+=T,v+=`\r
`}),v}function Yr(h,v,T){e:{for(x in T){var x=!1;break e}x=!0}x||(T=jn(T),typeof h=="string"?T!=null&&is(T):$e(h,v,T))}function Ze(h){xt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Ze,xt);var Vi=/^https?$/i,Sl=["POST","PUT"];t=Ze.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dl.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){Qr(this,Q);return}if(h=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var H in x)T.set(H,x[H]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Q of x.keys())T.set(Q,x.get(Q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Sl,v,void 0)>=0)||x||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of T)this.g.setRequestHeader(Q,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Qr(this,Q)}};function Qr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Al(h),ss(h)}function Al(h){h.A||(h.A=!0,jt(h,"complete"),jt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,jt(this,"complete"),jt(this,"abort"),ss(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?$r(this):this.Xa())},t.Xa=function(){$r(this)};function $r(h){if(h.h&&typeof l<"u"){if(h.v&&li(h)==4)setTimeout(h.Ca.bind(h),0);else if(jt(h,"readystatechange"),li(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var x;if(x=Q===0){let ue=String(h.D).match(Ic)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),x=!Vi.test(ue?ue.toLowerCase():"")}T=x}if(T)jt(h,"complete"),jt(h,"success");else{h.o=6;try{var H=li(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",Al(h)}}finally{ss(h)}}}}function ss(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,v||jt(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function li(h){return h.g?h.g.readyState:0}t.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),vd(v)}};function Yt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(h){const v={};h=(h.g&&li(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(D(h[x]))continue;var T=xc(h[x]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=v[H]||[];v[H]=Q,Q.push(T)}_e(v,function(x){return x.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Ks(h){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,h),this.Za=ki("retryDelaySeedMs",1e4,h),this.Ta=ki("forwardChannelMaxRetries",2,h),this.va=ki("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ml(h&&h.concurrentRequestLimit),this.Ba=new Hs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ks.prototype,t.ka=8,t.I=1,t.connect=function(h,v,T,x){Ct(0),this.W=h,this.H=v||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.J=zc(this,null,this.W),Li(this)};function xl(h){if(Fa(h),h.I==3){var v=h.V++,T=Nt(h.J);if($e(T,"SID",h.M),$e(T,"RID",v),$e(T,"TYPE","terminate"),Xr(h,T),v=new si(h,h.j,v),v.M=2,v.A=Gr(Nt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.A,T=!0),T||(v.g=Bc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ri(v)}Uc(h)}function Ws(h){h.g&&(Rl(h),h.g.cancel(),h.g=null)}function Fa(h){Ws(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ga(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Li(h){if(!pl(h.h)&&!h.m){h.m=!0;var v=h.Ea;oe||A(),ae||(oe(),ae=!0),C.add(v,h),h.D=0}}function Ha(h,v){return Di(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ai(g(h.Ea,h,v),jc(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new si(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=L(Q),ce(Q,this.U)):Q=this.U),this.u!==null||this.R||(H.J=Q,Q=null),this.S)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,v>4096){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Oc(this,H,v),T=Nt(this.J),$e(T,"RID",h),$e(T,"CVER",22),this.G&&$e(T,"X-HTTP-Session-Id",this.G),Xr(this,T),Q&&(this.R?v="headers="+is(jn(Q))+"&"+v:this.u&&Yr(T,this.u,Q)),gl(this.h,H),this.Ra&&$e(T,"TYPE","init"),this.S?($e(T,"$req",v),$e(T,"SID","null"),H.U=!0,Ci(H,T,null)):Ci(H,T,v),this.I=2}}else this.I==3&&(h?Cl(this,h):this.i.length==0||pl(this.h)||Cl(this))};function Cl(h,v){var T;v?T=v.l:T=h.V++;const x=Nt(h.J);$e(x,"SID",h.M),$e(x,"RID",T),$e(x,"AID",h.K),Xr(h,x),h.u&&h.o&&Yr(x,h.u,h.o),T=new si(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Oc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),gl(h.h,T),Ci(T,x,v)}function Xr(h,v){h.H&&Ie(h.H,function(T,x){$e(v,x,T)}),h.l&&Ie({},function(T,x){$e(v,x,T)})}function Oc(h,v,T){T=Math.min(h.i.length,T);const x=h.l?g(h.l.Ka,h.l,h):null;e:{var H=h.i;let Ne=-1;for(;;){const Tt=["count="+T];Ne==-1?T>0?(Ne=H[0].g,Tt.push("ofs="+Ne)):Ne=0:Tt.push("ofs="+Ne);let We=!0;for(let ct=0;ct<T;ct++){var Q=H[ct].g;const Un=H[ct].map;if(Q-=Ne,Q<0)Ne=Math.max(0,H[ct].g-100),We=!1;else try{Q="req"+Q+"_"||"";try{var ue=Un instanceof Map?Un:Object.entries(Un);for(const[Ui,ui]of ue){let ci=ui;d(ui)&&(ci=Us(ui)),Tt.push(Q+Ui+"="+encodeURIComponent(ci))}}catch(Ui){throw Tt.push(Q+"type="+encodeURIComponent("_badmap")),Ui}}catch{x&&x(Un)}}if(We){ue=Tt.join("&");break e}}ue=void 0}return h=h.i.splice(0,T),v.G=h,ue}function Vc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;oe||A(),ae||(oe(),ae=!0),C.add(v,h),h.A=0}}function Jr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ai(g(h.Da,h),jc(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,kc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ai(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Ws(this),kc(this))};function Rl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function kc(h){h.g=new si(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Nt(h.na);$e(v,"RID","rpc"),$e(v,"SID",h.M),$e(v,"AID",h.K),$e(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&$e(v,"TO",h.ia),$e(v,"TYPE","xmlhttp"),Xr(h,v),h.u&&h.o&&Yr(v,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Gr(Nt(v)),T.u=null,T.R=!0,ka(T,h)}t.Va=function(){this.C!=null&&(this.C=null,Ws(this),Jr(this),Ct(19))};function Ga(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Lc(h,v){var T=null;if(h.g==v){Ga(h),Rl(h),h.g=null;var x=2}else if(Pi(h.h,v))T=v.G,yl(h.h,v),x=1;else return;if(h.I!=0){if(v.o)if(x==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var H=h.D;x=Va(),jt(x,new Si(x,T)),Li(h)}else Vc(h);else if(H=v.m,H==3||H==0&&v.X>0||!(x==1&&Ha(h,v)||x==2&&Jr(h)))switch(T&&T.length>0&&(v=h.h,v.i=v.i.concat(T)),H){case 1:ji(h,5);break;case 4:ji(h,10);break;case 3:ji(h,6);break;default:ji(h,2)}}}function jc(h,v){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*v}function ji(h,v){if(h.j.info("Error code "+v),v==2){var T=g(h.bb,h),x=h.Ua;const H=!x;x=new An(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ft(x,"https"),Gr(x),H?ai(x.toString(),T):wl(x.toString(),T)}else Ct(2);h.I=0,h.l&&h.l.pa(v),Uc(h),Fa(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Uc(h){if(h.I=0,h.ja=[],h.l){const v=vl(h.h);(v.length!=0||h.i.length!=0)&&(M(h.ja,v),M(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function zc(h,v,T){var x=T instanceof An?Nt(T):new An(T);if(x.g!="")v&&(x.g=v+"."+x.g),zs(x,x.u);else{var H=c.location;x=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const Q=new An(null);x&&Ft(Q,x),v&&(Q.g=v),H&&zs(Q,H),T&&(Q.h=T),x=Q}return T=h.G,v=h.wa,T&&v&&$e(x,T,v),$e(x,"VER",h.ka),Xr(h,x),x}function Bc(h,v,T){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Ze(new Oi({ab:T})):new Ze(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qc(){}t=qc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ys(){}Ys.prototype.g=function(h,v){return new hn(h,v)};function hn(h,v){xt.call(this),this.g=new Ks(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new as(this)}_(hn,xt),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){xl(this.g)},hn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Us(h),h=T);v.i.push(new It(v.Ya++,h)),v.I==3&&Li(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,hn.Z.N.call(this)};function Fc(h){Wt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(Fc,Wt);function Hc(){Vn.call(this),this.status=1}_(Hc,Vn);function as(h){this.g=h}_(as,qc),as.prototype.ra=function(){jt(this.g,"a")},as.prototype.qa=function(h){jt(this.g,new Fc(h))},as.prototype.pa=function(h){jt(this.g,new Hc)},as.prototype.oa=function(){jt(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,uA=function(){return new Ys},lA=function(){return Va()},oA=bt,og={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,ff=Fr,fl.COMPLETE="complete",aA=fl,Ec.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",xt.prototype.listen=xt.prototype.J,vu=Ec,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,rA=Ze}).apply(typeof $h<"u"?$h:typeof self<"u"?self:typeof window<"u"?window:{});const kT="@firebase/firestore",LT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new Jg("@firebase/firestore");function wo(){return Ia.logLevel}function me(t,...e){if(Ia.logLevel<=Ue.DEBUG){const n=e.map(hy);Ia.debug(`Firestore (${el}): ${t}`,...n)}}function Ds(t,...e){if(Ia.logLevel<=Ue.ERROR){const n=e.map(hy);Ia.error(`Firestore (${el}): ${t}`,...n)}}function zo(t,...e){if(Ia.logLevel<=Ue.WARN){const n=e.map(hy);Ia.warn(`Firestore (${el}): ${t}`,...n)}}function hy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,cA(t,s,n)}function cA(t,e,n){let s=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ds(s),new Error(s)}function Qe(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||cA(e,a,s)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(an.UNAUTHENTICATED)))}shutdown(){}}class OM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class VM{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Cr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Cr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new hA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class kM{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LM{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new kM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=UM(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function ze(t,e){return t<e?-1:t>e?1:0}function lg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Np(a)===Np(l)?ze(a,l):Np(a)?1:-1}return ze(t.length,e.length)}const zM=55296,BM=57343;function Np(t){const e=t.charCodeAt(0);return e>=zM&&e<=BM}function Bo(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="__name__";class Gi{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Gi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return ze(e.length,n.length)}static compareSegments(e,n){const s=Gi.isNumericId(e),a=Gi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Gi.extractNumericId(e).compare(Gi.extractNumericId(n)):lg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xr.fromString(e.substring(4,e.length-2))}}class mt extends Gi{construct(e,n,s){return new mt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new mt(n)}static emptyPath(){return new mt([])}}const qM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Gi{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return qM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UT}static keyField(){return new tn([UT])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ye(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ye(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ye(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ye(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(mt.fromString(e))}static fromName(e){return new be(mt.fromString(e).popFirst(5))}static empty(){return new be(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t,e,n){if(!n)throw new ye(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HM(t,e,n,s){if(e===!0&&s===!0)throw new ye(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zT(t){if(!be.isDocumentKey(t))throw new ye(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function dy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we(12329,{type:typeof t})}function ju(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dy(t);throw new ye(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function oc(t,e){if(!fA(t))throw new ye(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ye(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=-62135596800,qT=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*qT);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<BT)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qT}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(oc(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-BT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Lt("string",lt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new lt(0,0))}static max(){return new xe(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=-1;function GM(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=xe.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new Rr(a,be.empty(),e)}function KM(t){return new Rr(t.readTime,t.key,Uu)}class Rr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Rr(xe.min(),be.empty(),Uu)}static max(){return new Rr(xe.max(),be.empty(),Uu)}}function WM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==YM)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((a=>a?ne.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((y=>{c[g]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new ne(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function $M(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}td.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=-1;function nd(t){return t==null}function Df(t){return t===0&&1/t==-1/0}function XM(t){return typeof t=="number"&&Number.isInteger(t)&&!Df(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="";function JM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=FT(e)),e=ZM(t.get(n),e);return FT(e)}function ZM(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case dA:n+="";break;default:n+=l}}return n}function FT(t){return t+dA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Da(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xh(this.root,e,this.comparator,!0)}}class Xh{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new en(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new GT(this.data.getIterator())}getIteratorFrom(e){return new GT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class GT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new yi([])}unionWith(e){let n=new Bt(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new yi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new pA("Invalid base64 string: "+l):l}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const eO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(t){if(Qe(!!t,39018),typeof t=="string"){let e=0;const n=eO.exec(t);if(Qe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nr(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="server_timestamp",yA="__type__",vA="__previous_value__",_A="__local_write_time__";function py(t){return(t?.mapValue?.fields||{})[yA]?.stringValue===gA}function id(t){const e=t.mapValue.fields[vA];return py(e)?id(e):e}function zu(t){const e=Ir(t.mapValue.fields[_A].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,s,a,l,c,d,m,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Pf="(default)";class Bu{constructor(e,n){this.projectId=e,this.database=n||Pf}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database===Pf}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="__type__",nO="__max__",Jh={mapValue:{}},TA="__vector__",Mf="value";function Dr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?py(t)?4:sO(t)?9007199254740991:iO(t)?10:11:we(28295,{value:t})}function Zi(t,e){if(t===e)return!0;const n=Dr(t);if(n!==Dr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zu(t).isEqual(zu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ir(a.timestampValue),d=Ir(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Nr(a.bytesValue).isEqual(Nr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return At(a.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return At(a.integerValue)===At(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=At(a.doubleValue),d=At(l.doubleValue);return c===d?Df(c)===Df(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Bo(t.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(HT(c)!==HT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Zi(c[m],d[m])))return!1;return!0})(t,e);default:return we(52216,{left:t})}}function qu(t,e){return(t.values||[]).find((n=>Zi(n,e)))!==void 0}function qo(t,e){if(t===e)return 0;const n=Dr(t),s=Dr(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=At(l.integerValue||l.doubleValue),m=At(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return KT(t.timestampValue,e.timestampValue);case 4:return KT(zu(t),zu(e));case 5:return lg(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Nr(l),m=Nr(c);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=ze(d[g],m[g]);if(y!==0)return y}return ze(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=ze(At(l.latitude),At(c.latitude));return d!==0?d:ze(At(l.longitude),At(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return WT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},g=d[Mf]?.arrayValue,y=m[Mf]?.arrayValue,_=ze(g?.values?.length||0,y?.values?.length||0);return _!==0?_:WT(g,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Jh.mapValue&&c===Jh.mapValue)return 0;if(l===Jh.mapValue)return 1;if(c===Jh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const w=lg(m[_],y[_]);if(w!==0)return w;const R=qo(d[m[_]],g[y[_]]);if(R!==0)return R}return ze(m.length,y.length)})(t.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function KT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Ir(t),s=Ir(e),a=ze(n.seconds,s.seconds);return a!==0?a:ze(n.nanos,s.nanos)}function WT(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=qo(n[a],s[a]);if(l)return l}return ze(n.length,s.length)}function Fo(t){return ug(t)}function ug(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Ir(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Nr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=ug(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${ug(n.fields[c])}`;return a+"}"})(t.mapValue):we(61005,{value:t})}function df(t){switch(Dr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=id(t);return e?16+df(e):16;case 5:return 2*t.stringValue.length;case 6:return Nr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+df(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Da(s.fields,((l,c)=>{a+=l.length+df(c)})),a})(t.mapValue);default:throw we(13486,{value:t})}}function cg(t){return!!t&&"integerValue"in t}function gy(t){return!!t&&"arrayValue"in t}function YT(t){return!!t&&"nullValue"in t}function QT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mf(t){return!!t&&"mapValue"in t}function iO(t){return(t?.mapValue?.fields||{})[bA]?.stringValue===TA}function Au(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Da(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Au(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Au(t.arrayValue.values[n]);return e}return{...t}}function sO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!mf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Au(n)}setAll(e){let n=tn.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Au(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());mf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];mf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Da(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new $n(Au(this.value))}}function EA(t){const e=[];return Da(t.fields,((n,s)=>{const a=new tn([n]);if(mf(s)){const l=EA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new yi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,s,a,l,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new on(e,0,xe.min(),xe.min(),xe.min(),$n.empty(),0)}static newFoundDocument(e,n,s,a){return new on(e,1,n,xe.min(),s,a,0)}static newNoDocument(e,n){return new on(e,2,n,xe.min(),xe.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,xe.min(),xe.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n){this.position=e,this.inclusive=n}}function $T(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=be.comparator(be.fromName(c.referenceValue),n.key):s=qo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function XT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n="asc"){this.field=e,this.dir=n}}function rO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{}class zt extends wA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new oO(e,n,s):n==="array-contains"?new cO(e,s):n==="in"?new hO(e,s):n==="not-in"?new fO(e,s):n==="array-contains-any"?new dO(e,s):new zt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new lO(e,s):new uO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qo(n,this.value)):n!==null&&Dr(this.value)===Dr(n)&&this.matchesComparison(qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class es extends wA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new es(e,n)}matches(e){return SA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SA(t){return t.op==="and"}function AA(t){return aO(t)&&SA(t)}function aO(t){for(const e of t.filters)if(e instanceof es)return!1;return!0}function hg(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+Fo(t.value);if(AA(t))return t.filters.map((e=>hg(e))).join(",");{const e=t.filters.map((n=>hg(n))).join(",");return`${t.op}(${e})`}}function xA(t,e){return t instanceof zt?(function(s,a){return a instanceof zt&&s.op===a.op&&s.field.isEqual(a.field)&&Zi(s.value,a.value)})(t,e):t instanceof es?(function(s,a){return a instanceof es&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&xA(c,a.filters[d])),!0):!1})(t,e):void we(19439)}function CA(t){return t instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fo(n.value)}`})(t):t instanceof es?(function(n){return n.op.toString()+" {"+n.getFilters().map(CA).join(" ,")+"}"})(t):"Filter"}class oO extends zt{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class lO extends zt{constructor(e,n){super(e,"in",n),this.keys=RA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class uO extends zt{constructor(e,n){super(e,"not-in",n),this.keys=RA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function RA(t,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class cO extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gy(n)&&qu(n.arrayValue,this.value)}}class hO extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qu(this.value.arrayValue,n)}}class fO extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qu(this.value.arrayValue,n)}}class dO extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>qu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function JT(t,e=null,n=[],s=[],a=null,l=null,c=null){return new mO(t,e,n,s,a,l,c)}function yy(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>hg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),nd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Fo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Fo(s))).join(",")),e.Te=n}return e.Te}function vy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XT(t.startAt,e.startAt)&&XT(t.endAt,e.endAt)}function fg(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pO(t,e,n,s,a,l,c,d){return new sd(t,e,n,s,a,l,c,d)}function _y(t){return new sd(t)}function ZT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gO(t){return t.collectionGroup!==null}function xu(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Bt(tn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Vf(l,s))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new Vf(tn.keyField(),s))}return e.Ie}function Wi(t){const e=Re(t);return e.Ee||(e.Ee=yO(e,xu(t))),e.Ee}function yO(t,e){if(t.limitType==="F")return JT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Vf(a.field,l)}));const n=t.endAt?new Of(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Of(t.startAt.position,t.startAt.inclusive):null;return JT(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function dg(t,e,n){return new sd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rd(t,e){return vy(Wi(t),Wi(e))&&t.limitType===e.limitType}function IA(t){return`${yy(Wi(t))}|lt:${t.limitType}`}function So(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>CA(a))).join(", ")}]`),nd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Fo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Fo(a))).join(",")),`Target(${s})`})(Wi(t))}; limitType=${t.limitType})`}function ad(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):be.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of xu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const g=$T(c,d,m);return c.inclusive?g<=0:g<0})(s.startAt,xu(s),a)||s.endAt&&!(function(c,d,m){const g=$T(c,d,m);return c.inclusive?g>=0:g>0})(s.endAt,xu(s),a))})(t,e)}function vO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NA(t){return(e,n)=>{let s=!1;for(const a of xu(t)){const l=_O(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function _O(t,e,n){const s=t.field.isKeyField()?be.comparator(e.key,n.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?qo(m,g):we(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Da(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return mA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new gt(be.comparator);function Ps(){return bO}const DA=new gt(be.comparator);function _u(...t){let e=DA;for(const n of t)e=e.insert(n.key,n);return e}function PA(t){let e=DA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function _a(){return Cu()}function MA(){return Cu()}function Cu(){return new Pa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const TO=new gt(be.comparator),EO=new Bt(be.comparator);function Be(...t){let e=EO;for(const n of t)e=e.add(n);return e}const wO=new Bt(ze);function SO(){return wO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Df(e)?"-0":e}}function OA(t){return{integerValue:""+t}}function AO(t,e){return XM(e)?OA(e):by(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this._=void 0}}function xO(t,e,n){return t instanceof kf?(function(a,l){const c={fields:{[yA]:{stringValue:gA},[_A]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&py(l)&&(l=id(l)),l&&(c.fields[vA]=l),{mapValue:c}})(n,e):t instanceof Fu?kA(t,e):t instanceof Hu?LA(t,e):(function(a,l){const c=VA(a,l),d=eE(c)+eE(a.Ae);return cg(c)&&cg(a.Ae)?OA(d):by(a.serializer,d)})(t,e)}function CO(t,e,n){return t instanceof Fu?kA(t,e):t instanceof Hu?LA(t,e):n}function VA(t,e){return t instanceof Lf?(function(s){return cg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class kf extends od{}class Fu extends od{constructor(e){super(),this.elements=e}}function kA(t,e){const n=jA(e);for(const s of t.elements)n.some((a=>Zi(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Hu extends od{constructor(e){super(),this.elements=e}}function LA(t,e){let n=jA(e);for(const s of t.elements)n=n.filter((a=>!Zi(a,s)));return{arrayValue:{values:n}}}class Lf extends od{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function eE(t){return At(t.integerValue||t.doubleValue)}function jA(t){return gy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function RO(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Fu&&a instanceof Fu||s instanceof Hu&&a instanceof Hu?Bo(s.elements,a.elements,Zi):s instanceof Lf&&a instanceof Lf?Zi(s.Ae,a.Ae):s instanceof kf&&a instanceof kf})(t.transform,e.transform)}class IO{constructor(e,n){this.version=e,this.transformResults=n}}class Cs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cs}static exists(e){return new Cs(void 0,e)}static updateTime(e){return new Cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ld{}function UA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new BA(t.key,Cs.none()):new lc(t.key,t.data,Cs.none());{const n=t.data,s=$n.empty();let a=new Bt(tn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Ma(t.key,s,new yi(a.toArray()),Cs.none())}}function NO(t,e,n){t instanceof lc?(function(a,l,c){const d=a.value.clone(),m=nE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Ma?(function(a,l,c){if(!pf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=nE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(zA(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Ru(t,e,n,s){return t instanceof lc?(function(l,c,d,m){if(!pf(l.precondition,c))return d;const g=l.value.clone(),y=iE(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof Ma?(function(l,c,d,m){if(!pf(l.precondition,c))return d;const g=iE(l.fieldTransforms,m,c),y=c.data;return y.setAll(zA(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,c,d){return pf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function DO(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=VA(s.transform,a||null);l!=null&&(n===null&&(n=$n.empty()),n.set(s.field,l))}return n||null}function tE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Bo(s,a,((l,c)=>RO(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lc extends ld{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ma extends ld{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function zA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function nE(t,e,n){const s=new Map;Qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,CO(c,d,n[a]))}return s}function iE(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,xO(l,c,e))}return s}class BA extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PO extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&NO(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ru(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ru(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=MA();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=UA(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(xe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,((n,s)=>tE(n,s)))&&Bo(this.baseMutations,e.baseMutations,((n,s)=>tE(n,s)))}}class Ty{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return TO})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Ty(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,He;function kO(t){switch(t){case ie.OK:return we(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return we(15467,{code:t})}}function qA(t){if(t===void 0)return Ds("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Vt.OK:return ie.OK;case Vt.CANCELLED:return ie.CANCELLED;case Vt.UNKNOWN:return ie.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ie.INTERNAL;case Vt.UNAVAILABLE:return ie.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ie.NOT_FOUND;case Vt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Vt.ABORTED:return ie.ABORTED;case Vt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Vt.DATA_LOSS:return ie.DATA_LOSS;default:return we(39323,{code:t})}}(He=Vt||(Vt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new xr([4294967295,4294967295],0);function sE(t){const e=LO().encode(t),n=new sA;return n.update(e),new Uint8Array(n.digest())}function rE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new xr([n,s],0),new xr([a,l],0)]}class Ey{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new bu(`Invalid padding: ${n}`);if(s<0)throw new bu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new bu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new bu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(xr.fromNumber(s)));return a.compare(jO)===1&&(a=new xr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sE(e),[s,a]=rE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ey(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=sE(e),[s,a]=rE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,uc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ud(xe.min(),a,new gt(ze),Ps(),Be())}}class uc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new uc(s,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class FA{constructor(e,n){this.targetId=e,this.Ce=n}}class HA{constructor(e,n,s=nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class aE{constructor(){this.ve=0,this.Fe=oE(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:we(38017,{changeType:l})}})),new uc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=oE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ps(),this.Je=Zh(),this.He=Zh(),this.Ye=new gt(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(fg(l))if(s===0){const c=new be(l.path);this.et(n,c,on.newNoDocument(c,xe.min()))}else Qe(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Nr(s).toUint8Array()}catch(m){if(m instanceof pA)return zo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Ey(c,a,l)}catch(m){return zo(m instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&fg(d.target)){const m=new be(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,on.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Be();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new ud(e,n,this.Ye,this.je,s);return this.je=Ps(),this.Je=Zh(),this.He=Zh(),this.Ye=new gt(ze),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new aE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zh(){return new gt(be.comparator)}function oE(){return new gt(be.comparator)}const zO={asc:"ASCENDING",desc:"DESCENDING"},BO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qO={and:"AND",or:"OR"};class FO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mg(t,e){return t.useProto3Json||nd(e)?e:{value:e}}function jf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HO(t,e){return jf(t,e.toTimestamp())}function Yi(t){return Qe(!!t,49232),xe.fromTimestamp((function(n){const s=Ir(n);return new lt(s.seconds,s.nanos)})(t))}function wy(t,e){return pg(t,e).canonicalString()}function pg(t,e){const n=(function(a){return new mt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function KA(t){const e=mt.fromString(t);return Qe(XA(e),10190,{key:e.toString()}),e}function gg(t,e){return wy(t.databaseId,e.path)}function Dp(t,e){const n=KA(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(YA(n))}function WA(t,e){return wy(t.databaseId,e)}function GO(t){const e=KA(t);return e.length===4?mt.emptyPath():YA(e)}function yg(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YA(t){return Qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lE(t,e,n){return{name:gg(t,e),fields:n.value.mapValue.fields}}function KO(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Qe(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?ie.UNKNOWN:qA(g.code);return new ye(y,g.message||"")})(c);n=new HA(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Dp(t,s.document.name),l=Yi(s.document.updateTime),c=s.document.createTime?Yi(s.document.createTime):xe.min(),d=new $n({mapValue:{fields:s.document.fields}}),m=on.newFoundDocument(a,l,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new gf(g,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Dp(t,s.document),l=s.readTime?Yi(s.readTime):xe.min(),c=on.newNoDocument(a,l),d=s.removedTargetIds||[];n=new gf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Dp(t,s.document),l=s.removedTargetIds||[];n=new gf([],l,a,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new VO(a,l),d=s.targetId;n=new FA(d,c)}}return n}function WO(t,e){let n;if(e instanceof lc)n={update:lE(t,e.key,e.value)};else if(e instanceof BA)n={delete:gg(t,e.key)};else if(e instanceof Ma)n={update:lE(t,e.key,e.data),updateMask:nV(e.fieldMask)};else{if(!(e instanceof PO))return we(16599,{Vt:e.type});n={verify:gg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof kf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Fu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Hu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Lf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw we(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:HO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)})(t,e.precondition)),n}function YO(t,e){return t&&t.length>0?(Qe(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Yi(a.updateTime):Yi(l);return c.isEqual(xe.min())&&(c=Yi(l)),new IO(c,a.transformResults||[])})(n,e)))):[]}function QO(t,e){return{documents:[WA(t,e.path)]}}function $O(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=WA(t,a);const l=(function(g){if(g.length!==0)return $A(es.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(w){return{field:Ao(w.field),direction:ZO(w.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=mg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function XO(t){let e=GO(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Qe(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const w=QA(_);return w instanceof es&&AA(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((w=>(function(M){return new Vf(xo(M.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(w)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let w;return w=typeof _=="object"?_.value:_,nd(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(_){const w=!!_.before,R=_.values||[];return new Of(R,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const w=!_.before,R=_.values||[];return new Of(R,w)})(n.endAt)),pO(e,a,c,l,d,"F",m,g)}function JO(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=xo(n.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=xo(n.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=xo(n.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xo(n.unaryFilter.field);return zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(t):t.fieldFilter!==void 0?(function(n){return zt.create(xo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return es.create(n.compositeFilter.filters.map((s=>QA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(t):we(30097,{filter:t})}function ZO(t){return zO[t]}function eV(t){return BO[t]}function tV(t){return qO[t]}function Ao(t){return{fieldPath:t.canonicalString()}}function xo(t){return tn.fromServerFormat(t.fieldPath)}function $A(t){return t instanceof zt?(function(n){if(n.op==="=="){if(QT(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NAN"}};if(YT(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QT(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NAN"}};if(YT(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(n.field),op:eV(n.op),value:n.value}}})(t):t instanceof es?(function(n){const s=n.getFilters().map((a=>$A(a)));return s.length===1?s[0]:{compositeFilter:{op:tV(n.op),filters:s}}})(t):we(54877,{filter:t})}function nV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function XA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n,s,a,l=xe.min(),c=xe.min(),d=nn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.yt=e}}function sV(t){const e=XO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.Cn=new aV}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Rr.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class aV{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Bt(mt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Bt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JA=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(JA,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ho(0)}static cr(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="LruGarbageCollector",oV=1048576;function hE([t,e],[n,s]){const a=ze(t,n);return a===0?ze(e,s):a}class lV{constructor(e){this.Ir=e,this.buffer=new Bt(hE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();hE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uV{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(cE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nl(n)?me(cE,"Ignoring IndexedDB error during garbage collection: ",n):await tl(n)}await this.Vr(3e5)}))}}class cV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(td.ce);const s=new lV(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(uE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,d,m,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(g=Date.now(),wo()<=Ue.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function hV(t,e){return new cV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.changes=new Pa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Ru(s.mutation,a,yi.empty(),lt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const a=_a();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=_u();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=_a();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,s,a){let l=Ps();const c=Cu(),d=(function(){return Cu()})();return n.forEach(((m,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Ma)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Ru(y.mutation,g,y.mutation.getFieldMask(),lt.now())):c.set(g.key,yi.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>d.set(g,new dV(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=Cu();let a=new gt(((c,d)=>c-d)),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let y=s.get(m)||yi.empty();y=d.applyToLocalView(g,y),s.set(m,y);const _=(a.get(d.batchId)||Be()).add(m);a=a.insert(d.batchId,_)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,_=MA();y.forEach((w=>{if(!l.has(w)){const R=UA(n.get(w),s.get(w));R!==null&&_.set(w,R),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,_))}return ne.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ne.resolve(_a());let d=Uu,m=l;return c.next((g=>ne.forEach(g,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?ne.resolve():this.remoteDocumentCache.getEntry(e,y).next((w=>{m=m.insert(y,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Be()))).next((y=>({batchId:d,changes:PA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let a=_u();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=_u();return this.indexManager.getCollectionParents(e,l).next((d=>ne.forEach(d,(m=>{const g=(function(_,w){return new sd(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((y=>{y.forEach(((_,w)=>{c=c.insert(_,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,on.newInvalidDocument(y)))}));let d=_u();return c.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&Ru(y.mutation,g,yi.empty(),lt.now()),ad(n,g)&&(d=d.insert(m,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Yi(a.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:sV(a.bundledQuery),readTime:Yi(a.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.overlays=new gt(be.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=_a();return ne.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const a=_a(),l=n.length+1,c=new be(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ne.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new gt(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=_a(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=_a(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=a)););return ne.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new OO(n,s));let l=this.qr.get(n);l===void 0&&(l=Be(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this.Qr=new Bt(Gt.$r),this.Ur=new Bt(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Gt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Gt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new be(new mt([])),s=new Gt(n,e),a=new Gt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new mt([])),s=new Gt(n,e),a=new Gt(n,e+1);let l=Be();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Gt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Gt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new MO(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Gt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?my:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Gt(n,0),a=new Gt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Bt(ze);return n.forEach((a=>{const l=new Gt(a,0),c=new Gt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;be.isDocumentKey(l)||(l=l.child(""));const c=new Gt(new be(l),0);let d=new Bt(ze);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),c),ne.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(a=>{const l=new Gt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Gt(n,0),a=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.ri=e,this.docs=(function(){return new gt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let s=Ps();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():on.newInvalidDocument(a))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Ps();const c=n.path,d=new be(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||WM(KM(y),s)<=0||(a.has(y.key)||ad(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,n,s,a){we(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new bV(this)}getSize(e){return ne.resolve(this.size)}}class bV extends fV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.persistence=e,this.si=new Pa((n=>yy(n)),vy),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Sy,this.targetCount=0,this.ai=Ho.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ho(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ne.waitFor(l).next((()=>a))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ne.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n){this.ui={},this.overlays={},this.ci=new td(0),this.li=!1,this.li=!0,this.hi=new yV,this.referenceDelegate=e(this),this.Pi=new TV(this),this.indexManager=new rV,this.remoteDocumentCache=(function(a){return new _V(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new iV(n),this.Ii=new pV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new vV(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const a=new EV(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class EV extends QM{constructor(e){super(),this.currentSequenceNumber=e}}class Ay{constructor(e){this.persistence=e,this.Ri=new Sy,this.Vi=null}static mi(e){return new Ay(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const a=be.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Uf{constructor(e,n){this.persistence=e,this.pi=new Pa((s=>JM(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=hV(this,n)}static mi(e,n){return new Uf(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ne.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(s++,l.removeEntry(c,xe.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=df(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ne.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Be(),a=Be();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new xy(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KN()?8:$M(un())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new wV;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(wo()<=Ue.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",So(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(wo()<=Ue.DEBUG&&me("QueryEngine","Query:",So(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(wo()<=Ue.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",So(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(n))):ne.resolve())}ys(e,n){if(ZT(n))return ne.resolve(null);let s=Wi(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=dg(n,null,"F"),s=Wi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Be(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(n,d);return this.Cs(n,g,c,m.readTime)?this.ys(e,dg(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,s,a){return ZT(n)||a.isEqual(xe.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?ne.resolve(null):(wo()<=Ue.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),So(n)),this.vs(e,c,n,GM(a,Uu)).next((d=>d)))}))}Ds(e,n){let s=new Bt(NA(e));return n.forEach(((a,l)=>{ad(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return wo()<=Ue.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",So(n)),this.ps.getDocumentsMatchingQuery(e,n,Rr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="LocalStore",AV=3e8;class xV{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new gt(ze),this.xs=new Pa((l=>yy(l)),vy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function CV(t,e,n,s){return new xV(t,e,n,s)}async function e1(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=Be();for(const g of a){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function RV(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,y){const _=g.batch,w=_.keys();let R=ne.resolve();return w.forEach((M=>{R=R.next((()=>y.getEntry(m,M))).next((U=>{const k=g.docVersions.get(M);Qe(k!==null,48541),U.version.compareTo(k)<0&&(_.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),y.addEntry(U)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Be();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function t1(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function IV(t,e){const n=Re(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((y,_)=>{const w=a.get(_);if(!w)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let R=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(nn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),a=a.insert(_,R),(function(U,k,B){return U.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=AV?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(w,R,y)&&d.push(n.Pi.updateTargetData(l,R))}));let m=Ps(),g=Be();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(NV(l,c,e.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!s.isEqual(xe.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return ne.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function NV(t,e,n){let s=Be(),a=Be();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Ps();return n.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(xe.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):me(Cy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function DV(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=my),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function PV(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,ne.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new Er(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function vg(t,e,n){const s=Re(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!nl(c))throw c;me(Cy,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function fE(t,e,n){const s=Re(t);let a=xe.min(),l=Be();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,y){const _=Re(m),w=_.xs.get(y);return w!==void 0?ne.resolve(_.Ms.get(w)):_.Pi.getTargetData(g,y)})(s,c,Wi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:xe.min(),n?l:Be()))).next((d=>(MV(s,vO(e),d),{documents:d,Qs:l})))))}function MV(t,e,n){let s=t.Os.get(e)||xe.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class dE{constructor(){this.activeTargetIds=SO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OV{constructor(){this.Mo=new dE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new dE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="ConnectivityMonitor";class pE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(mE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(mE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef=null;function _g(){return ef===null?ef=(function(){return 268435456+Math.round(2147483648*Math.random())})():ef++,"0x"+ef.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="RestConnection",kV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Pf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=_g(),d=this.zo(e,n.toUriEncodedString());me(Pp,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),y=Xo(g);return this.Jo(e,d,m,s,y).then((_=>(me(Pp,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw zo(Pp,`RPC '${e}' ${c} failed with error: `,_,"url: ",d,"request:",s),_}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+el})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=kV[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class UV extends LV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=_g();return new Promise(((d,m)=>{const g=new rA;g.setWithCredentials(!0),g.listenOnce(aA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case ff.NO_ERROR:const _=g.getResponseJson();me(rn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),d(_);break;case ff.TIMEOUT:me(rn,`RPC '${e}' ${c} timed out`),m(new ye(ie.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:const w=g.getStatus();if(me(rn,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const M=R?.error;if(M&&M.status&&M.message){const U=(function(B){const F=B.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(F)>=0?F:ie.UNKNOWN})(M.status);m(new ye(U,M.message))}else m(new ye(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ye(ie.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(rn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);me(rn,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=_g(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=uA(),d=lA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");me(rn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.I_(_);let w=!1,R=!1;const M=new jV({Yo:k=>{R?me(rn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(w||(me(rn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),w=!0),me(rn,`RPC '${e}' stream ${a} sending:`,k),_.send(k))},Zo:()=>_.close()}),U=(k,B,F)=>{k.listen(B,(Y=>{try{F(Y)}catch(le){setTimeout((()=>{throw le}),0)}}))};return U(_,vu.EventType.OPEN,(()=>{R||(me(rn,`RPC '${e}' stream ${a} transport opened.`),M.o_())})),U(_,vu.EventType.CLOSE,(()=>{R||(R=!0,me(rn,`RPC '${e}' stream ${a} transport closed`),M.a_(),this.E_(_))})),U(_,vu.EventType.ERROR,(k=>{R||(R=!0,zo(rn,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),M.a_(new ye(ie.UNAVAILABLE,"The operation could not be completed")))})),U(_,vu.EventType.MESSAGE,(k=>{if(!R){const B=k.data[0];Qe(!!B,16349);const F=B,Y=F?.error||F[0]?.error;if(Y){me(rn,`RPC '${e}' stream ${a} received error:`,Y);const le=Y.status;let oe=(function(A){const I=Vt[A];if(I!==void 0)return qA(I)})(le),ae=Y.message;oe===void 0&&(oe=ie.INTERNAL,ae="Unknown error status: "+le+" with message "+Y.message),R=!0,M.a_(new ye(oe,ae)),_.close()}else me(rn,`RPC '${e}' stream ${a} received:`,B),M.u_(B)}})),U(d,oA.STAT_EVENT,(k=>{k.stat===og.PROXY?me(rn,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===og.NOPROXY&&me(rn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){return new FO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="PersistentStream";class i1{constructor(e,n,s,a,l,c,d,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Ds(n.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ye(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(gE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(gE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zV extends i1{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=KO(this.serializer,e),s=(function(l){if(!("targetChange"in l))return xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?Yi(c.readTime):xe.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=yg(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=fg(m)?{documents:QO(l,m)}:{query:$O(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=GA(l,c.resumeToken);const g=mg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(xe.min())>0){d.readTime=jf(l,c.snapshotVersion.toTimestamp());const g=mg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const s=JO(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=yg(this.serializer),n.removeTarget=e,this.q_(n)}}class BV extends i1{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=YO(e.writeResults,e.commitTime),s=Yi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=yg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>WO(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{}class FV extends qV{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,pg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(ie.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,pg(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ds(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="RemoteStore";class GV{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Oa(this)&&(me(Na,"Restarting streams for network reachability change."),await(async function(m){const g=Re(m);g.Ea.add(4),await cc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await hd(g)})(this))}))})),this.Ra=new HV(s,a)}}async function hd(t){if(Oa(t))for(const e of t.da)await e(!0)}async function cc(t){for(const e of t.da)await e(!1)}function s1(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Dy(n)?Ny(n):il(n).O_()&&Iy(n,e))}function Ry(t,e){const n=Re(t),s=il(n);n.Ia.delete(e),s.O_()&&r1(n,e),n.Ia.size===0&&(s.O_()?s.L_():Oa(n)&&n.Ra.set("Unknown"))}function Iy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}il(t).Y_(e)}function r1(t,e){t.Va.Ue(e),il(t).Z_(e)}function Ny(t){t.Va=new UO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),il(t).start(),t.Ra.ua()}function Dy(t){return Oa(t)&&!il(t).x_()&&t.Ia.size>0}function Oa(t){return Re(t).Ea.size===0}function a1(t){t.Va=void 0}async function KV(t){t.Ra.set("Online")}async function WV(t){t.Ia.forEach(((e,n)=>{Iy(t,e)}))}async function YV(t,e){a1(t),Dy(t)?(t.Ra.ha(e),Ny(t)):t.Ra.set("Unknown")}async function QV(t,e,n){if(t.Ra.set("Online"),e instanceof HA&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(s){me(Na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zf(t,s)}else if(e instanceof gf?t.Va.Ze(e):e instanceof FA?t.Va.st(e):t.Va.tt(e),!n.isEqual(xe.min()))try{const s=await t1(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),r1(l,m);const _=new Er(y.target,m,g,y.sequenceNumber);Iy(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){me(Na,"Failed to raise snapshot:",s),await zf(t,s)}}async function zf(t,e,n){if(!nl(e))throw e;t.Ea.add(1),await cc(t),t.Ra.set("Offline"),n||(n=()=>t1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(Na,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await hd(t)}))}function o1(t,e){return e().catch((n=>zf(t,n,e)))}async function fd(t){const e=Re(t),n=Pr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:my;for(;$V(e);)try{const a=await DV(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,XV(e,a)}catch(a){await zf(e,a)}l1(e)&&u1(e)}function $V(t){return Oa(t)&&t.Ta.length<10}function XV(t,e){t.Ta.push(e);const n=Pr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function l1(t){return Oa(t)&&!Pr(t).x_()&&t.Ta.length>0}function u1(t){Pr(t).start()}async function JV(t){Pr(t).ra()}async function ZV(t){const e=Pr(t);for(const n of t.Ta)e.ea(n.mutations)}async function ek(t,e,n){const s=t.Ta.shift(),a=Ty.from(s,e,n);await o1(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await fd(t)}async function tk(t,e){e&&Pr(t).X_&&await(async function(s,a){if((function(c){return kO(c)&&c!==ie.ABORTED})(a.code)){const l=s.Ta.shift();Pr(s).B_(),await o1(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await fd(s)}})(t,e),l1(t)&&u1(t)}async function yE(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),me(Na,"RemoteStore received new credentials");const s=Oa(n);n.Ea.add(3),await cc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hd(n)}async function nk(t,e){const n=Re(t);e?(n.Ea.delete(2),await hd(n)):e||(n.Ea.add(2),await cc(n),n.Ra.set("Unknown"))}function il(t){return t.ma||(t.ma=(function(n,s,a){const l=Re(n);return l.sa(),new zV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:KV.bind(null,t),t_:WV.bind(null,t),r_:YV.bind(null,t),H_:QV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Dy(t)?Ny(t):t.Ra.set("Unknown")):(await t.ma.stop(),a1(t))}))),t.ma}function Pr(t){return t.fa||(t.fa=(function(n,s,a){const l=Re(n);return l.sa(),new BV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:JV.bind(null,t),r_:tk.bind(null,t),ta:ZV.bind(null,t),na:ek.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await fd(t)):(await t.fa.stop(),t.Ta.length>0&&(me(Na,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,d=new Py(e,n,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function My(t,e){if(Ds("AsyncQueue",`${e}: ${t}`),nl(t))return new ye(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(e){return new Vo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=_u(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.ga=new gt(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Go{constructor(e,n,s,a,l,c,d,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Go(e,n,Vo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sk{constructor(){this.queries=_E(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Re(n),l=a.queries;a.queries=_E(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new ye(ie.ABORTED,"Firestore shutting down"))}}function _E(){return new Pa((t=>IA(t)),rd)}async function rk(t,e){const n=Re(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new ik,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=My(c,`Initialization of query '${So(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Oy(n)}async function ak(t,e){const n=Re(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ok(t,e){const n=Re(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&Oy(n)}function lk(t,e,n){const s=Re(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function Oy(t){t.Ca.forEach((e=>{e.next()}))}var bg,bE;(bE=bg||(bg={})).Ma="default",bE.Cache="cache";class uk{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.key=e}}class h1{constructor(e){this.key=e}}class ck{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=NA(e),this.tu=new Vo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new vE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const w=a.get(y),R=ad(this.query,_)?_:null,M=!!w&&this.mutatedKeys.has(w.key),U=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;w&&R?w.data.isEqual(R.data)?M!==U&&(s.track({type:3,doc:R}),k=!0):this.su(w,R)||(s.track({type:2,doc:R}),k=!0,(m&&this.eu(R,m)>0||g&&this.eu(R,g)<0)&&(d=!0)):!w&&R?(s.track({type:0,doc:R}),k=!0):w&&!R&&(s.track({type:1,doc:w}),k=!0,(m||g)&&(d=!0)),k&&(R?(c=c.add(R),l=U?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,_)=>(function(R,M){const U=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:k})}};return U(R)-U(M)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new Go(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new h1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new c1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vy="SyncEngine";class hk{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class fk{constructor(e){this.key=e,this.hu=!1}}class dk{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Pa((d=>IA(d)),rd),this.Iu=new Map,this.Eu=new Set,this.du=new gt(be.comparator),this.Au=new Map,this.Ru=new Sy,this.Vu={},this.mu=new Map,this.fu=Ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mk(t,e,n=!0){const s=y1(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await f1(s,e,n,!0),a}async function pk(t,e){const n=y1(t);await f1(n,e,!0,!1)}async function f1(t,e,n,s){const a=await PV(t.localStore,Wi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await gk(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&s1(t.remoteStore,a),d}async function gk(t,e,n,s,a){t.pu=(_,w,R)=>(async function(U,k,B,F){let Y=k.view.ru(B);Y.Cs&&(Y=await fE(U.localStore,k.query,!1).then((({documents:C})=>k.view.ru(C,Y))));const le=F&&F.targetChanges.get(k.targetId),oe=F&&F.targetMismatches.get(k.targetId)!=null,ae=k.view.applyChanges(Y,U.isPrimaryClient,le,oe);return EE(U,k.targetId,ae.au),ae.snapshot})(t,_,w,R);const l=await fE(t.localStore,e,!0),c=new ck(e,l.Qs),d=c.ru(l.documents),m=uc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=c.applyChanges(d,t.isPrimaryClient,m);EE(t,n,g.au);const y=new hk(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function yk(t,e,n){const s=Re(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!rd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await vg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Ry(s.remoteStore,a.targetId),Tg(s,a.targetId)})).catch(tl)):(Tg(s,a.targetId),await vg(s.localStore,a.targetId,!0))}async function vk(t,e){const n=Re(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ry(n.remoteStore,s.targetId))}async function _k(t,e,n){const s=xk(t);try{const a=await(function(c,d){const m=Re(c),g=lt.now(),y=d.reduce(((R,M)=>R.add(M.key)),Be());let _,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let M=Ps(),U=Be();return m.Ns.getEntries(R,y).next((k=>{M=k,M.forEach(((B,F)=>{F.isValidDocument()||(U=U.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,M))).next((k=>{_=k;const B=[];for(const F of d){const Y=DO(F,_.get(F.key).overlayedDocument);Y!=null&&B.push(new Ma(F.key,Y,EA(Y.value.mapValue),Cs.exists(!0)))}return m.mutationQueue.addMutationBatch(R,g,B,d)})).next((k=>{w=k;const B=k.applyToLocalDocumentSet(_,U);return m.documentOverlayCache.saveOverlays(R,k.batchId,B)}))})).then((()=>({batchId:w.batchId,changes:PA(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new gt(ze)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(s,a.batchId,n),await hc(s,a.changes),await fd(s.remoteStore)}catch(a){const l=My(a,"Failed to persist write");n.reject(l)}}async function d1(t,e){const n=Re(t);try{const s=await IV(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Qe(c.hu,14607):a.removedDocuments.size>0&&(Qe(c.hu,42227),c.hu=!1))})),await hc(n,s,e)}catch(s){await tl(s)}}function TE(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Re(c);m.onlineState=d;let g=!1;m.queries.forEach(((y,_)=>{for(const w of _.Sa)w.va(d)&&(g=!0)})),g&&Oy(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bk(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new gt(be.comparator);c=c.insert(l,on.newNoDocument(l,xe.min()));const d=Be().add(l),m=new ud(xe.min(),new Map,new gt(ze),c,d);await d1(s,m),s.du=s.du.remove(l),s.Au.delete(e),ky(s)}else await vg(s.localStore,e,!1).then((()=>Tg(s,e,n))).catch(tl)}async function Tk(t,e){const n=Re(t),s=e.batch.batchId;try{const a=await RV(n.localStore,e);p1(n,s,null),m1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await hc(n,a)}catch(a){await tl(a)}}async function Ek(t,e,n){const s=Re(t);try{const a=await(function(c,d){const m=Re(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next((_=>(Qe(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(g,_)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(s.localStore,e);p1(s,e,n),m1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await hc(s,a)}catch(a){await tl(a)}}function m1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function p1(t,e,n){const s=Re(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Tg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||g1(t,s)}))}function g1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ry(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ky(t))}function EE(t,e,n){for(const s of n)s instanceof c1?(t.Ru.addReference(s.key,e),wk(t,s)):s instanceof h1?(me(Vy,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||g1(t,s.key)):we(19791,{wu:s})}function wk(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(me(Vy,"New document in limbo: "+n),t.Eu.add(s),ky(t))}function ky(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(mt.fromString(e)),s=t.fu.next();t.Au.set(s,new fk(n)),t.du=t.du.insert(n,s),s1(t.remoteStore,new Er(Wi(_y(n.path)),s,"TargetPurposeLimboResolution",td.ce))}}async function hc(t,e,n){const s=Re(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=xy.As(m.targetId,g);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,g){const y=Re(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ne.forEach(g,(w=>ne.forEach(w.Es,(R=>y.persistence.referenceDelegate.addReference(_,w.targetId,R))).next((()=>ne.forEach(w.ds,(R=>y.persistence.referenceDelegate.removeReference(_,w.targetId,R)))))))))}catch(_){if(!nl(_))throw _;me(Cy,"Failed to update sequence numbers: "+_)}for(const _ of g){const w=_.targetId;if(!_.fromCache){const R=y.Ms.get(w),M=R.snapshotVersion,U=R.withLastLimboFreeSnapshotVersion(M);y.Ms=y.Ms.insert(w,U)}}})(s.localStore,l))}async function Sk(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){me(Vy,"User change. New user:",e.toKey());const s=await e1(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ye(ie.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await hc(n,s.Ls)}}function Ak(t,e){const n=Re(t),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let a=Be();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function y1(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=d1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ak.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bk.bind(null,e),e.Pu.H_=ok.bind(null,e.eventManager),e.Pu.yu=lk.bind(null,e.eventManager),e}function xk(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ek.bind(null,e),e}class Bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return CV(this.persistence,new SV,e.initialUser,this.serializer)}Cu(e){return new ZA(Ay.mi,this.serializer)}Du(e){return new OV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bf.provider={build:()=>new Bf};class Ck extends Bf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Uf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new uV(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new ZA((s=>Uf.mi(s,n)),this.serializer)}}class Eg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>TE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sk.bind(null,this.syncEngine),await nk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sk})()}createDatastore(e){const n=cd(e.databaseInfo.databaseId),s=(function(l){return new UV(l)})(e.databaseInfo);return(function(l,c,d,m){return new FV(l,c,d,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,d){return new GV(s,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>TE(this.syncEngine,n,0)),(function(){return pE.v()?new pE:new VV})())}createSyncEngine(e,n){return(function(a,l,c,d,m,g,y){const _=new dk(a,l,c,d,m,g);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);me(Na,"RemoteStore shutting down."),s.Ea.add(5),await cc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Eg.provider={build:()=>new Eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="FirestoreClient";class Ik{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=an.UNAUTHENTICATED,this.clientId=fy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{me(Mr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(me(Mr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=My(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Op(t,e){t.asyncQueue.verifyOperationInProgress(),me(Mr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await e1(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function wE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Nk(t);me(Mr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>yE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>yE(e.remoteStore,a))),t._onlineComponents=e}async function Nk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Mr,"Using user provided OfflineComponentProvider");try{await Op(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;zo("Error using user provided cache. Falling back to memory cache: "+n),await Op(t,new Bf)}}else me(Mr,"Using default OfflineComponentProvider"),await Op(t,new Ck(void 0));return t._offlineComponents}async function v1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Mr,"Using user provided OnlineComponentProvider"),await wE(t,t._uninitializedComponentsProvider._online)):(me(Mr,"Using default OnlineComponentProvider"),await wE(t,new Eg))),t._onlineComponents}function Dk(t){return v1(t).then((e=>e.syncEngine))}async function Pk(t){const e=await v1(t),n=e.eventManager;return n.onListen=mk.bind(null,e.syncEngine),n.onUnlisten=yk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vk.bind(null,e.syncEngine),n}function Mk(t,e,n={}){const s=new Cr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const y=new Rk({next:w=>{y.Nu(),c.enqueueAndForget((()=>ak(l,_)));const R=w.docs.has(d);!R&&w.fromCache?g.reject(new ye(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&w.fromCache&&m&&m.source==="server"?g.reject(new ye(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),_=new uk(_y(d.path),y,{includeMetadataChanges:!0,qa:!0});return rk(l,_)})(await Pk(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="firestore.googleapis.com",AE=!0;class xE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=b1,this.ssl=AE}else this.host=e.host,this.ssl=e.ssl??AE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oV)throw new ye(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ly{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new MM;switch(s.type){case"firstParty":return new LM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=SE.get(n);s&&(me("ComponentProvider","Removing Datastore"),SE.delete(n),s.terminate())})(this),Promise.resolve()}}function Ok(t,e,n,s={}){t=ju(t,Ly);const a=Xo(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(yS(`https://${d}`),vS("Firestore",!0)),l.host!==b1&&l.host!==d&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!Aa(m,c)&&(t._setSettings(m),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=an.MOCK_USER;else{g=LN(s.mockUserToken,t._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ye(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new an(_)}t._authCredentials=new OM(new hA(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new jy(this.firestore,e,this._query)}}class Kt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(oc(n,Kt._jsonSchema))return new Kt(e,s||null,new be(mt.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Lt("string",Kt._jsonSchemaVersion),referencePath:Lt("string")};class Gu extends jy{constructor(e,n,s){super(e,n,_y(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new be(e))}withConverter(e){return new Gu(this.firestore,e,this._path)}}function T1(t,e,...n){if(t=mn(t),arguments.length===1&&(e=fy.newId()),FM("doc","path",e),t instanceof Ly){const s=mt.fromString(e,...n);return zT(s),new Kt(t,null,new be(s))}{if(!(t instanceof Kt||t instanceof Gu))throw new ye(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(mt.fromString(e,...n));return zT(s),new Kt(t.firestore,t instanceof Gu?t.converter:null,new be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="AsyncQueue";class RE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n1(this,"async_queue_retry"),this._c=()=>{const s=Mp();s&&me(CE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Mp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nl(e))throw e;me(CE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ds("INTERNAL UNHANDLED ERROR: ",IE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Py.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&we(47125,{Pc:IE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function IE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Uy extends Ly{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new RE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RE(e),this._firestoreClient=void 0,await e}}}function Vk(t,e){const n=typeof t=="object"?t:ES(),s=typeof t=="string"?t:Pf,a=ey(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=VN("firestore");l&&Ok(a,...l)}return a}function E1(t){if(t._terminated)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kk(t),t._firestoreClient}function kk(t){const e=t._freezeSettings(),n=(function(a,l,c,d){return new tO(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,_1(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Ik(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(nn.fromBase64String(e))}catch(n){throw new ye(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(oc(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Lt("string",Xn._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(oc(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Lt("string",Qi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(oc(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $i(e.vectorValues);throw new ye(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Lt("string",$i._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=/^__.*__$/;class jk{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new lc(e,this.data,n,this.fieldTransforms)}}function S1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:t})}}class By{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new By({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(S1(this.Ac)&&Lk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Uk{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||cd(e)}Cc(e,n,s,a=!1){return new By({Ac:e,methodName:n,Dc:s,path:tn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zk(t){const e=t._freezeSettings(),n=cd(t._databaseId);return new Uk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Bk(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);R1("Data must be an object, but it was:",c,s);const d=x1(s,c);let m,g;if(l.merge)m=new yi(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const w=qk(e,_,n);if(!c.contains(w))throw new ye(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Hk(y,w)||y.push(w)}m=new yi(y),g=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,g=c.fieldTransforms;return new jk(new $n(d),m,g)}function A1(t,e){if(C1(t=mn(t)))return R1("Unsupported field value:",e,t),x1(t,e);if(t instanceof w1)return(function(s,a){if(!S1(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=A1(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=mn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return AO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=lt.fromDate(s);return{timestampValue:jf(a.serializer,l)}}if(s instanceof lt){const l=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jf(a.serializer,l)}}if(s instanceof Qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:GA(a.serializer,s._byteString)};if(s instanceof Kt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:wy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof $i)return(function(c,d){return{mapValue:{fields:{[bA]:{stringValue:TA},[Mf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return by(d.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${dy(s)}`)})(t,e)}function x1(t,e){const n={};return mA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Da(t,((s,a)=>{const l=A1(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function C1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof Qi||t instanceof Xn||t instanceof Kt||t instanceof w1||t instanceof $i)}function R1(t,e,n){if(!C1(n)||!fA(n)){const s=dy(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function qk(t,e,n){if((e=mn(e))instanceof zy)return e._internalPath;if(typeof e=="string")return I1(t,e);throw qf("Field path arguments must be of type string or ",t,!1,void 0,n)}const Fk=new RegExp("[~\\*/\\[\\]]");function I1(t,e,n){if(e.search(Fk)>=0)throw qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zy(...e.split("."))._internalPath}catch{throw qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qf(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ye(ie.INVALID_ARGUMENT,d+t+m)}function Hk(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(D1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Gk extends N1{data(){return super.data()}}function D1(t,e){return typeof e=="string"?I1(t,e):e instanceof zy?e._internalPath:e._delegate._internalPath}class Kk{convertValue(e,n="none"){switch(Dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Da(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Mf].arrayValue?.values?.map((s=>At(s.doubleValue)));return new $i(n)}convertGeoPoint(e){return new Qi(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=id(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){const n=Ir(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=mt.fromString(e);Qe(XA(s),9688,{name:e});const a=new Bu(s.get(1),s.get(3)),l=new be(s.popFirst(5));return a.isEqual(n)||Ds(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ea extends N1{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(D1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ea._jsonSchema={type:Lt("string",Ea._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class yf extends Ea{data(e={}){return super.data(e)}}class Iu{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Tu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new yf(this._firestore,this._userDataWriter,s.key,s,new Tu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new yf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Tu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new yf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Tu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:Yk(d.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Iu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Yk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t){t=ju(t,Kt);const e=ju(t.firestore,Uy);return Mk(E1(e),t._key).then((n=>Jk(e,t,n)))}Iu._jsonSchemaVersion="firestore/querySnapshot/1.0",Iu._jsonSchema={type:Lt("string",Iu._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class $k extends Kk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function P1(t,e,n){t=ju(t,Kt);const s=ju(t.firestore,Uy),a=Wk(t.converter,e);return Xk(s,[Bk(zk(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Cs.none())])}function Xk(t,e){return(function(s,a){const l=new Cr;return s.asyncQueue.enqueueAndForget((async()=>_k(await Dk(s),a,l))),l.promise})(E1(t),e)}function Jk(t,e,n){const s=n.docs.get(e._key),a=new $k(t);return new Ea(t,a,e._key,s,new Tu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){el=a})(Jo),jo(new xa("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Uy(new VM(s.getProvider("auth-internal")),new jM(c,s.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(g.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Ar(kT,LT,e),Ar(kT,LT,"esm2020")})();const Zk={apiKey:"AIzaSyDwvfidCEamvwCJ3j23PJJTf5aiKW102Zc",authDomain:"code-learning-app-fa86a.firebaseapp.com",projectId:"code-learning-app-fa86a",storageBucket:"code-learning-app-fa86a.appspot.com",messagingSenderId:"597658737138",appId:"1:597658737138:web:90a5c0fe196443b76c736b"},M1=TS(Zk),fc=DM(M1),O1=Vk(M1),eL=new Es;async function tL(t,e,n){const a=(await fP(fc,t,e)).user;return await gP(a,{displayName:n}),await mP(a),await P1(T1(O1,"users",a.uid),{uid:a.uid,email:t,username:n,role:"student",xp:0,currentLevel:1,createdAt:new Date().toISOString()}),a}async function nL(t,e){return(await dP(fc,t,e)).user}async function iL(){const e=(await zP(fc,eL)).user,n=T1(O1,"users",e.uid);return(await Qk(n)).exists()||await P1(n,{uid:e.uid,email:e.email,username:e.displayName||e.email,avatarUrl:e.photoURL||null,role:"student",xp:0,currentLevel:1,createdAt:new Date().toISOString()}),e}function sL(){return bP(fc)}const qy=N.createContext(null);function rL({children:t}){const[e,n]=N.useState(null),[s,a]=N.useState(!0),[l,c]=N.useState(null);N.useEffect(()=>{const m=setTimeout(()=>{a(!1)},5e3),g=_P(fc,y=>{clearTimeout(m);const _=y&&l&&y.uid!==l.uid,w=y&&!l;if(_&&(console.log("New user detected, clearing previous progress"),l?.uid&&aL(l.uid)),w)try{localStorage.removeItem("codehub_app_state")}catch(R){console.error("Error clearing old storage:",R)}n(y),c(y),a(!1)});return()=>{g(),clearTimeout(m)}},[l]);const d={currentUser:e,loading:s};return s?E.jsx("div",{className:"gradient-bg d-flex justify-content-center align-items-center",style:{height:"100vh"},children:E.jsx("h1",{className:"neon-text",children:"Authenticating..."})}):E.jsx(qy.Provider,{value:d,children:t})}const ko={selectedLanguage:null,xpByLanguage:{},levelsByLanguage:{},prerequisiteTests:{},profile:{name:"",avatarUrl:"",bio:""}};function Fy(t){return t?`codehub_app_state_${t}`:"codehub_app_state_guest"}function NE(t){try{const e=Fy(t),n=localStorage.getItem(e);return n?{...ko,...JSON.parse(n)}:ko}catch{return ko}}function aL(t,e={}){try{if(localStorage.removeItem("codehub_app_state"),t){const n=Fy(t);localStorage.removeItem(n)}if(e.removeAllUserKeys){const n=[];for(let s=0;s<localStorage.length;s++){const a=localStorage.key(s);a&&a.startsWith("codehub_app_state_")&&n.push(a)}n.forEach(s=>localStorage.removeItem(s))}return ko}catch(n){return console.error("Error clearing user progress:",n),ko}}function oL(t,e){try{const n=Fy(e);localStorage.setItem(n,JSON.stringify(t))}catch(n){console.error("Error saving state:",n)}}function lL(t,e){switch(e.type){case"RESET_STATE":return e.payload||ko;case"selectLanguage":return{...t,selectedLanguage:e.lang};case"gainXP":{const s=t.xpByLanguage[e.lang]||0;return{...t,xpByLanguage:{...t.xpByLanguage,[e.lang]:s+e.amount}}}case"completeLevel":{const s=new Set(t.levelsByLanguage[e.lang]||[]);if(s.has(e.levelId))return t;s.add(e.levelId);const a=t.xpByLanguage[e.lang]||0;return{...t,xpByLanguage:{...t.xpByLanguage,[e.lang]:a+e.xp},levelsByLanguage:{...t.levelsByLanguage,[e.lang]:Array.from(s)}}}case"updateProfile":return{...t,profile:{...t.profile,...e.payload}};case"completePrerequisiteTest":const n=e.score>15?"advanced":e.score>13?"intermediate":"easy";return{...t,prerequisiteTests:{...t.prerequisiteTests,[e.lang]:{score:e.score,percentage:e.percentage,unlockedDifficulty:n,completed:!0}}};default:return t}}const V1=N.createContext(null);function uL({children:t}){const n=N.useContext(qy)?.currentUser?.uid||null,[s,a]=N.useState(n),[l,c]=N.useState(!1),[d,m]=N.useReducer(lL,null,()=>{const y=NE(n);return c(!0),y});N.useEffect(()=>{if(l&&n!==s){console.log("User changed from",s,"to",n),s&&console.log("Clearing progress for previous user:",s);const y=NE(n);console.log("Loading state for new user:",n,y),m({type:"RESET_STATE",payload:y}),a(n)}},[n,s,l]),N.useEffect(()=>{oL(d,n)},[d,n]);const g=N.useMemo(()=>({state:d,dispatch:m}),[d]);return E.jsx(V1.Provider,{value:g,children:t})}function dc(){const t=N.useContext(V1);if(!t)throw new Error("useApp must be used within AppProvider");return t}function mc(){const t=N.useContext(qy);if(!t)throw new Error("useAuth must be used within an AuthProvider.");return t}const Hy=N.createContext({});function Gy(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ky=typeof window<"u",k1=Ky?N.useLayoutEffect:N.useEffect,dd=N.createContext(null);function Wy(t,e){t.indexOf(e)===-1&&t.push(e)}function Yy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ms=(t,e,n)=>n>e?e:n<t?t:n;let Qy=()=>{};const Os={},L1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function j1(t){return typeof t=="object"&&t!==null}const U1=t=>/^0[^.\s]+$/u.test(t);function $y(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zn=t=>t,cL=(t,e)=>n=>e(t(n)),pc=(...t)=>t.reduce(cL),Ku=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Xy{constructor(){this.subscriptions=[]}add(e){return Wy(this.subscriptions,e),()=>Yy(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xi=t=>t*1e3,Jn=t=>t/1e3;function z1(t,e){return e?t*(1e3/e):0}const B1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,hL=1e-7,fL=12;function dL(t,e,n,s,a){let l,c,d=0;do c=e+(n-e)/2,l=B1(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>hL&&++d<fL);return c}function gc(t,e,n,s){if(t===e&&n===s)return Zn;const a=l=>dL(l,0,1,t,n);return l=>l===0||l===1?l:B1(a(l),e,s)}const q1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,F1=t=>e=>1-t(1-e),H1=gc(.33,1.53,.69,.99),Jy=F1(H1),G1=q1(Jy),K1=t=>(t*=2)<1?.5*Jy(t):.5*(2-Math.pow(2,-10*(t-1))),Zy=t=>1-Math.sin(Math.acos(t)),W1=F1(Zy),Y1=q1(Zy),mL=gc(.42,0,1,1),pL=gc(0,0,.58,1),Q1=gc(.42,0,.58,1),gL=t=>Array.isArray(t)&&typeof t[0]!="number",$1=t=>Array.isArray(t)&&typeof t[0]=="number",yL={linear:Zn,easeIn:mL,easeInOut:Q1,easeOut:pL,circIn:Zy,circInOut:Y1,circOut:W1,backIn:Jy,backInOut:G1,backOut:H1,anticipate:K1},vL=t=>typeof t=="string",DE=t=>{if($1(t)){Qy(t.length===4);const[e,n,s,a]=t;return gc(e,n,s,a)}else if(vL(t))return yL[t];return t},tf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _L(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(g.schedule(y),t()),y(d)}const g={schedule:(y,_=!1,w=!1)=>{const M=w&&a?n:s;return _&&c.add(y),M.has(y)||M.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const bL=40;function X1(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=tf.reduce((Y,le)=>(Y[le]=_L(l),Y),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:y,update:_,preRender:w,render:R,postRender:M}=c,U=()=>{const Y=Os.useManualTiming?a.timestamp:performance.now();n=!1,Os.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Y-a.timestamp,bL),1)),a.timestamp=Y,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),y.process(a),_.process(a),w.process(a),R.process(a),M.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(U))},k=()=>{n=!0,s=!0,a.isProcessing||t(U)};return{schedule:tf.reduce((Y,le)=>{const oe=c[le];return Y[le]=(ae,C=!1,A=!1)=>(n||k(),oe.schedule(ae,C,A)),Y},{}),cancel:Y=>{for(let le=0;le<tf.length;le++)c[tf[le]].cancel(Y)},state:a,steps:c}}const{schedule:ft,cancel:Or,state:Zt,steps:Vp}=X1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zn,!0);let vf;function TL(){vf=void 0}const wn={now:()=>(vf===void 0&&wn.set(Zt.isProcessing||Os.useManualTiming?Zt.timestamp:performance.now()),vf),set:t=>{vf=t,queueMicrotask(TL)}},J1=t=>e=>typeof e=="string"&&e.startsWith(t),ev=J1("--"),EL=J1("var(--"),tv=t=>EL(t)?wL.test(t.split("/*")[0].trim()):!1,wL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wu={...sl,transform:t=>Ms(0,1,t)},nf={...sl,default:1},Nu=t=>Math.round(t*1e5)/1e5,nv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SL(t){return t==null}const AL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iv=(t,e)=>n=>!!(typeof n=="string"&&AL.test(n)&&n.startsWith(t)||e&&!SL(n)&&Object.prototype.hasOwnProperty.call(n,e)),Z1=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(nv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},xL=t=>Ms(0,255,t),kp={...sl,transform:t=>Math.round(xL(t))},ba={test:iv("rgb","red"),parse:Z1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+kp.transform(t)+", "+kp.transform(e)+", "+kp.transform(n)+", "+Nu(Wu.transform(s))+")"};function CL(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const wg={test:iv("#"),parse:CL,transform:ba.transform},yc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vr=yc("deg"),Ji=yc("%"),Se=yc("px"),RL=yc("vh"),IL=yc("vw"),PE={...Ji,parse:t=>Ji.parse(t)/100,transform:t=>Ji.transform(t*100)},Co={test:iv("hsl","hue"),parse:Z1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ji.transform(Nu(e))+", "+Ji.transform(Nu(n))+", "+Nu(Wu.transform(s))+")"},kt={test:t=>ba.test(t)||wg.test(t)||Co.test(t),parse:t=>ba.test(t)?ba.parse(t):Co.test(t)?Co.parse(t):wg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ba.transform(t):Co.transform(t),getAnimatableNone:t=>{const e=kt.parse(t);return e.alpha=0,kt.transform(e)}},NL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DL(t){return isNaN(t)&&typeof t=="string"&&(t.match(nv)?.length||0)+(t.match(NL)?.length||0)>0}const ex="number",tx="color",PL="var",ML="var(",ME="${}",OL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(OL,m=>(kt.test(m)?(s.color.push(l),a.push(tx),n.push(kt.parse(m))):m.startsWith(ML)?(s.var.push(l),a.push(PL),n.push(m)):(s.number.push(l),a.push(ex),n.push(parseFloat(m))),++l,ME)).split(ME);return{values:n,split:d,indexes:s,types:a}}function nx(t){return Yu(t).values}function ix(t){const{split:e,types:n}=Yu(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===ex?l+=Nu(a[c]):d===tx?l+=kt.transform(a[c]):l+=a[c]}return l}}const VL=t=>typeof t=="number"?0:kt.test(t)?kt.getAnimatableNone(t):t;function kL(t){const e=nx(t);return ix(t)(e.map(VL))}const Vr={test:DL,parse:nx,createTransformer:ix,getAnimatableNone:kL};function Lp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function LL({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=Lp(m,d,t+1/3),l=Lp(m,d,t),c=Lp(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Ff(t,e){return n=>n>0?e:t}const pt=(t,e,n)=>t+(e-t)*n,jp=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},jL=[wg,ba,Co],UL=t=>jL.find(e=>e.test(t));function OE(t){const e=UL(t);if(!e)return!1;let n=e.parse(t);return e===Co&&(n=LL(n)),n}const VE=(t,e)=>{const n=OE(t),s=OE(e);if(!n||!s)return Ff(t,e);const a={...n};return l=>(a.red=jp(n.red,s.red,l),a.green=jp(n.green,s.green,l),a.blue=jp(n.blue,s.blue,l),a.alpha=pt(n.alpha,s.alpha,l),ba.transform(a))},Sg=new Set(["none","hidden"]);function zL(t,e){return Sg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function BL(t,e){return n=>pt(t,e,n)}function sv(t){return typeof t=="number"?BL:typeof t=="string"?tv(t)?Ff:kt.test(t)?VE:HL:Array.isArray(t)?sx:typeof t=="object"?kt.test(t)?VE:qL:Ff}function sx(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>sv(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function qL(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=sv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function FL(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],d=t.values[c]??0;n[a]=d,s[l]++}return n}const HL=(t,e)=>{const n=Vr.createTransformer(e),s=Yu(t),a=Yu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Sg.has(t)&&!a.values.length||Sg.has(e)&&!s.values.length?zL(t,e):pc(sx(FL(s,a),a.values),n):Ff(t,e)};function rx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):sv(t)(t,e)}const GL=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>Or(e),now:()=>Zt.isProcessing?Zt.timestamp:wn.now()}},ax=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Hf=2e4;function rv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Hf;)e+=n,s=t.next(e);return e>=Hf?1/0:e}function KL(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(rv(s),Hf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Jn(a)}}const WL=5;function ox(t,e,n){const s=Math.max(e-WL,0);return z1(n-t(s),e-s)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Up=.001;function YL({duration:t=_t.duration,bounce:e=_t.bounce,velocity:n=_t.velocity,mass:s=_t.mass}){let a,l,c=1-e;c=Ms(_t.minDamping,_t.maxDamping,c),t=Ms(_t.minDuration,_t.maxDuration,Jn(t)),c<1?(a=g=>{const y=g*c,_=y*t,w=y-n,R=Ag(g,c),M=Math.exp(-_);return Up-w/R*M},l=g=>{const _=g*c*t,w=_*n+n,R=Math.pow(c,2)*Math.pow(g,2)*t,M=Math.exp(-_),U=Ag(Math.pow(g,2),c);return(-a(g)+Up>0?-1:1)*((w-R)*M)/U}):(a=g=>{const y=Math.exp(-g*t),_=(g-n)*t+1;return-Up+y*_},l=g=>{const y=Math.exp(-g*t),_=(n-g)*(t*t);return y*_});const d=5/t,m=$L(a,l,d);if(t=Xi(t),isNaN(m))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:t}}}const QL=12;function $L(t,e,n){let s=n;for(let a=1;a<QL;a++)s=s-t(s)/e(s);return s}function Ag(t,e){return t*Math.sqrt(1-e*e)}const XL=["duration","bounce"],JL=["stiffness","damping","mass"];function kE(t,e){return e.some(n=>t[n]!==void 0)}function ZL(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!kE(t,JL)&&kE(t,XL))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ms(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:_t.mass,stiffness:a,damping:l}}else{const n=YL(t);e={...e,...n,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function Gf(t=_t.visualDuration,e=_t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:_,velocity:w,isResolvedFromDuration:R}=ZL({...n,velocity:-Jn(n.velocity||0)}),M=w||0,U=g/(2*Math.sqrt(m*y)),k=c-l,B=Jn(Math.sqrt(m/y)),F=Math.abs(k)<5;s||(s=F?_t.restSpeed.granular:_t.restSpeed.default),a||(a=F?_t.restDelta.granular:_t.restDelta.default);let Y;if(U<1){const oe=Ag(B,U);Y=ae=>{const C=Math.exp(-U*B*ae);return c-C*((M+U*B*k)/oe*Math.sin(oe*ae)+k*Math.cos(oe*ae))}}else if(U===1)Y=oe=>c-Math.exp(-B*oe)*(k+(M+B*k)*oe);else{const oe=B*Math.sqrt(U*U-1);Y=ae=>{const C=Math.exp(-U*B*ae),A=Math.min(oe*ae,300);return c-C*((M+U*B*k)*Math.sinh(A)+oe*k*Math.cosh(A))/oe}}const le={calculatedDuration:R&&_||null,next:oe=>{const ae=Y(oe);if(R)d.done=oe>=_;else{let C=oe===0?M:0;U<1&&(C=oe===0?Xi(M):ox(Y,oe,ae));const A=Math.abs(C)<=s,I=Math.abs(c-ae)<=a;d.done=A&&I}return d.value=d.done?c:ae,d},toString:()=>{const oe=Math.min(rv(le),Hf),ae=ax(C=>le.next(oe*C).value,oe,30);return oe+"ms "+ae},toTransition:()=>{}};return le}Gf.applyToOptions=t=>{const e=KL(t,100,Gf);return t.ease=e.ease,t.duration=Xi(e.duration),t.type="keyframes",t};function xg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:y}){const _=t[0],w={done:!1,value:_},R=A=>d!==void 0&&A<d||m!==void 0&&A>m,M=A=>d===void 0?m:m===void 0||Math.abs(d-A)<Math.abs(m-A)?d:m;let U=n*e;const k=_+U,B=c===void 0?k:c(k);B!==k&&(U=B-_);const F=A=>-U*Math.exp(-A/s),Y=A=>B+F(A),le=A=>{const I=F(A),V=Y(A);w.done=Math.abs(I)<=g,w.value=w.done?B:V};let oe,ae;const C=A=>{R(w.value)&&(oe=A,ae=Gf({keyframes:[w.value,M(w.value)],velocity:ox(Y,A,w.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return C(0),{calculatedDuration:null,next:A=>{let I=!1;return!ae&&oe===void 0&&(I=!0,le(A),C(A)),oe!==void 0&&A>=oe?ae.next(A-oe):(!I&&le(A),w)}}}function e3(t,e,n){const s=[],a=n||Os.mix||rx,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||Zn:e;d=pc(m,d)}s.push(d)}return s}function t3(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Qy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=e3(e,s,a),m=d.length,g=y=>{if(c&&y<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const w=Ku(t[_],t[_+1],y);return d[_](w)};return n?y=>g(Ms(t[0],t[l-1],y)):g}function n3(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Ku(0,e,s);t.push(pt(n,1,a))}}function i3(t){const e=[0];return n3(e,t.length-1),e}function s3(t,e){return t.map(n=>n*e)}function r3(t,e){return t.map(()=>e||Q1).splice(0,t.length-1)}function Du({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=gL(s)?s.map(DE):DE(s),l={done:!1,value:e[0]},c=s3(n&&n.length===e.length?n:i3(e),t),d=t3(c,e,{ease:Array.isArray(a)?a:r3(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const a3=t=>t!==null;function av(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(a3),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const o3={decay:xg,inertia:xg,tween:Du,keyframes:Du,spring:Gf};function lx(t){typeof t.type=="string"&&(t.type=o3[t.type])}class ov{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const l3=t=>t/100;class lv extends ov{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;lx(e);const{type:n=Du,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const m=n||Du;m!==Du&&typeof d[0]!="number"&&(this.mixKeyframes=pc(l3,rx(d[0],d[1])),d=[0,100]);const g=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=rv(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:_,repeatType:w,repeatDelay:R,type:M,onUpdate:U,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-g*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Y=this.currentTime,le=s;if(_){const A=Math.min(this.currentTime,a)/d;let I=Math.floor(A),V=A%1;!V&&A>=1&&(V=1),V===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(w==="reverse"?(V=1-V,R&&(V-=R/d)):w==="mirror"&&(le=c)),Y=Ms(0,1,V)*d}const oe=F?{done:!1,value:y[0]}:le.next(Y);l&&(oe.value=l(oe.value));let{done:ae}=oe;!F&&m!==null&&(ae=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return C&&M!==xg&&(oe.value=av(y,this.options,k,this.speed)),U&&U(oe.value),C&&this.finish(),oe}then(e,n){return this.finished.then(e,n)}get duration(){return Jn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Jn(e)}get time(){return Jn(this.currentTime)}set time(e){e=Xi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Jn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=GL,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function u3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ta=t=>t*180/Math.PI,Cg=t=>{const e=Ta(Math.atan2(t[1],t[0]));return Rg(e)},c3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Cg,rotateZ:Cg,skewX:t=>Ta(Math.atan(t[1])),skewY:t=>Ta(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Rg=t=>(t=t%360,t<0&&(t+=360),t),LE=Cg,jE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),UE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),h3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jE,scaleY:UE,scale:t=>(jE(t)+UE(t))/2,rotateX:t=>Rg(Ta(Math.atan2(t[6],t[5]))),rotateY:t=>Rg(Ta(Math.atan2(-t[2],t[0]))),rotateZ:LE,rotate:LE,skewX:t=>Ta(Math.atan(t[4])),skewY:t=>Ta(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ig(t){return t.includes("scale")?1:0}function Ng(t,e){if(!t||t==="none")return Ig(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=h3,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=c3,a=d}if(!a)return Ig(e);const l=s[e],c=a[1].split(",").map(d3);return typeof l=="function"?l(c):c[l]}const f3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ng(n,e)};function d3(t){return parseFloat(t.trim())}const rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],al=new Set(rl),zE=t=>t===sl||t===Se,m3=new Set(["x","y","z"]),p3=rl.filter(t=>!m3.has(t));function g3(t){const e=[];return p3.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const wa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ng(e,"x"),y:(t,{transform:e})=>Ng(e,"y")};wa.translateX=wa.x;wa.translateY=wa.y;const Sa=new Set;let Dg=!1,Pg=!1,Mg=!1;function ux(){if(Pg){const t=Array.from(Sa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=g3(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Pg=!1,Dg=!1,Sa.forEach(t=>t.complete(Mg)),Sa.clear()}function cx(){Sa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Pg=!0)})}function y3(){Mg=!0,cx(),ux(),Mg=!1}class uv{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Sa.add(this),Dg||(Dg=!0,ft.read(cx),ft.resolveKeyframes(ux))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}u3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Sa.delete(this)}cancel(){this.state==="scheduled"&&(Sa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const v3=t=>t.startsWith("--");function _3(t,e,n){v3(e)?t.style.setProperty(e,n):t.style[e]=n}const b3=$y(()=>window.ScrollTimeline!==void 0),T3={};function E3(t,e){const n=$y(t);return()=>T3[e]??n()}const hx=E3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Eu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,BE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Eu([0,.65,.55,1]),circOut:Eu([.55,0,1,.45]),backIn:Eu([.31,.01,.66,-.59]),backOut:Eu([.33,1.53,.69,.99])};function fx(t,e){if(t)return typeof t=="function"?hx()?ax(t,e):"ease-out":$1(t)?Eu(t):Array.isArray(t)?t.map(n=>fx(n,e)||BE.easeOut):BE[t]}function w3(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const y={[e]:n};m&&(y.offset=m);const _=fx(d,a);Array.isArray(_)&&(y.easing=_);const w={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),t.animate(y,w)}function dx(t){return typeof t=="function"&&"applyToOptions"in t}function S3({type:t,...e}){return dx(t)&&hx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class A3 extends ov{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Qy(typeof e.type!="string");const g=S3(e);this.animation=w3(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=av(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):_3(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Jn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Jn(e)}get time(){return Jn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Xi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&b3()?(this.animation.timeline=e,Zn):n(this)}}const mx={anticipate:K1,backInOut:G1,circInOut:Y1};function x3(t){return t in mx}function C3(t){typeof t.ease=="string"&&x3(t.ease)&&(t.ease=mx[t.ease])}const qE=10;class R3 extends A3{constructor(e){C3(e),lx(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new lv({...c,autoplay:!1}),m=Xi(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-qE).value,d.sample(m).value,qE),d.stop()}}const FE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vr.test(t)||t==="0")&&!t.startsWith("url("));function I3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function N3(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=FE(a,e),d=FE(l,e);return!c||!d?!1:I3(t)||(n==="spring"||dx(n))&&s}function Og(t){t.duration=0,t.type="keyframes"}const D3=new Set(["opacity","clipPath","filter","transform"]),P3=$y(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function M3(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return P3()&&n&&D3.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const O3=40;class V3 extends ov{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wn.now();const w={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:y,..._},R=y?.KeyframeResolver||uv;this.keyframeResolver=new R(d,(M,U,k)=>this.onKeyframesResolved(M,U,w,!k),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:y}=s;this.resolvedAt=wn.now(),N3(e,l,c,d)||((Os.instantAnimations||!m)&&y?.(av(e,s,n)),e[0]=e[e.length-1],Og(s),s.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>O3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},R=!g&&M3(w)?new R3({...w,element:w.motionValue.owner.current}):new lv(w);R.finished.then(()=>this.notifyFinished()).catch(Zn),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),y3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const k3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function L3(t){const e=k3.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function px(t,e,n=1){const[s,a]=L3(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return L1(c)?parseFloat(c):c}return tv(a)?px(a,e,n+1):a}function cv(t,e){return t?.[e]??t?.default??t}const gx=new Set(["width","height","top","left","right","bottom",...rl]),j3={test:t=>t==="auto",parse:t=>t},yx=t=>e=>e.test(t),vx=[sl,Se,Ji,vr,IL,RL,j3],HE=t=>vx.find(yx(t));function U3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||U1(t):!0}const z3=new Set(["brightness","contrast","saturate","opacity"]);function B3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(nv)||[];if(!s)return t;const a=n.replace(s,"");let l=z3.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const q3=/\b([a-z-]*)\(.*?\)/gu,Vg={...Vr,getAnimatableNone:t=>{const e=t.match(q3);return e?e.map(B3).join(" "):t}},GE={...sl,transform:Math.round},F3={rotate:vr,rotateX:vr,rotateY:vr,rotateZ:vr,scale:nf,scaleX:nf,scaleY:nf,scaleZ:nf,skew:vr,skewX:vr,skewY:vr,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:Wu,originX:PE,originY:PE,originZ:Se},hv={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se,...F3,zIndex:GE,fillOpacity:Wu,strokeOpacity:Wu,numOctaves:GE},H3={...hv,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:Vg,WebkitFilter:Vg},_x=t=>H3[t];function bx(t,e){let n=_x(t);return n!==Vg&&(n=Vr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const G3=new Set(["auto","none","0"]);function K3(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!G3.has(l)&&Yu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=bx(n,a)}class W3 extends uv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),tv(g))){const y=px(g,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!gx.has(s)||e.length!==2)return;const[a,l]=e,c=HE(a),d=HE(l);if(c!==d)if(zE(c)&&zE(d))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else wa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||U3(e[a]))&&s.push(a);s.length&&K3(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=wa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function Y3(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const Tx=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Ex(t){return j1(t)&&"offsetHeight"in t}const KE=30,Q3=t=>!isNaN(parseFloat(t));class $3{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=wn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Q3(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Xy);const s=this.events[e].add(n);return e==="change"?()=>{s(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>KE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,KE);return z1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ko(t,e){return new $3(t,e)}const{schedule:fv}=X1(queueMicrotask,!1),mi={x:!1,y:!1};function wx(){return mi.x||mi.y}function X3(t){return t==="x"||t==="y"?mi[t]?null:(mi[t]=!0,()=>{mi[t]=!1}):mi.x||mi.y?null:(mi.x=mi.y=!0,()=>{mi.x=mi.y=!1})}function Sx(t,e){const n=Y3(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function WE(t){return!(t.pointerType==="touch"||wx())}function J3(t,e,n={}){const[s,a,l]=Sx(t,n),c=d=>{if(!WE(d))return;const{target:m}=d,g=e(m,d);if(typeof g!="function"||!m)return;const y=_=>{WE(_)&&(g(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const Ax=(t,e)=>e?t===e?!0:Ax(t,e.parentElement):!1,dv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Z3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function e4(t){return Z3.has(t.tagName)||t.tabIndex!==-1}const _f=new WeakSet;function YE(t){return e=>{e.key==="Enter"&&t(e)}}function zp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const t4=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=YE(()=>{if(_f.has(n))return;zp(n,"down");const a=YE(()=>{zp(n,"up")}),l=()=>zp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function QE(t){return dv(t)&&!wx()}function n4(t,e,n={}){const[s,a,l]=Sx(t,n),c=d=>{const m=d.currentTarget;if(!QE(d))return;_f.add(m);const g=e(m,d),y=(R,M)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",w),_f.has(m)&&_f.delete(m),QE(R)&&typeof g=="function"&&g(R,{success:M})},_=R=>{y(R,m===window||m===document||n.useGlobalTarget||Ax(m,R.target))},w=R=>{y(R,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",w,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),Ex(d)&&(d.addEventListener("focus",g=>t4(g,a)),!e4(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function xx(t){return j1(t)&&"ownerSVGElement"in t}function i4(t){return xx(t)&&t.tagName==="svg"}const ln=t=>!!(t&&t.getVelocity),s4=[...vx,kt,Vr],r4=t=>s4.find(yx(t)),mv=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $E(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function a4(...t){return e=>{let n=!1;const s=t.map(a=>{const l=$E(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():$E(t[a],null)}}}}function o4(...t){return N.useCallback(a4(...t),t)}class l4 extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=Ex(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u4({children:t,isPresent:e,anchorX:n,root:s}){const a=N.useId(),l=N.useRef(null),c=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=N.useContext(mv),m=o4(l,t?.ref);return N.useInsertionEffect(()=>{const{width:g,height:y,top:_,left:w,right:R}=c.current;if(e||!l.current||!g||!y)return;const M=n==="left"?`left: ${w}`:`right: ${R}`;l.current.dataset.motionPopId=a;const U=document.createElement("style");d&&(U.nonce=d);const k=s??document.head;return k.appendChild(U),U.sheet&&U.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${M}px !important;
            top: ${_}px !important;
          }
        `),()=>{k.contains(U)&&k.removeChild(U)}},[e]),E.jsx(l4,{isPresent:e,childRef:l,sizeRef:c,children:N.cloneElement(t,{ref:m})})}const c4=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:m})=>{const g=Gy(h4),y=N.useId();let _=!0,w=N.useMemo(()=>(_=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:R=>{g.set(R,!0);for(const M of g.values())if(!M)return;s&&s()},register:R=>(g.set(R,!1),()=>g.delete(R))}),[n,g,s]);return l&&_&&(w={...w}),N.useMemo(()=>{g.forEach((R,M)=>g.set(M,!1))},[n]),N.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),c==="popLayout"&&(t=E.jsx(u4,{isPresent:n,anchorX:d,root:m,children:t})),E.jsx(dd.Provider,{value:w,children:t})};function h4(){return new Map}function Cx(t=!0){const e=N.useContext(dd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=N.useId();N.useEffect(()=>{if(t)return a(l)},[t]);const c=N.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const sf=t=>t.key||"";function XE(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const f4=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:m})=>{const[g,y]=Cx(c),_=N.useMemo(()=>XE(t),[t]),w=c&&!g?[]:_.map(sf),R=N.useRef(!0),M=N.useRef(_),U=Gy(()=>new Map),[k,B]=N.useState(_),[F,Y]=N.useState(_);k1(()=>{R.current=!1,M.current=_;for(let ae=0;ae<F.length;ae++){const C=sf(F[ae]);w.includes(C)?U.delete(C):U.get(C)!==!0&&U.set(C,!1)}},[F,w.length,w.join("-")]);const le=[];if(_!==k){let ae=[..._];for(let C=0;C<F.length;C++){const A=F[C],I=sf(A);w.includes(I)||(ae.splice(C,0,A),le.push(A))}return l==="wait"&&le.length&&(ae=le),Y(XE(ae)),B(_),null}const{forceRender:oe}=N.useContext(Hy);return E.jsx(E.Fragment,{children:F.map(ae=>{const C=sf(ae),A=c&&!g?!1:_===F||w.includes(C),I=()=>{if(U.has(C))U.set(C,!0);else return;let V=!0;U.forEach(P=>{P||(V=!1)}),V&&(oe?.(),Y(M.current),c&&y?.(),s&&s())};return E.jsx(c4,{isPresent:A,initial:!R.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:A?void 0:I,anchorX:d,children:ae},C)})})},Rx=N.createContext({strict:!1}),JE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wo={};for(const t in JE)Wo[t]={isEnabled:e=>JE[t].some(n=>!!e[n])};function d4(t){for(const e in t)Wo[e]={...Wo[e],...t[e]}}const m4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||m4.has(t)}let Ix=t=>!Kf(t);function p4(t){typeof t=="function"&&(Ix=e=>e.startsWith("on")?!Kf(e):t(e))}try{p4(require("@emotion/is-prop-valid").default)}catch{}function g4(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(Ix(a)||n===!0&&Kf(a)||!e&&!Kf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const md=N.createContext({});function pd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Qu(t){return typeof t=="string"||Array.isArray(t)}const pv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gv=["initial",...pv];function gd(t){return pd(t.animate)||gv.some(e=>Qu(t[e]))}function Nx(t){return!!(gd(t)||t.variants)}function y4(t,e){if(gd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Qu(n)?n:void 0,animate:Qu(s)?s:void 0}}return t.inherit!==!1?e:{}}function v4(t){const{initial:e,animate:n}=y4(t,N.useContext(md));return N.useMemo(()=>({initial:e,animate:n}),[ZE(e),ZE(n)])}function ZE(t){return Array.isArray(t)?t.join(" "):t}const $u={};function _4(t){for(const e in t)$u[e]=t[e],ev(e)&&($u[e].isCSSVariable=!0)}function Dx(t,{layout:e,layoutId:n}){return al.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!$u[t]||t==="opacity")}const b4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},T4=rl.length;function E4(t,e,n){let s="",a=!0;for(let l=0;l<T4;l++){const c=rl[l],d=t[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const g=Tx(d,hv[c]);if(!m){a=!1;const y=b4[c]||c;s+=`${y}(${g}) `}n&&(e[c]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function yv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const m in e){const g=e[m];if(al.has(m)){c=!0;continue}else if(ev(m)){a[m]=g;continue}else{const y=Tx(g,hv[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(e.transform||(c||n?s.transform=E4(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${g} ${y}`}}const vv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Px(t,e,n){for(const s in e)!ln(e[s])&&!Dx(s,n)&&(t[s]=e[s])}function w4({transformTemplate:t},e){return N.useMemo(()=>{const n=vv();return yv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function S4(t,e){const n=t.style||{},s={};return Px(s,n,t),Object.assign(s,w4(t,e)),s}function A4(t,e){const n={},s=S4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const x4={offset:"stroke-dashoffset",array:"stroke-dasharray"},C4={offset:"strokeDashoffset",array:"strokeDasharray"};function R4(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?x4:C4;t[l.offset]=Se.transform(-s);const c=Se.transform(e),d=Se.transform(n);t[l.array]=`${c} ${d}`}function Mx(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,g,y){if(yv(t,d,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:w}=t;_.transform&&(w.transform=_.transform,delete _.transform),(w.transform||_.transformOrigin)&&(w.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&R4(_,a,l,c,!1)}const Ox=()=>({...vv(),attrs:{}}),Vx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function I4(t,e,n,s){const a=N.useMemo(()=>{const l=Ox();return Mx(l,e,Vx(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Px(l,t.style,t),a.style={...l,...a.style}}return a}const N4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _v(t){return typeof t!="string"||t.includes("-")?!1:!!(N4.indexOf(t)>-1||/[A-Z]/u.test(t))}function D4(t,e,n,{latestValues:s},a,l=!1){const d=(_v(t)?I4:A4)(e,s,a,t),m=g4(e,typeof t=="string",l),g=t!==N.Fragment?{...m,...d,ref:n}:{},{children:y}=e,_=N.useMemo(()=>ln(y)?y.get():y,[y]);return N.createElement(t,{...g,children:_})}function ew(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function bv(t,e,n,s){if(typeof e=="function"){const[a,l]=ew(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=ew(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function bf(t){return ln(t)?t.get():t}function P4({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:M4(n,s,a,t),renderState:e()}}function M4(t,e,n,s){const a={},l=s(t,{});for(const w in l)a[w]=bf(l[w]);let{initial:c,animate:d}=t;const m=gd(t),g=Nx(t);e&&g&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!pd(_)){const w=Array.isArray(_)?_:[_];for(let R=0;R<w.length;R++){const M=bv(t,w[R]);if(M){const{transitionEnd:U,transition:k,...B}=M;for(const F in B){let Y=B[F];if(Array.isArray(Y)){const le=y?Y.length-1:0;Y=Y[le]}Y!==null&&(a[F]=Y)}for(const F in U)a[F]=U[F]}}}return a}const kx=t=>(e,n)=>{const s=N.useContext(md),a=N.useContext(dd),l=()=>P4(t,e,s,a);return n?l():Gy(l)};function Tv(t,e,n){const{style:s}=t,a={};for(const l in s)(ln(s[l])||e.style&&ln(e.style[l])||Dx(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const O4=kx({scrapeMotionValuesFromProps:Tv,createRenderState:vv});function Lx(t,e,n){const s=Tv(t,e,n);for(const a in t)if(ln(t[a])||ln(e[a])){const l=rl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const V4=kx({scrapeMotionValuesFromProps:Lx,createRenderState:Ox}),k4=Symbol.for("motionComponentSymbol");function Ro(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function L4(t,e,n){return N.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ro(n)&&(n.current=s))},[e])}const Ev=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),j4="framerAppearId",jx="data-"+Ev(j4),Ux=N.createContext({});function U4(t,e,n,s,a){const{visualElement:l}=N.useContext(md),c=N.useContext(Rx),d=N.useContext(dd),m=N.useContext(mv).reducedMotion,g=N.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,_=N.useContext(Ux);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&z4(g.current,n,a,_);const w=N.useRef(!1);N.useInsertionEffect(()=>{y&&w.current&&y.update(n,d)});const R=n[jx],M=N.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return k1(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),M.current&&y.animationState&&y.animationState.animateChanges())}),N.useEffect(()=>{y&&(!M.current&&y.animationState&&y.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),M.current=!1),y.enteringChildren=void 0)}),y}function z4(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zx(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Ro(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:g})}function zx(t){if(t)return t.options.allowProjection!==!1?t.projection:zx(t.parent)}function Bp(t,{forwardMotionProps:e=!1}={},n,s){n&&d4(n);const a=_v(t)?V4:O4;function l(d,m){let g;const y={...N.useContext(mv),...d,layoutId:B4(d)},{isStatic:_}=y,w=v4(d),R=a(d,_);if(!_&&Ky){q4();const M=F4(y);g=M.MeasureLayout,w.visualElement=U4(t,R,y,s,M.ProjectionNode)}return E.jsxs(md.Provider,{value:w,children:[g&&w.visualElement?E.jsx(g,{visualElement:w.visualElement,...y}):null,D4(t,d,L4(R,w.visualElement,m),R,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=N.forwardRef(l);return c[k4]=t,c}function B4({layoutId:t}){const e=N.useContext(Hy).id;return e&&t!==void 0?e+"-"+t:t}function q4(t,e){N.useContext(Rx).strict}function F4(t){const{drag:e,layout:n}=Wo;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function H4(t,e){if(typeof Proxy>"u")return Bp;const n=new Map,s=(l,c)=>Bp(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Bp(c,void 0,t,e)),n.get(c))})}function Bx({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function G4({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function K4(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function qp(t){return t===void 0||t===1}function kg({scale:t,scaleX:e,scaleY:n}){return!qp(t)||!qp(e)||!qp(n)}function ya(t){return kg(t)||qx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function qx(t){return tw(t.x)||tw(t.y)}function tw(t){return t&&t!=="0%"}function Wf(t,e,n){const s=t-n,a=e*s;return n+a}function nw(t,e,n,s,a){return a!==void 0&&(t=Wf(t,a,s)),Wf(t,n,s)+e}function Lg(t,e=0,n=1,s,a){t.min=nw(t.min,e,n,s,a),t.max=nw(t.max,e,n,s,a)}function Fx(t,{x:e,y:n}){Lg(t.x,e.translate,e.scale,e.originPoint),Lg(t.y,n.translate,n.scale,n.originPoint)}const iw=.999999999999,sw=1.0000000000001;function W4(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&No(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Fx(t,c)),s&&ya(l.latestValues)&&No(t,l.latestValues))}e.x<sw&&e.x>iw&&(e.x=1),e.y<sw&&e.y>iw&&(e.y=1)}function Io(t,e){t.min=t.min+e,t.max=t.max+e}function rw(t,e,n,s,a=.5){const l=pt(t.min,t.max,a);Lg(t,e,n,l,s)}function No(t,e){rw(t.x,e.x,e.scaleX,e.scale,e.originX),rw(t.y,e.y,e.scaleY,e.scale,e.originY)}function Hx(t,e){return Bx(K4(t.getBoundingClientRect(),e))}function Y4(t,e,n){const s=Hx(t,n),{scroll:a}=e;return a&&(Io(s.x,a.offset.x),Io(s.y,a.offset.y)),s}const aw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Do=()=>({x:aw(),y:aw()}),ow=()=>({min:0,max:0}),St=()=>({x:ow(),y:ow()}),jg={current:null},Gx={current:!1};function Q4(){if(Gx.current=!0,!!Ky)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jg.current=t.matches;t.addEventListener("change",e),e()}else jg.current=!1}const $4=new WeakMap;function X4(t,e,n){for(const s in e){const a=e[s],l=n[s];if(ln(a))t.addValue(s,a);else if(ln(l))t.addValue(s,Ko(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,Ko(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const lw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class J4{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=wn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ft.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=gd(n),this.isVariantNode=Nx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in _){const R=_[w];m[w]!==void 0&&ln(R)&&R.set(m[w])}}mount(e){this.current=e,$4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Gx.current||Q4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Or(this.notifyUpdate),Or(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=al.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Wo){const n=Wo[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<lw.length;s++){const a=lw[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=X4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ko(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(L1(s)||U1(s))?s=parseFloat(s):!r4(s)&&Vr.test(n)&&(s=bx(e,n)),this.setBaseTarget(e,ln(s)?s.get():s)),ln(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=bv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ln(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Xy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){fv.render(this.render)}}class Kx extends J4{constructor(){super(...arguments),this.KeyframeResolver=W3}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Wx(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function Z4(t){return window.getComputedStyle(t)}class ej extends Kx{constructor(){super(...arguments),this.type="html",this.renderInstance=Wx}readValueFromInstance(e,n){if(al.has(n))return this.projection?.isProjecting?Ig(n):f3(e,n);{const s=Z4(e),a=(ev(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Hx(e,n)}build(e,n,s){yv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Tv(e,n,s)}}const Yx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tj(t,e,n,s){Wx(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(Yx.has(a)?a:Ev(a),e.attrs[a])}class nj extends Kx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=St}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(al.has(n)){const s=_x(n);return s&&s.default||0}return n=Yx.has(n)?n:Ev(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Lx(e,n,s)}build(e,n,s){Mx(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){tj(e,n,s,a)}mount(e){this.isSVGTag=Vx(e.tagName),super.mount(e)}}const ij=(t,e)=>_v(t)?new nj(e):new ej(e,{allowProjection:t!==N.Fragment});function Lo(t,e,n){const s=t.getProps();return bv(s,e,n!==void 0?n:s.custom,t)}const Ug=t=>Array.isArray(t);function sj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ko(n))}function rj(t){return Ug(t)?t[t.length-1]||0:t}function aj(t,e){const n=Lo(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=rj(l[c]);sj(t,c,d)}}function oj(t){return!!(ln(t)&&t.add)}function zg(t,e){const n=t.getValue("willChange");if(oj(n))return n.add(e);if(!n&&Os.WillChange){const s=new Os.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Qx(t){return t.props[jx]}const lj=t=>t!==null;function uj(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(lj),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const cj={type:"spring",stiffness:500,damping:25,restSpeed:10},hj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fj={type:"keyframes",duration:.8},dj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mj=(t,{keyframes:e})=>e.length>2?fj:al.has(t)?t.startsWith("scale")?hj(e[1]):cj:dj;function pj({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const wv=(t,e,n,s={},a,l)=>c=>{const d=cv(s,t)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Xi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-g,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};pj(d)||Object.assign(y,mj(t,y)),y.duration&&(y.duration=Xi(y.duration)),y.repeatDelay&&(y.repeatDelay=Xi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Og(y),y.delay===0&&(_=!0)),(Os.instantAnimations||Os.skipAnimations)&&(_=!0,Og(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&e.get()!==void 0){const w=uj(y.keyframes,d);if(w!==void 0){ft.update(()=>{y.onUpdate(w),y.onComplete()});return}}return d.isSync?new lv(y):new V3(y)};function gj({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function $x(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const _=t.getValue(y,t.latestValues[y]??null),w=d[y];if(w===void 0||g&&gj(g,y))continue;const R={delay:n,...cv(l||{},y)},M=_.get();if(M!==void 0&&!_.isAnimating&&!Array.isArray(w)&&w===M&&!R.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const B=Qx(t);if(B){const F=window.MotionHandoffAnimation(B,y,ft);F!==null&&(R.startTime=F,U=!0)}}zg(t,y),_.start(wv(y,_,w,t.shouldReduceMotion&&gx.has(y)?{type:!1}:R,t,U));const k=_.animation;k&&m.push(k)}return c&&Promise.all(m).then(()=>{ft.update(()=>{c&&aj(t,c)})}),m}function Xx(t,e,n,s=0,a=1){const l=Array.from(t).sort((g,y)=>g.sortNodePosition(y)).indexOf(e),c=t.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function Bg(t,e,n={}){const s=Lo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all($x(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=a;return yj(t,e,m,g,y,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,g]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function yj(t,e,n=0,s=0,a=0,l=1,c){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(Bg(m,e,{...c,delay:n+(typeof s=="function"?0:s)+Xx(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function vj(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Bg(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Bg(t,e,n);else{const a=typeof e=="function"?Lo(t,e,n.custom):e;s=Promise.all($x(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function Jx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const _j=gv.length;function Zx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Zx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<_j;n++){const s=gv[n],a=t.props[s];(Qu(a)||a===!1)&&(e[s]=a)}return e}const bj=[...pv].reverse(),Tj=pv.length;function Ej(t){return e=>Promise.all(e.map(({animation:n,options:s})=>vj(t,n,s)))}function wj(t){let e=Ej(t),n=uw(),s=!0;const a=m=>(g,y)=>{const _=Lo(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:w,transitionEnd:R,...M}=_;g={...g,...M,...R}}return g};function l(m){e=m(t)}function c(m){const{props:g}=t,y=Zx(t.parent)||{},_=[],w=new Set;let R={},M=1/0;for(let k=0;k<Tj;k++){const B=bj[k],F=n[B],Y=g[B]!==void 0?g[B]:y[B],le=Qu(Y),oe=B===m?F.isActive:null;oe===!1&&(M=k);let ae=Y===y[B]&&Y!==g[B]&&le;if(ae&&s&&t.manuallyAnimateOnMount&&(ae=!1),F.protectedKeys={...R},!F.isActive&&oe===null||!Y&&!F.prevProp||pd(Y)||typeof Y=="boolean")continue;const C=Sj(F.prevProp,Y);let A=C||B===m&&F.isActive&&!ae&&le||k>M&&le,I=!1;const V=Array.isArray(Y)?Y:[Y];let P=V.reduce(a(B),{});oe===!1&&(P={});const{prevResolvedValues:z={}}=F,D={...z,...P},Fe=re=>{A=!0,w.has(re)&&(I=!0,w.delete(re)),F.needsAnimating[re]=!0;const fe=t.getValue(re);fe&&(fe.liveStyle=!1)};for(const re in D){const fe=P[re],Ie=z[re];if(R.hasOwnProperty(re))continue;let _e=!1;Ug(fe)&&Ug(Ie)?_e=!Jx(fe,Ie):_e=fe!==Ie,_e?fe!=null?Fe(re):w.add(re):fe!==void 0&&w.has(re)?Fe(re):F.protectedKeys[re]=!0}F.prevProp=Y,F.prevResolvedValues=P,F.isActive&&(R={...R,...P}),s&&t.blockInitialAnimation&&(A=!1);const ut=ae&&C;A&&(!ut||I)&&_.push(...V.map(re=>{const fe={type:B};if(typeof re=="string"&&s&&!ut&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ie}=t,_e=Lo(Ie,re);if(Ie.enteringChildren&&_e){const{delayChildren:L}=_e.transition||{};fe.delay=Xx(Ie.enteringChildren,t,L)}}return{animation:re,options:fe}}))}if(w.size){const k={};if(typeof g.initial!="boolean"){const B=Lo(t,Array.isArray(g.initial)?g.initial[0]:g.initial);B&&B.transition&&(k.transition=B.transition)}w.forEach(B=>{const F=t.getBaseTarget(B),Y=t.getValue(B);Y&&(Y.liveStyle=!0),k[B]=F??null}),_.push({animation:k})}let U=!!_.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(U=!1),s=!1,U?e(_):Promise.resolve()}function d(m,g){if(n[m].isActive===g)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(m,g)),n[m].isActive=g;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=uw()}}}function Sj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Jx(e,t):!1}function pa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uw(){return{animate:pa(!0),whileInView:pa(),whileHover:pa(),whileTap:pa(),whileDrag:pa(),whileFocus:pa(),exit:pa()}}class jr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Aj extends jr{constructor(e){super(e),e.animationState||(e.animationState=wj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();pd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let xj=0;class Cj extends jr{constructor(){super(...arguments),this.id=xj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Rj={animation:{Feature:Aj},exit:{Feature:Cj}};function Xu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function vc(t){return{point:{x:t.pageX,y:t.pageY}}}const Ij=t=>e=>dv(e)&&t(e,vc(e));function Pu(t,e,n,s){return Xu(t,e,Ij(n),s)}const eC=1e-4,Nj=1-eC,Dj=1+eC,tC=.01,Pj=0-tC,Mj=0+tC;function dn(t){return t.max-t.min}function Oj(t,e,n){return Math.abs(t-e)<=n}function cw(t,e,n,s=.5){t.origin=s,t.originPoint=pt(e.min,e.max,t.origin),t.scale=dn(n)/dn(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Nj&&t.scale<=Dj||isNaN(t.scale))&&(t.scale=1),(t.translate>=Pj&&t.translate<=Mj||isNaN(t.translate))&&(t.translate=0)}function Mu(t,e,n,s){cw(t.x,e.x,n.x,s?s.originX:void 0),cw(t.y,e.y,n.y,s?s.originY:void 0)}function hw(t,e,n){t.min=n.min+e.min,t.max=t.min+dn(e)}function Vj(t,e,n){hw(t.x,e.x,n.x),hw(t.y,e.y,n.y)}function fw(t,e,n){t.min=e.min-n.min,t.max=t.min+dn(e)}function Ou(t,e,n){fw(t.x,e.x,n.x),fw(t.y,e.y,n.y)}function Qn(t){return[t("x"),t("y")]}const nC=({current:t})=>t?t.ownerDocument.defaultView:null,dw=(t,e)=>Math.abs(t-e);function kj(t,e){const n=dw(t.x,e.x),s=dw(t.y,e.y);return Math.sqrt(n**2+s**2)}class iC{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Hp(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,M=kj(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!M)return;const{point:U}=w,{timestamp:k}=Zt;this.history.push({...U,timestamp:k});const{onStart:B,onMove:F}=this.handlers;R||(B&&B(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,w)},this.handlePointerMove=(w,R)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Fp(R,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(w,R)=>{this.end();const{onEnd:M,onSessionEnd:U,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=Hp(w.type==="pointercancel"?this.lastMoveEventInfo:Fp(R,this.transformPagePoint),this.history);this.startEvent&&M&&M(w,B),U&&U(w,B)},!dv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=vc(e),m=Fp(d,this.transformPagePoint),{point:g}=m,{timestamp:y}=Zt;this.history=[{...g,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,Hp(m,this.history)),this.removeListeners=pc(Pu(this.contextWindow,"pointermove",this.handlePointerMove),Pu(this.contextWindow,"pointerup",this.handlePointerUp),Pu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Or(this.updatePoint)}}function Fp(t,e){return e?{point:e(t.point)}:t}function mw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hp({point:t},e){return{point:t,delta:mw(t,sC(e)),offset:mw(t,Lj(e)),velocity:jj(e,.1)}}function Lj(t){return t[0]}function sC(t){return t[t.length-1]}function jj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=sC(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Xi(e)));)n--;if(!s)return{x:0,y:0};const l=Jn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Uj(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?pt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?pt(n,t,s.max):Math.min(t,n)),t}function pw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zj(t,{top:e,left:n,bottom:s,right:a}){return{x:pw(t.x,n,a),y:pw(t.y,e,s)}}function gw(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Bj(t,e){return{x:gw(t.x,e.x),y:gw(t.y,e.y)}}function qj(t,e){let n=.5;const s=dn(t),a=dn(e);return a>s?n=Ku(e.min,e.max-s,t.min):s>a&&(n=Ku(t.min,t.max-a,e.min)),Ms(0,1,n)}function Fj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const qg=.35;function Hj(t=qg){return t===!1?t=0:t===!0&&(t=qg),{x:yw(t,"left","right"),y:yw(t,"top","bottom")}}function yw(t,e,n){return{min:vw(t,e),max:vw(t,n)}}function vw(t,e){return typeof t=="number"?t:t[e]||0}const Gj=new WeakMap;class Kj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vc(_).point)},c=(_,w)=>{const{drag:R,dragPropagation:M,onDragStart:U}=this.getProps();if(R&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=X3(R),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(B=>{let F=this.getAxisMotionValue(B).get()||0;if(Ji.test(F)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const le=Y.layout.layoutBox[B];le&&(F=dn(le)*(parseFloat(F)/100))}}this.originPoint[B]=F}),U&&ft.postRender(()=>U(_,w)),zg(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w;const{dragPropagation:R,dragDirectionLock:M,onDirectionLock:U,onDrag:k}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:B}=w;if(M&&this.currentDirection===null){this.currentDirection=Wj(B),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",w.point,B),this.updateAxis("y",w.point,B),this.visualElement.render(),k&&k(_,w)},m=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w,this.stop(_,w),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Qn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new iC(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:nC(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ft.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!rf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=Uj(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Ro(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=zj(s.layoutBox,e):this.constraints=!1,this.elastic=Hj(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Fj(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ro(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Y4(s,a.root,this.visualElement.getTransformPagePoint());let c=Bj(a.layout.layoutBox,l);if(n){const d=n(G4(c));this.hasMutatedConstraints=!!d,d&&(c=Bx(d))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=Qn(y=>{if(!rf(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const w=a?200:1e6,R=a?40:1e7,M={type:"inertia",velocity:s?e[y]:0,bounceStiffness:w,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,M)});return Promise.all(g).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return zg(this.visualElement,e),s.start(wv(e,s,0,n,this.visualElement,!1))}stopAnimation(){Qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Qn(n=>{const{drag:s}=this.getProps();if(!rf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-pt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ro(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Qn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=qj({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Qn(c=>{if(!rf(c,e,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(pt(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;Gj.set(this.visualElement,this);const e=this.visualElement.current,n=Pu(e,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Ro(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ft.read(s);const c=Xu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(Qn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=qg,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function rf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Wj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Yj extends jr{constructor(e){super(e),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new Kj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const _w=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class Qj extends jr{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(e){this.session=new iC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:_w(e),onStart:_w(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ft.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Pu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const mu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=bw(t,e.target.x),s=bw(t,e.target.y);return`${n}% ${s}%`}},$j={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Vr.parse(t);if(a.length>5)return s;const l=Vr.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=m;const g=pt(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};let Gp=!1;class Xj extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;_4(Jj),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Gp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Tf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Gp=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ft.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Gp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rC(t){const[e,n]=Cx(),s=N.useContext(Hy);return E.jsx(Xj,{...t,layoutGroup:s,switchLayoutGroup:N.useContext(Ux),isPresent:e,safeToRemove:n})}const Jj={borderRadius:{...mu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mu,borderTopRightRadius:mu,borderBottomLeftRadius:mu,borderBottomRightRadius:mu,boxShadow:$j};function Zj(t,e,n){const s=ln(t)?t:Ko(t);return s.start(wv("",s,e,n)),s.animation}const e5=(t,e)=>t.depth-e.depth;class t5{constructor(){this.children=[],this.isDirty=!1}add(e){Wy(this.children,e),this.isDirty=!0}remove(e){Yy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(e5),this.isDirty=!1,this.children.forEach(e)}}function n5(t,e){const n=wn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Or(s),t(l-e))};return ft.setup(s,!0),()=>Or(s)}const aC=["TopLeft","TopRight","BottomLeft","BottomRight"],i5=aC.length,Tw=t=>typeof t=="string"?parseFloat(t):t,Ew=t=>typeof t=="number"||Se.test(t);function s5(t,e,n,s,a,l){a?(t.opacity=pt(0,n.opacity??1,r5(s)),t.opacityExit=pt(e.opacity??1,0,a5(s))):l&&(t.opacity=pt(e.opacity??1,n.opacity??1,s));for(let c=0;c<i5;c++){const d=`border${aC[c]}Radius`;let m=ww(e,d),g=ww(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||Ew(m)===Ew(g)?(t[d]=Math.max(pt(Tw(m),Tw(g),s),0),(Ji.test(g)||Ji.test(m))&&(t[d]+="%")):t[d]=g}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,s))}function ww(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const r5=oC(0,.5,W1),a5=oC(.5,.95,Zn);function oC(t,e,n){return s=>s<t?0:s>e?1:n(Ku(t,e,s))}function Sw(t,e){t.min=e.min,t.max=e.max}function Yn(t,e){Sw(t.x,e.x),Sw(t.y,e.y)}function Aw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function xw(t,e,n,s,a){return t-=e,t=Wf(t,1/n,s),a!==void 0&&(t=Wf(t,1/a,s)),t}function o5(t,e=0,n=1,s=.5,a,l=t,c=t){if(Ji.test(e)&&(e=parseFloat(e),e=pt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=pt(l.min,l.max,s);t===l&&(d-=e),t.min=xw(t.min,e,n,d,a),t.max=xw(t.max,e,n,d,a)}function Cw(t,e,[n,s,a],l,c){o5(t,e[n],e[s],e[a],e.scale,l,c)}const l5=["x","scaleX","originX"],u5=["y","scaleY","originY"];function Rw(t,e,n,s){Cw(t.x,e,l5,n?n.x:void 0,s?s.x:void 0),Cw(t.y,e,u5,n?n.y:void 0,s?s.y:void 0)}function Iw(t){return t.translate===0&&t.scale===1}function lC(t){return Iw(t.x)&&Iw(t.y)}function Nw(t,e){return t.min===e.min&&t.max===e.max}function c5(t,e){return Nw(t.x,e.x)&&Nw(t.y,e.y)}function Dw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function uC(t,e){return Dw(t.x,e.x)&&Dw(t.y,e.y)}function Pw(t){return dn(t.x)/dn(t.y)}function Mw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class h5{constructor(){this.members=[]}add(e){Wy(this.members,e),e.scheduleRender()}remove(e){if(Yy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function f5(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:_,rotateY:w,skewX:R,skewY:M}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),w&&(s+=`rotateY(${w}deg) `),R&&(s+=`skewX(${R}deg) `),M&&(s+=`skewY(${M}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const Kp=["","X","Y","Z"],d5=1e3;let m5=0;function Wp(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function cC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Qx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&cC(s)}function hC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=m5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(y5),this.nodes.forEach(T5),this.nodes.forEach(E5),this.nodes.forEach(v5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new t5)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Xy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=xx(c)&&!i4(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let y,_=0;const w=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{_=window.innerWidth}),t(c,()=>{const R=window.innerWidth;R!==_&&(_=R,this.root.updateBlockedByResize=!0,y&&y(),y=n5(w,250),Tf.hasAnimatedSinceResize&&(Tf.hasAnimatedSinceResize=!1,this.nodes.forEach(kw)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:w,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||g.getDefaultTransition()||C5,{onLayoutAnimationStart:U,onLayoutAnimationComplete:k}=g.getProps(),B=!this.targetLayout||!uC(this.targetLayout,R),F=!_&&w;if(this.options.layoutRoot||this.resumeFrom||F||_&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...cv(M,"layout"),onPlay:U,onComplete:k};(g.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,F)}else _||kw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Or(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(w5),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ow);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Vw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(b5),this.nodes.forEach(p5),this.nodes.forEach(g5)):this.nodes.forEach(Vw),this.clearAllSnapshots();const d=wn.now();Zt.delta=Ms(0,1e3/60,d-Zt.timestamp),Zt.timestamp=d,Zt.isProcessing=!0,Vp.update.process(Zt),Vp.preRender.process(Zt),Vp.render.process(Zt),Zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_5),this.sharedNodes.forEach(S5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dn(this.snapshot.measuredBox.x)&&!dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!lC(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||ya(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),R5(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return St();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(I5))){const{scroll:g}=this.root;g&&(Io(d.x,g.offset.x),Io(d.y,g.offset.y))}return d}removeElementScroll(c){const d=St();if(Yn(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Yn(d,c),Io(d.x,y.offset.x),Io(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=St();Yn(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&No(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ya(y.latestValues)&&No(m,y.latestValues)}return ya(this.latestValues)&&No(m,this.latestValues),m}removeTransform(c){const d=St();Yn(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!ya(g.latestValues))continue;kg(g.latestValues)&&g.updateSnapshot();const y=St(),_=g.measurePageBox();Yn(y,_),Rw(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return ya(this.latestValues)&&Rw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Zt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Ou(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Vj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),Fx(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Ou(this.relativeTargetOrigin,this.target,w.target),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||kg(this.parent.latestValues)||qx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Zt.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Yn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,w=this.treeScale.y;W4(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=St());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Aw(this.prevProjectionDelta.x,this.projectionDelta.x),Aw(this.prevProjectionDelta.y,this.projectionDelta.y)),Mu(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==w||!Mw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Mw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Do(),this.projectionDelta=Do(),this.projectionDeltaWithTransform=Do()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},_=Do();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=St(),R=m?m.source:void 0,M=this.layout?this.layout.source:void 0,U=R!==M,k=this.getStack(),B=!k||k.members.length<=1,F=!!(U&&!B&&this.options.crossfade===!0&&!this.path.some(x5));this.animationProgress=0;let Y;this.mixTargetDelta=le=>{const oe=le/1e3;Lw(_.x,c.x,oe),Lw(_.y,c.y,oe),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ou(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),A5(this.relativeTarget,this.relativeTargetOrigin,w,oe),Y&&c5(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=St()),Yn(Y,this.relativeTarget)),U&&(this.animationValues=y,s5(y,g,this.latestValues,oe,F,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=oe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Or(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Tf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ko(0)),this.currentAnimation=Zj(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(d5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:y}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&fC(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||St();const _=dn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const w=dn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+w}Yn(d,m),No(d,y),Mu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new h5),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&Wp("z",c,g,this.animationValues);for(let y=0;y<Kp.length;y++)Wp(`rotate${Kp[y]}`,c,g,this.animationValues),Wp(`skew${Kp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=bf(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=bf(d?.pointerEvents)||""),this.hasProjected&&!ya(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=f5(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:w,y:R}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${R.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const M in $u){if(y[M]===void 0)continue;const{correct:U,applyTo:k,isCSSVariable:B}=$u[M],F=_==="none"?y[M]:U(y[M],g);if(k){const Y=k.length;for(let le=0;le<Y;le++)c[k[le]]=F}else B?this.options.visualElement.renderState.vars[M]=F:c[M]=F}this.options.layoutId&&(c.pointerEvents=g===this?bf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Ow),this.root.sharedNodes.clear()}}}function p5(t){t.updateLayout()}function g5(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Qn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],w=dn(_);_.min=n[y].min,_.max=_.min+w}):fC(a,e.layoutBox,n)&&Qn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],w=dn(n[y]);_.max=_.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+w)});const c=Do();Mu(c,n,e.layoutBox);const d=Do();l?Mu(d,t.applyTransform(s,!0),e.measuredBox):Mu(d,n,e.layoutBox);const m=!lC(c);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:w}=y;if(_&&w){const R=St();Ou(R,e.layoutBox,_.layoutBox);const M=St();Ou(M,n,w.layoutBox),uC(R,M)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=R,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function y5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function v5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _5(t){t.clearSnapshot()}function Ow(t){t.clearMeasurements()}function Vw(t){t.isLayoutDirty=!1}function b5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function kw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function T5(t){t.resolveTargetDelta()}function E5(t){t.calcProjection()}function w5(t){t.resetSkewAndRotation()}function S5(t){t.removeLeadSnapshot()}function Lw(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function jw(t,e,n,s){t.min=pt(e.min,n.min,s),t.max=pt(e.max,n.max,s)}function A5(t,e,n,s){jw(t.x,e.x,n.x,s),jw(t.y,e.y,n.y,s)}function x5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const C5={duration:.45,ease:[.4,0,.1,1]},Uw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zw=Uw("applewebkit/")&&!Uw("chrome/")?Math.round:Zn;function Bw(t){t.min=zw(t.min),t.max=zw(t.max)}function R5(t){Bw(t.x),Bw(t.y)}function fC(t,e,n){return t==="position"||t==="preserve-aspect"&&!Oj(Pw(e),Pw(n),.2)}function I5(t){return t!==t.root&&t.scroll?.wasRoot}const N5=hC({attachResizeListener:(t,e)=>Xu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yp={current:void 0},dC=hC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yp.current){const t=new N5({});t.mount(window),t.setOptions({layoutScroll:!0}),Yp.current=t}return Yp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),D5={pan:{Feature:Qj},drag:{Feature:Yj,ProjectionNode:dC,MeasureLayout:rC}};function qw(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ft.postRender(()=>l(e,vc(e)))}class P5 extends jr{mount(){const{current:e}=this.node;e&&(this.unmount=J3(e,(n,s)=>(qw(this.node,s,"Start"),a=>qw(this.node,a,"End"))))}unmount(){}}class M5 extends jr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pc(Xu(this.node.current,"focus",()=>this.onFocus()),Xu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Fw(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ft.postRender(()=>l(e,vc(e)))}class O5 extends jr{mount(){const{current:e}=this.node;e&&(this.unmount=n4(e,(n,s)=>(Fw(this.node,s,"Start"),(a,{success:l})=>Fw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fg=new WeakMap,Qp=new WeakMap,V5=t=>{const e=Fg.get(t.target);e&&e(t)},k5=t=>{t.forEach(V5)};function L5({root:t,...e}){const n=t||document;Qp.has(n)||Qp.set(n,{});const s=Qp.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(k5,{root:t,...e})),s[a]}function j5(t,e,n){const s=L5(e);return Fg.set(t,n),s.observe(t),()=>{Fg.delete(t),s.unobserve(t)}}const U5={some:0,all:1};class z5 extends jr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:U5[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),w=g?y:_;w&&w(m)};return j5(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(B5(e,n))&&this.startObserver()}unmount(){}}function B5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const q5={inView:{Feature:z5},tap:{Feature:O5},focus:{Feature:M5},hover:{Feature:P5}},F5={layout:{ProjectionNode:dC,MeasureLayout:rC}},H5={...Rj,...q5,...D5,...F5},Oe=H4(H5,ij);function Ju(){const{state:t,dispatch:e}=dc(),[n,s]=N.useState(!1),[a,l]=N.useState(()=>{const d=t?.profile||{};return{name:d.name||"",avatarUrl:d.avatarUrl||"",bio:d.bio||""}});N.useEffect(()=>{n&&t?.profile&&l({name:t.profile.name||"",avatarUrl:t.profile.avatarUrl||"",bio:t.profile.bio||""})},[n,t?.profile]),N.useEffect(()=>{if(typeof document<"u"){const d=document.body.style.overflow;return n?document.body.style.overflow="hidden":document.body.style.overflow=d||"",()=>{document.body.style.overflow=d||""}}},[n]);const c=()=>{try{if(!a.name||a.name.trim()===""){alert("Please enter a name");return}e({type:"updateProfile",payload:{name:a.name.trim(),avatarUrl:a.avatarUrl.trim(),bio:a.bio.trim()}}),s(!1)}catch(d){console.error("Error saving profile:",d),alert("Failed to save profile. Please try again.")}};return E.jsxs("div",{className:"position-relative",children:[E.jsx("button",{onClick:()=>{const d=t?.profile||{};l({name:d.name||"",avatarUrl:d.avatarUrl||"",bio:d.bio||""}),s(!0)},className:"profile-button card-glow",title:"Profile",children:t?.profile?.name?t.profile.name[0]?.toUpperCase():"P"}),typeof document<"u"&&xN.createPortal(E.jsx(f4,{children:n&&E.jsxs(E.Fragment,{children:[E.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"position-fixed top-0 start-0 w-100 h-100",style:{backgroundColor:"#040612",zIndex:99998,pointerEvents:"auto"}}),E.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:d=>{d.target===d.currentTarget&&s(!1)},className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{backgroundColor:"rgba(4, 6, 18, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",zIndex:99999,pointerEvents:"auto"},children:E.jsxs(Oe.div,{initial:{scale:.8,opacity:0,y:-50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0},onClick:d=>d.stopPropagation(),className:"card-glow p-4 mx-3",style:{maxWidth:"450px",width:"100%",zIndex:1e5,position:"relative",backgroundColor:"#151a2d",pointerEvents:"auto",boxShadow:"0 0 30px rgba(0, 0, 0, 0.8)"},children:[E.jsx("h4",{className:"neon-text mb-4",children:"Edit Profile"}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"form-label text-light",children:"Name"}),E.jsx("input",{type:"text",value:a.name,onChange:d=>l({...a,name:d.target.value}),className:"form-control form-control-custom",placeholder:"Your Coder Name",required:!0})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"form-label text-light",children:"Avatar URL"}),E.jsx("input",{type:"url",value:a.avatarUrl,onChange:d=>l({...a,avatarUrl:d.target.value}),className:"form-control form-control-custom",placeholder:"https://..."})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"form-label text-light",children:"Bio"}),E.jsx("textarea",{value:a.bio,onChange:d=>l({...a,bio:d.target.value}),className:"form-control form-control-custom",rows:3,placeholder:"I code to level up!"})]}),E.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[E.jsx("button",{className:"btn btn-logout px-3 py-2",onClick:()=>s(!1),children:"Cancel"}),E.jsx("button",{className:"btn btn-neon px-3 py-2",onClick:c,disabled:!a.name,children:"Save"})]})]})})]})}),document.body)]})}const G5=[{key:"javascript",label:"JavaScript",gradient:"linear-gradient(135deg, #ffd23f 0%, #ff6b35 100%)"},{key:"python",label:"Python",gradient:"linear-gradient(135deg, #4f46e5 0%, #06b6d4 100%)"},{key:"java",label:"Java",gradient:"linear-gradient(135deg, #f97316 0%, #dc2626 100%)"},{key:"cpp",label:"C++",gradient:"linear-gradient(135deg, #0ea5e9 0%, #3b82f6 100%)"}];function Hw(){const t=Vs(),{dispatch:e}=dc(),{currentUser:n}=mc(),s=n?.displayName||n?.email?.split("@")[0]||"Coder",a=c=>{e({type:"selectLanguage",lang:c}),t(`/levels/${c}`)},l=async()=>{try{await sL()}catch(c){console.error("Logout failed:",c)}};return E.jsxs("div",{className:"container-fluid min-vh-100 p-4 gradient-bg",children:[E.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-5 flex-wrap gap-3",children:[E.jsxs("div",{className:"d-flex align-items-center gap-3 flex-wrap",children:[E.jsx(Oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/"),className:"btn btn-outline-light",title:"Back to Home",style:{whiteSpace:"nowrap"},children:" Back to Home"}),E.jsxs("h2",{className:"text-light fw-bold mb-0",style:{fontSize:"clamp(1.2rem, 3vw, 1.5rem)"},children:["Welcome, ",s,"!"]})]}),E.jsxs("div",{className:"d-flex align-items-center gap-3 ms-auto flex-wrap",children:[E.jsx(Oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/leaderboard"),className:"btn btn-outline-info",title:"View Leaderboard",style:{whiteSpace:"nowrap"},children:" Leaderboard"}),E.jsx(Ju,{}),E.jsx(Oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l,className:"btn btn-logout",title:"Logout",style:{whiteSpace:"nowrap"},children:" Logout"})]})]}),E.jsxs("div",{className:"container p-0",children:[E.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-5",children:[E.jsx("h1",{className:"display-4 fw-bold neon-text mb-3",children:"Choose Your Path"}),E.jsx("p",{className:"lead text-light-50",children:"Select a language to start your coding quest and level up your skills."})]}),E.jsx("div",{className:"row g-4 g-lg-5 justify-content-center",children:G5.map((c,d)=>E.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:E.jsxs(Oe.button,{whileHover:{scale:1.05,boxShadow:"0 0 20px rgba(0, 234, 255, 0.5)"},whileTap:{scale:.98},initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:d*.1,duration:.5},onClick:()=>a(c.key),className:"btn w-100 language-card card-glow p-4 text-white d-flex flex-column align-items-center justify-content-center",style:{height:"180px",background:c.gradient,border:"none",transition:"all 0.3s"},children:[E.jsx("i",{className:`fs-1 mb-2 ${c.icon||"bi bi-code-slash"}`}),E.jsx("h3",{className:"h5 fw-bold mb-0",children:c.label})]})},c.key))})]})]})}function K5(t,e){console.log("generatePrerequisiteQuestions called with:",{lang:t,levelDataKeys:e?Object.keys(e):"null"});const n=[];if(!e)return console.error("levelData is null or undefined"),[];if(!e[t])return console.error(`Language "${t}" not found in levelData. Available languages:`,Object.keys(e)),[];const s=e[t];console.log(`Found language data for ${t}. Number of levels:`,Object.keys(s).length),Object.values(s).forEach((d,m)=>{d.quiz&&Array.isArray(d.quiz)?(console.log(`Level "${d.title}" has ${d.quiz.length} quiz questions`),d.quiz.forEach(g=>{g.question&&g.options&&g.answer?n.push({...g,sourceLevel:d.title}):console.warn("Invalid question format:",g)})):console.log(`Level "${d.title}" has no quiz or quiz is not an array`)}),console.log(`Total questions collected for ${t}:`,n.length);const a=n.sort(()=>Math.random()-.5),l=Math.min(20,a.length),c=a.slice(0,l);return console.log(`Selected ${c.length} questions for prerequisite test`),c}function W5({lang:t,levelData:e,onComplete:n,onExit:s}){const[a]=N.useState(()=>{console.log("PrerequisiteTest - Initializing with:",{lang:t,levelData:e?"provided":"missing"});const se=K5(t,e);return console.log("PrerequisiteTest - Generated questions:",se.length,"for lang:",t),se.length===0&&console.error("PrerequisiteTest - No questions generated! This will cause a blank page."),se}),[l,c]=N.useState(0),[d,m]=N.useState({}),[g,y]=N.useState(!1),[_,w]=N.useState(0),[R,M]=N.useState(!1),[U,k]=N.useState(0),[B,F]=N.useState(!1),[Y,le]=N.useState(!0),[oe,ae]=N.useState(!1),C=N.useRef(null),A=N.useRef(null),I=N.useRef(typeof window<"u"?window.innerWidth:1920),V=N.useRef(typeof window<"u"?window.innerHeight:1080),P=N.useRef(null),z=N.useRef(!1),D=N.useCallback(async()=>{try{const se=C.current;if(!se){console.warn("Container ref not available");return}se.requestFullscreen?(await se.requestFullscreen(),y(!0)):se.webkitRequestFullscreen?(await se.webkitRequestFullscreen(),y(!0)):se.msRequestFullscreen?(await se.msRequestFullscreen(),y(!0)):(console.warn("Fullscreen API not supported"),y(!0))}catch(se){console.error("Fullscreen error:",se),y(!1)}},[]),Fe=N.useCallback(()=>{console.log("Test violation detected - restarting test"),c(0),m({}),M(!1),k(0),w(0),F(!0),le(!0),ae(!1),y(!1),z.current=!1,P.current=null,typeof document<"u"&&(document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen().catch(se=>console.error("Error exiting fullscreen:",se)):document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())},[]);N.useEffect(()=>{if(Y||R){y(!1);return}if(typeof window>"u"||typeof document>"u")return;const se=()=>{const Me=!!(document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement);console.log("Fullscreen change detected:",Me),y(Me),Me?(I.current=window.innerWidth,V.current=window.innerHeight,P.current=Date.now(),z.current=!0,setTimeout(()=>{z.current=!1},2e3),setTimeout(()=>{ae(!1)},100)):(z.current=!1,P.current=null,!R&&!Y&&Fe())};document.addEventListener("fullscreenchange",se),document.addEventListener("webkitfullscreenchange",se),document.addEventListener("msfullscreenchange",se);const he=Me=>Me.preventDefault();document.addEventListener("contextmenu",he);const Ae=Me=>{!["Tab","Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(Me.key)&&!Me.ctrlKey&&!Me.metaKey&&(Me.target.tagName==="BUTTON"||Me.target.tagName==="INPUT")||(Me.key==="F12"||Me.ctrlKey&&Me.shiftKey&&Me.key==="I"||Me.ctrlKey&&Me.shiftKey&&Me.key==="C"||Me.ctrlKey&&Me.shiftKey&&Me.key==="J")&&(Me.preventDefault(),R||Fe())};document.addEventListener("keydown",Ae);const rt=()=>{!R&&!z.current&&(P.current?Date.now()-P.current:1/0)>2e3&&Fe()};window.addEventListener("blur",rt);const it=()=>{if(!R&&!z.current){const Me=Math.abs(window.innerWidth-I.current),ti=Math.abs(window.innerHeight-V.current),On=P.current?Date.now()-P.current:1/0;(Me>100||ti>100)&&On>2e3&&Fe()}};window.addEventListener("resize",it);const Ei=()=>{!R&&document.hidden&&!z.current&&(P.current?Date.now()-P.current:1/0)>2e3&&Fe()};document.addEventListener("visibilitychange",Ei);const ns=Me=>{Me.ctrlKey&&(Me.key==="c"||Me.key==="v"||Me.key==="x")&&(Me.preventDefault(),w(ti=>ti+1))};return document.addEventListener("keydown",ns),()=>{document.removeEventListener("fullscreenchange",se),document.removeEventListener("webkitfullscreenchange",se),document.removeEventListener("msfullscreenchange",se),document.removeEventListener("contextmenu",he),document.removeEventListener("keydown",Ae),document.removeEventListener("keydown",ns),window.removeEventListener("blur",rt),window.removeEventListener("resize",it),document.removeEventListener("visibilitychange",Ei),A.current&&clearTimeout(A.current)}},[R,Fe,Y]);const ut=async()=>{console.log("handleBeginTest called"),I.current=window.innerWidth,V.current=window.innerHeight,w(0),F(!1),le(!1),ae(!0),console.log("State updated: showInstructions=false, fullscreenRequested=true"),requestAnimationFrame(async()=>{try{await D(),console.log("Fullscreen requested"),setTimeout(()=>{const se=!!(document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement);console.log("Fullscreen check after timeout:",se),y(se)},300)}catch(se){console.error("Error requesting fullscreen:",se),y(!0),ae(!1)}})},X=()=>E.jsxs("ul",{className:"list-unstyled text-light mb-0",style:{lineHeight:1.7,fontSize:"1rem"},children:[E.jsx("li",{children:" This 20-question skill check is mandatory before you start any levels."}),E.jsx("li",{children:" Score 14+ to open Intermediate, 16+ for instant Advanced access; lower scores unlock Easy only."}),E.jsx("li",{children:" Low scores mean you must clear every Easy level before Intermediate, and every Intermediate before Advanced."}),E.jsx("li",{children:" Stay in fullscreen at all timesleaving, switching tabs, or splitting the screen restarts the test."}),E.jsx("li",{children:" Copy/paste, developer tools, or outside help are blocked. Treat this like a pro gamer challenge."}),E.jsx("li",{children:" Answer every question; the Finish button unlocks only after all responses are locked in."})]});if(!a||a.length===0)return console.error("PrerequisiteTest - No questions available for lang:",t,{questions:a,levelDataProvided:!!e,levelDataKeys:e?Object.keys(e):"N/A"}),E.jsx("div",{className:"gradient-bg d-flex justify-content-center align-items-center",style:{minHeight:"100vh",padding:"2rem"},children:E.jsxs("div",{className:"card-glow p-5 text-center",style:{maxWidth:"600px",backgroundColor:"#151a2d",borderRadius:"15px"},children:[E.jsx("h2",{className:"neon-text mb-4",children:" No Questions Available"}),E.jsxs("p",{className:"text-light mb-3",children:["There are no questions available for ",E.jsx("strong",{children:t})," yet."]}),E.jsxs("p",{className:"text-muted small mb-4",children:["This could mean:",E.jsx("br",{})," No quiz questions have been added to the levels yet",E.jsx("br",{})," The language data is not loading correctly",E.jsx("br",{})," Check the browser console for more details"]}),E.jsx("button",{onClick:s,className:"btn btn-neon",children:" Go Back to Languages"})]})});if(Y)return E.jsx("div",{ref:C,className:"gradient-bg",style:{minHeight:"100vh",padding:"2rem"},children:E.jsxs("div",{className:"container",children:[B&&E.jsxs("div",{className:"alert alert-danger mb-4 text-center",children:[E.jsx("strong",{children:" Test Restarted:"})," You attempted to exit fullscreen, switch tabs, or split the screen. The test has been reset. Please review the instructions and start again."]}),E.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-glow p-5 mx-auto text-center",style:{maxWidth:"760px",backgroundColor:"#121a33",borderRadius:"20px"},children:[E.jsx("h2",{className:"neon-text mb-3",style:{fontSize:"2rem"},children:"Prerequisite Test Briefing"}),E.jsx("p",{className:"text-light-50 mb-4",children:"Read carefully before you begin. This mission determines which levels unlock for you."}),E.jsx("div",{className:"text-start",children:X()}),E.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-center gap-3 mt-5",children:[E.jsx("button",{onClick:s,className:"btn btn-outline-light px-4 py-3",style:{minWidth:"220px",borderRadius:"12px"},children:" Back to Languages"}),E.jsx("button",{onClick:ut,className:"btn btn-neon px-5 py-3",style:{minWidth:"220px"},children:"Start Prerequisite Test"})]})]})]})});const re=(se,he)=>{m(Ae=>({...Ae,[se]:he}))},fe=()=>{if(l<a.length-1)c(l+1);else{if(!a.every((Ae,rt)=>d[rt]!==void 0)){alert("Please answer all questions before finishing the test.");return}let he=0;a.forEach((Ae,rt)=>{d[rt]===Ae.answer&&he++}),k(he),M(!0)}},Ie=()=>{const se=U/a.length*100;document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),n(U,se)};if(R){const se=U/a.length*100,he=a.length,Ae=U>15?"advanced":U>13?"intermediate":"easy";return E.jsx("div",{ref:C,className:"gradient-bg",style:{minHeight:"100vh",padding:"2rem"},children:E.jsx("div",{className:"container",children:E.jsxs(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"card-glow p-5 mx-auto text-center",style:{maxWidth:"700px",backgroundColor:"#151a2d",borderRadius:"15px"},children:[E.jsx("h2",{className:"neon-text display-4 mb-4",children:"Prerequisite Test Results"}),E.jsxs("div",{className:"mb-4 p-4",style:{backgroundColor:"#1a1f3a",borderRadius:"10px"},children:[E.jsx("h3",{className:"text-light mb-3",children:"Your Score"}),E.jsxs("div",{className:"display-1 fw-bold",style:{color:se>=90?"#28a745":se>=70?"#ffc107":"#dc3545"},children:[U," / ",he]}),E.jsxs("div",{className:"h4 mt-2",style:{color:se>=90?"#28a745":se>=70?"#ffc107":"#dc3545"},children:[se.toFixed(1),"%"]})]}),E.jsxs("div",{className:"mb-4 p-4",style:{backgroundColor:"#1a1f3a",borderRadius:"10px"},children:[E.jsx("h4",{className:"text-light mb-3",children:"Access Level"}),Ae==="advanced"?E.jsxs("div",{children:[E.jsx("p",{className:"text-success h5 mb-2",children:" Outstanding!"}),E.jsxs("p",{className:"text-light",children:["You can access ",E.jsx("strong",{children:"all levels"})," (Easy, Intermediate, Advanced)."]}),E.jsx("p",{className:"text-muted small mt-2",children:"Take advantage of advanced challenges to maximize your learning."})]}):Ae==="intermediate"?E.jsxs("div",{children:[E.jsx("p",{className:"text-success h5 mb-2",children:" Great Job!"}),E.jsxs("p",{className:"text-light",children:["You can access ",E.jsx("strong",{children:"Easy"})," and ",E.jsx("strong",{children:"Intermediate"})," levels."]}),E.jsx("p",{className:"text-muted small mt-2",children:"Score 16 or higher to unlock Advanced levels."})]}):E.jsxs("div",{children:[E.jsx("p",{className:"text-warning h5 mb-2",children:" Keep Practicing"}),E.jsxs("p",{className:"text-light",children:["You can access ",E.jsx("strong",{children:"Easy"})," levels. Review the fundamentals and retake the test to unlock more."]}),E.jsx("p",{className:"text-muted small mt-2",children:"Score 14+ to unlock Intermediate, 16+ for Advanced."})]})]}),_>0&&E.jsxs("div",{className:"alert alert-warning mb-4",children:[E.jsx("strong",{children:"Warning:"})," You attempted to exit or switch tabs ",_," time(s). Please complete the test without leaving the page."]}),E.jsx("button",{onClick:Ie,className:"btn btn-neon px-5 py-3",style:{fontSize:"1.2rem"},children:"Continue to Levels"})]})})})}const _e=Math.max(0,Math.min(l,a.length-1)),L=a[_e];if(!L)return console.error("PrerequisiteTest - currentQ is undefined:",{currentQuestion:l,safeCurrentQuestion:_e,questionsLength:a.length,questions:a}),E.jsx("div",{className:"gradient-bg d-flex justify-content-center align-items-center",style:{minHeight:"100vh",padding:"2rem"},children:E.jsxs("div",{className:"card-glow p-5 text-center",style:{maxWidth:"600px",backgroundColor:"#151a2d",borderRadius:"15px"},children:[E.jsx("h2",{className:"neon-text mb-4",children:"Error Loading Question"}),E.jsx("p",{className:"text-light mb-4",children:"There was an error loading the current question."}),E.jsxs("p",{className:"text-muted small mb-4",children:["Question index: ",l,", Total questions: ",a.length]}),E.jsx("button",{onClick:s,className:"btn btn-neon",children:"Go Back"})]})});const Z=d[_e]!==void 0,ce=(_e+1)/a.length*100;console.log("PrerequisiteTest render state:",{showInstructions:Y,showResults:R,isFullscreen:g,fullscreenRequested:oe,currentQuestion:l,safeCurrentQuestion:_e,questionsLength:a.length,currentQExists:!!L});const de=!g&&!R&&!oe&&!Y;return!Y&&!R&&!L?(console.error("PrerequisiteTest - Critical error: past instructions but no current question"),E.jsx("div",{className:"gradient-bg d-flex justify-content-center align-items-center",style:{minHeight:"100vh",padding:"2rem"},children:E.jsxs("div",{className:"card-glow p-5 text-center",style:{maxWidth:"600px",backgroundColor:"#151a2d",borderRadius:"15px"},children:[E.jsx("h2",{className:"neon-text mb-4",children:"Error Loading Test"}),E.jsx("p",{className:"text-light mb-4",children:"Unable to load the test questions. Please try again."}),E.jsx("button",{onClick:s,className:"btn btn-neon",children:"Go Back"})]})})):de?E.jsx("div",{ref:C,className:"gradient-bg",style:{minHeight:"100vh",padding:"2rem"},children:E.jsxs("div",{className:"container",children:[B&&E.jsxs("div",{className:"alert alert-danger mb-4 text-center",children:[E.jsx("strong",{children:" Test Restarted:"})," You attempted to exit fullscreen, switch tabs, or split the screen. The test has been reset. Please complete it without leaving the page."]}),E.jsxs("div",{className:"alert alert-warning mb-4 text-center",children:[E.jsx("strong",{children:" Fullscreen Required:"})," This test must be taken in fullscreen mode. Please enable fullscreen to continue."]}),E.jsxs(Oe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"card-glow mb-4",style:{backgroundColor:"#121a33",borderRadius:"18px"},children:[E.jsx("h3",{className:"neon-text mb-3",style:{fontSize:"1.3rem"},children:" Prerequisite Test Briefing"}),X()]}),E.jsxs("div",{className:"mb-4",children:[E.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[E.jsxs("span",{className:"text-light",children:["Question ",_e+1," of ",a.length]}),E.jsxs("span",{className:"text-light",children:[Math.round(ce),"% Complete"]})]}),E.jsx("div",{className:"progress",style:{height:"20px",backgroundColor:"#333"},children:E.jsx("div",{className:"progress-bar bg-info",role:"progressbar",style:{width:`${ce}%`}})}),E.jsx("div",{className:"d-flex justify-content-center gap-2 mt-3 flex-wrap",children:a.map((se,he)=>E.jsx("button",{onClick:()=>c(he),className:`btn btn-sm ${he===_e?"btn-neon":d[he]?"btn-success":"btn-outline-secondary"}`,style:{width:"30px",height:"30px",borderRadius:"50%",padding:0,fontSize:"0.8rem"},title:`Question ${he+1}${d[he]?" (Answered)":" (Not answered)"}`,children:he+1},he))})]}),E.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-glow p-5 mx-auto",style:{maxWidth:"800px",backgroundColor:"#151a2d",borderRadius:"15px"},children:[E.jsx("h3",{className:"neon-text mb-4",style:{fontSize:"1.5rem"},children:L.question}),E.jsx("div",{className:"options mb-4",children:L.options.map((se,he)=>E.jsx(Oe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>re(_e,se),className:`btn w-100 mb-3 p-3 text-start ${d[_e]===se?"btn-neon":"btn-outline-light"}`,style:{backgroundColor:d[_e]===se?"#0d6efd":"transparent",border:"2px solid #6c757d",fontSize:"1.1rem"},children:se},he))}),E.jsx("div",{className:"text-center",children:E.jsx("button",{onClick:fe,disabled:!Z,className:"btn btn-neon px-5 py-3",style:{opacity:Z?1:.5,fontSize:"1.1rem",minWidth:"200px"},children:_e<a.length-1?"Next Question":"Finish Test"})})]})]})}):E.jsx("div",{ref:C,className:"gradient-bg",style:{minHeight:"100vh",padding:"2rem"},children:E.jsxs("div",{className:"container",children:[B&&E.jsxs("div",{className:"alert alert-danger mb-3 text-center",children:[E.jsx("strong",{children:" Test Restarted:"})," You attempted to exit fullscreen, switch tabs, or split the screen. The test has been reset to question 1. Please complete it without leaving the page."]}),E.jsxs("div",{className:"mb-4",children:[E.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[E.jsxs("span",{className:"text-light",children:["Question ",_e+1," of ",a.length]}),E.jsxs("span",{className:"text-light",children:[Math.round(ce),"% Complete"]})]}),E.jsx("div",{className:"progress",style:{height:"20px",backgroundColor:"#333"},children:E.jsx("div",{className:"progress-bar bg-info",role:"progressbar",style:{width:`${ce}%`}})}),E.jsx("div",{className:"d-flex justify-content-center gap-2 mt-3 flex-wrap",children:a.map((se,he)=>E.jsx("button",{onClick:()=>c(he),className:`btn btn-sm ${he===_e?"btn-neon":d[he]?"btn-success":"btn-outline-secondary"}`,style:{width:"30px",height:"30px",borderRadius:"50%",padding:0,fontSize:"0.8rem"},title:`Question ${he+1}${d[he]?" (Answered)":" (Not answered)"}`,children:he+1},he))})]}),E.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-glow p-5 mx-auto",style:{maxWidth:"800px",backgroundColor:"#151a2d",borderRadius:"15px"},children:[E.jsx("h3",{className:"neon-text mb-4",style:{fontSize:"1.5rem"},children:L.question}),E.jsx("div",{className:"options mb-4",children:L.options.map((se,he)=>E.jsx(Oe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>re(_e,se),className:`btn w-100 mb-3 p-3 text-start ${d[_e]===se?"btn-neon":"btn-outline-light"}`,style:{backgroundColor:d[l]===se?"#0d6efd":"transparent",border:"2px solid #6c757d",fontSize:"1.1rem"},children:se},he))}),E.jsx("div",{className:"text-center",children:E.jsx("button",{onClick:fe,disabled:!Z,className:"btn btn-neon px-5 py-3",style:{opacity:Z?1:.5,fontSize:"1.1rem",minWidth:"200px"},children:_e<a.length-1?"Next Question":"Finish Test"})})]}),E.jsx("div",{className:"text-center mt-4",children:E.jsx("p",{className:"text-muted small",children:" Do not exit fullscreen or switch tabs. Your test may be invalidated."})})]})})}const pi={javascript:{js_00_intro:{order:0,difficulty:"easy",title:"JavaScript: Introduction & Background",theory:`# Introduction to JavaScript

## When and why was JavaScript created?
JavaScript was created in 1995 by Brendan Eich at Netscape to add interactivity to web pages.

## Language level
JavaScript is a **high-level**, **interpreted**, **dynamically typed** language.

## Runtime
JavaScript runs in the browser and on servers via **Node.js**.

## Typical use cases
- Building interactive web pages
- Frontend frameworks (React, Vue, Angular)
- Backend services (Node.js/Express)

## Hello World
\`\`\`javascript
console.log('Hello, JavaScript!')
\`\`\`

## Tooling
- Package manager: npm/yarn/pnpm
- Bundlers: Vite, Webpack
- Transpilers: Babel, TypeScript
`,xp:15,quiz:[{question:"Who created JavaScript?",options:["Guido van Rossum","Brendan Eich","James Gosling","Bjarne Stroustrup"],answer:"Brendan Eich"},{question:"JavaScript is primarily considered a",options:["Low-level language","High-level language","Assembly language","Machine language"],answer:"High-level language"},{question:"Which runtime lets JavaScript run on servers?",options:["JVM","CLR","Node.js","CPython"],answer:"Node.js"},{question:"Which command prints text in JavaScript?",options:["print()","console.log()","System.out.println()","echo"],answer:"console.log()"}]},js_01_variables:{order:1,difficulty:"easy",title:"JavaScript: Variables & Data Types",theory:`# Variables in JavaScript

Variables are containers for storing data values. In JavaScript, you can declare variables using three keywords:

## Declaration Keywords:
- **const**: For values that will NOT be reassigned (recommended by default)
- **let**: For values that may change (block-scoped)
- **var**: Legacy keyword (avoid in modern JavaScript)

## Data Types:
- **String**: Text data (e.g., "Hello World")
- **Number**: Numeric data (e.g., 42, 3.14)
- **Boolean**: True/false values
- **Undefined**: Variable declared but not assigned
- **Null**: Intentionally empty value
- **Object**: Complex data structures
- **Array**: Ordered lists of values

## Best Practices:
- Use \`const\` by default
- Use \`let\` only when you need to reassign
- Avoid \`var\` in modern JavaScript
- Use descriptive variable names
- Initialize variables when possible`,xp:20,quiz:[{question:"Which keyword should be used for a value that will NOT be reassigned?",options:["let","var","const","value"],answer:"const"},{question:"What is the type of the value `true`?",options:["string","number","boolean","null"],answer:"boolean"},{question:"Which of the following is NOT a valid JavaScript variable name?",options:["myVariable","user_name","2ndPlace","$price"],answer:"2ndPlace"},{question:"What will be the output of: `console.log(typeof undefined)`?",options:['"undefined"','"null"',"undefined","null"],answer:'"undefined"'}]},js_01b_operators:{order:1.5,difficulty:"easy",title:"JavaScript: Operators & Expressions",theory:`# JavaScript Operators & Expressions

## Arithmetic Operators:
\`\`\`javascript
let a = 10, b = 3;
a + b  // 13 (Addition)
a - b  // 7 (Subtraction)
a * b  // 30 (Multiplication)
a / b  // 3.33... (Division)
a % b  // 1 (Modulus/Remainder)
a ** b // 1000 (Exponentiation)
\`\`\`

## Comparison Operators:
\`\`\`javascript
5 == 5   // true (loose equality)
5 === 5  // true (strict equality)
5 != 3   // true (not equal)
5 !== "5" // true (strict not equal)
5 > 3    // true
5 < 3    // false
\`\`\`

## Logical Operators:
\`\`\`javascript
true && false  // false (AND)
true || false  // true (OR)
!true          // false (NOT)
\`\`\`

## Assignment Operators:
\`\`\`javascript
let x = 5;
x += 3;  // x = x + 3 (8)
x -= 2;  // x = x - 2 (6)
x *= 2;  // x = x * 2 (12)
\`\`\`

## Operator Precedence:
Operators are evaluated in a specific order (PEMDAS-like).`,xp:20,quiz:[{question:"What does `5 % 3` return?",options:["1","2","1.67","0"],answer:"2"},{question:"What is the difference between `==` and `===`?",options:["No difference","=== checks type, == does not","== checks type, === does not","Both check type"],answer:"=== checks type, == does not"},{question:"What does `!true` return?",options:["true","false","undefined","null"],answer:"false"},{question:"What does `x += 5` mean?",options:["x = x + 5","x = 5","x = x * 5","x = x - 5"],answer:"x = x + 5"}]},js_02_functions:{order:2,difficulty:"intermediate",title:"JavaScript: Functions & Scope",theory:`# Functions in JavaScript

Functions are reusable blocks of code that perform specific tasks.

## Function Declaration:
\`\`\`javascript
function greet(name) {
  return "Hello, " + name;
}
\`\`\`

## Function Expression:
\`\`\`javascript
const greet = function(name) {
  return "Hello, " + name;
};
\`\`\`

## Arrow Functions (ES6+):
\`\`\`javascript
const greet = (name) => {
  return "Hello, " + name;
};
\`\`\`

## Scope:
- **Global Scope**: Variables accessible everywhere
- **Function Scope**: Variables accessible within the function
- **Block Scope**: Variables accessible within blocks (let/const)

## Parameters vs Arguments:
- **Parameters**: Variables in function definition
- **Arguments**: Values passed when calling function

## Return Statement:
- Functions can return values using \`return\`
- Without \`return\`, function returns \`undefined\``,xp:30,quiz:[{question:"What keyword is used to declare a function?",options:["func","function","def","method"],answer:"function"},{question:"What will this function return: `function test() { return 5; }`?",options:["undefined","5","null","function"],answer:"5"},{question:"Which is the correct arrow function syntax?",options:["() => {}","=> () {}","function => {}","() -> {}"],answer:"() => {}"},{question:"What is the scope of a variable declared with `let` inside a function?",options:["Global","Function","Block","Module"],answer:"Block"}]},js_03_arrays:{order:3,difficulty:"intermediate",title:"JavaScript: Arrays & Loops",theory:`# Arrays and Loops in JavaScript

## Arrays:
Arrays are ordered collections of values, indexed starting from 0.

\`\`\`javascript
const fruits = ['apple', 'banana', 'orange'];
console.log(fruits[0]); // 'apple'
\`\`\`

## Array Methods:
- **push()**: Add element to end
- **pop()**: Remove last element
- **shift()**: Remove first element
- **unshift()**: Add element to beginning
- **length**: Get array length

## Loops:

### For Loop:
\`\`\`javascript
for (let i = 0; i < 5; i++) {
  console.log(i);
}
\`\`\`

### For...of Loop (Arrays):
\`\`\`javascript
for (const fruit of fruits) {
  console.log(fruit);
}
\`\`\`

### For...in Loop (Objects):
\`\`\`javascript
for (const key in object) {
  console.log(key, object[key]);
}
\`\`\`

### While Loop:
\`\`\`javascript
let i = 0;
while (i < 5) {
  console.log(i);
  i++;
}
\`\`\``,xp:40,quiz:[{question:"What is the index of the first element in an array?",options:["1","0","-1","first"],answer:"0"},{question:"Which method adds an element to the end of an array?",options:["push()","pop()","shift()","unshift()"],answer:"push()"},{question:"What will this code output: `for (let i = 0; i < 3; i++) { console.log(i); }`?",options:["0, 1, 2","1, 2, 3","0, 1, 2, 3","1, 2"],answer:"0, 1, 2"},{question:"Which loop is best for iterating over array elements?",options:["for...in","for...of","while","do...while"],answer:"for...of"}]},js_04_objects:{order:4,difficulty:"advanced",title:"JavaScript: Objects & Classes",theory:`# Objects and Classes in JavaScript

## Objects:
Objects are collections of key-value pairs (properties and methods).

\`\`\`javascript
const person = {
  name: 'John',
  age: 30,
  greet: function() {
    return 'Hello, I am ' + this.name;
  }
};
\`\`\`

## Object Access:
- **Dot Notation**: \`person.name\`
- **Bracket Notation**: \`person['name']\`

## Classes (ES6+):
\`\`\`javascript
class Person {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }
  
  greet() {
    return 'Hello, I am ' + this.name;
  }
}

const john = new Person('John', 30);
\`\`\`

## Object Methods:
- **Object.keys()**: Get all keys
- **Object.values()**: Get all values
- **Object.entries()**: Get key-value pairs

## This Keyword:
- Refers to the current object context
- Behavior changes based on how function is called`,xp:50,quiz:[{question:'How do you access a property named "age" in an object?',options:["object.age","object[age]",'object["age"]',"Both A and C"],answer:"Both A and C"},{question:"What does the `this` keyword refer to in a class method?",options:["The global object","The class itself","The instance","undefined"],answer:"The instance"},{question:"Which method creates a new instance of a class?",options:["new","create","instance","make"],answer:"new"},{question:"What will `Object.keys({a: 1, b: 2})` return?",options:["[1, 2]",'["a", "b"]',"[{a: 1}, {b: 2}]","undefined"],answer:'["a", "b"]'}]},js_05_async:{order:5,difficulty:"advanced",title:"JavaScript: Async, Promises & Async/Await",theory:`# Async Programming in JavaScript

## Promises
A Promise represents an async result.

\`\`\`javascript
fetch('/api/data')
  .then(resp => resp.json())
  .then(data => console.log(data))
  .catch(err => console.error(err))
\`\`\`

## async/await
Syntactic sugar over Promises.

\`\`\`javascript
async function load() {
  try {
    const resp = await fetch('/api/data');
    const data = await resp.json();
    console.log(data);
  } catch (e) {
    console.error(e);
  }
}
\`\`\`

## Concurrency vs Parallelism
JS is single-threaded; async uses an event loop.`,xp:60,quiz:[{question:"A Promise represents",options:["A synchronous value","An async result","A thread","A generator"],answer:"An async result"},{question:"Which keyword waits for a Promise?",options:["await","defer","yield","next"],answer:"await"},{question:"Where do you place error handling for async/await?",options:["after await","try/catch","finally only","cannot handle"],answer:"try/catch"},{question:"JavaScript concurrency is managed by",options:["Threads","Event loop","Processes","Locks"],answer:"Event loop"}]},js_06_modules:{order:6,difficulty:"advanced",title:"JavaScript: Modules & ES6 Features",theory:`# JavaScript Modules & ES6 Features

## ES6 Modules:
\`\`\`javascript
// export.js
export const PI = 3.14159;
export function circleArea(r) {
  return PI * r * r;
}

// import.js
import { PI, circleArea } from './export.js';
\`\`\`

## Default Exports:
\`\`\`javascript
// export default
export default class Calculator { }

// import
import Calculator from './calculator.js';
\`\`\`

## Destructuring:
\`\`\`javascript
const [a, b] = [1, 2];
const {name, age} = {name: 'John', age: 30};
\`\`\`

## Spread Operator:
\`\`\`javascript
const arr1 = [1, 2, 3];
const arr2 = [...arr1, 4, 5]; // [1, 2, 3, 4, 5]
\`\`\`

## Template Literals:
\`\`\`javascript
const name = 'World';
const greeting = \`Hello, \${name}!\`;
\`\`\``,xp:60,quiz:[{question:"Which keyword exports a module?",options:["export","module.exports","exports","All of the above"],answer:"export"},{question:"What does destructuring do?",options:["Creates arrays","Extracts values from objects/arrays","Deletes variables","Imports modules"],answer:"Extracts values from objects/arrays"},{question:"What does the spread operator (...) do?",options:["Copies arrays/objects","Multiplies values","Divides arrays","Nothing"],answer:"Copies arrays/objects"},{question:"Template literals use which characters?",options:["Single quotes","Double quotes","Backticks","Parentheses"],answer:"Backticks"}]}},python:{py_00_intro:{order:0,difficulty:"easy",title:"Python: Introduction & Background",theory:`# Introduction to Python

## When and why was Python created?
Python was created by Guido van Rossum in 1991 to emphasize readability and simplicity.

## Language level
Python is a **high-level**, **interpreted**, **dynamically typed** language.

## Typical use cases
- Data science, ML/AI
- Web development (Django/Flask/FastAPI)
- Scripting and automation

## Hello World
\`\`\`python
print('Hello, Python!')
\`\`\`

## Tooling
- Package manager: pip, pipenv, poetry
- Environments: venv, conda
`,xp:15,quiz:[{question:"Who created Python?",options:["Linus Torvalds","Guido van Rossum","Brendan Eich","Dennis Ritchie"],answer:"Guido van Rossum"},{question:"Python is primarily considered a",options:["Low-level language","High-level language","Assembly language","Machine language"],answer:"High-level language"},{question:"Which code prints text in Python?",options:["print()","console.log()","System.out.println()","cout <<"],answer:"print()"},{question:"Which framework is a Python web framework?",options:["React","Django","Spring","Angular"],answer:"Django"}]},py_01_syntax_print:{order:1,difficulty:"easy",title:"Python: Syntax & Print Statements",theory:`# Python Syntax and Print Statements

## Python Syntax:
Python uses indentation (whitespace) to define code blocks instead of curly braces.

\`\`\`python
if True:
    print("This is indented")
    print("This too")
\`\`\`

## Print Function:
The \`print()\` function outputs text to the console.

\`\`\`python
print("Hello, World!")
print("Number:", 42)
print("Multiple", "values", "separated", "by", "commas")
\`\`\`

## Print Options:
- **sep**: Separator between values (default: space)
- **end**: What to print at the end (default: newline)
- **file**: Where to print (default: console)

\`\`\`python
print("Hello", "World", sep="-", end="!")
# Output: Hello-World!
\`\`\`

## Comments:
- **Single line**: \`# This is a comment\`
- **Multi-line**: \`"""This is a docstring"""\`

## Variables:
Python variables don't need declaration:
\`\`\`python
name = "Python"
age = 30
is_awesome = True
\`\`\``,xp:20,quiz:[{question:"What character is used for single-line comments in Python?",options:["//","#","/*","--"],answer:"#"},{question:"How do you print multiple values on the same line?",options:['print("a", "b")','print("a" + "b")','print("a" "b")',"All of the above"],answer:'print("a", "b")'},{question:"What does Python use instead of curly braces for code blocks?",options:["Parentheses","Indentation","Semicolons","Keywords"],answer:"Indentation"},{question:"What is the default separator in print() function?",options:["Comma","Space","Newline","Tab"],answer:"Space"}]},py_02_data_types:{order:2,difficulty:"easy",title:"Python: Data Types & Structures",theory:`# Python Data Types and Data Structures

## Basic Data Types:
- **int**: Integer numbers (42, -5)
- **float**: Decimal numbers (3.14, -2.5)
- **str**: Text strings ("Hello", 'World')
- **bool**: Boolean values (True, False)
- **None**: Represents absence of value

## Data Structures:

### Lists:
\`\`\`python
fruits = ['apple', 'banana', 'orange']
numbers = [1, 2, 3, 4, 5]
mixed = [1, 'hello', True, 3.14]
\`\`\`

### Tuples:
\`\`\`python
coordinates = (10, 20)
colors = ('red', 'green', 'blue')
\`\`\`

### Dictionaries:
\`\`\`python
person = {
    'name': 'Alice',
    'age': 25,
    'city': 'New York'
}
\`\`\`

## Type Checking:
\`\`\`python
type(42)        # <class 'int'>
type("hello")   # <class 'str'>
type(True)      # <class 'bool'>
\`\`\`

## Mutable vs Immutable:
- **Mutable**: Lists, dictionaries (can be changed)
- **Immutable**: Strings, tuples, numbers (cannot be changed)`,xp:30,quiz:[{question:"Which data type is immutable in Python?",options:["List","Dictionary","Tuple","Set"],answer:"Tuple"},{question:"What is the correct way to create a list?",options:["list = (1, 2, 3)","list = [1, 2, 3]","list = {1, 2, 3}","list = <1, 2, 3>"],answer:"list = [1, 2, 3]"},{question:"What will `type(3.14)` return?",options:['<class "int">','<class "float">','<class "str">','<class "bool">'],answer:'<class "float">'},{question:"Which is the correct way to access a dictionary value?",options:["dict.key","dict[key]","dict->key","dict.get(key)"],answer:"dict[key]"}]},py_03_conditionals:{order:3,difficulty:"intermediate",title:"Python: Conditionals & Control Flow",theory:`# Python Conditionals and Control Flow

## If Statements:
\`\`\`python
age = 18
if age >= 18:
    print("You are an adult")
elif age >= 13:
    print("You are a teenager")
else:
    print("You are a child")
\`\`\`

## Comparison Operators:
- **==**: Equal to
- **!=**: Not equal to
- **<**: Less than
- **>**: Greater than
- **<=**: Less than or equal
- **>=**: Greater than or equal

## Logical Operators:
- **and**: Both conditions must be true
- **or**: At least one condition must be true
- **not**: Reverses the boolean value

\`\`\`python
if age >= 18 and has_license:
    print("You can drive")
\`\`\`

## Truthiness:
- **Falsy values**: False, 0, "", [], {}, None
- **Truthy values**: Everything else

## Ternary Operator:
\`\`\`python
status = "adult" if age >= 18 else "minor"
\`\`\`

## Nested Conditionals:
\`\`\`python
if age >= 18:
    if has_license:
        print("You can drive")
    else:
        print("You need a license")
else:
    print("You are too young")
\`\`\``,xp:40,quiz:[{question:"Which operator checks if two values are equal?",options:["=","==","===","equals"],answer:"=="},{question:'What will this code print: `if 0: print("True") else: print("False")`?',options:["True","False","Error","None"],answer:"False"},{question:"Which logical operator requires both conditions to be true?",options:["and","or","not","both"],answer:"and"},{question:"What is the correct syntax for an if-elif-else statement?",options:["if-else-elif","if-elif-else","if-elseif-else","if-else-elseif"],answer:"if-elif-else"}]},py_04_loops:{order:4,difficulty:"advanced",title:"Python: Loops & Iteration",theory:`# Python Loops and Iteration

## For Loops:
\`\`\`python
# Iterate over a list
fruits = ['apple', 'banana', 'orange']
for fruit in fruits:
    print(fruit)

# Iterate with range
for i in range(5):
    print(i)  # 0, 1, 2, 3, 4

# Iterate with range(start, stop, step)
for i in range(0, 10, 2):
    print(i)  # 0, 2, 4, 6, 8
\`\`\`

## While Loops:
\`\`\`python
count = 0
while count < 5:
    print(count)
    count += 1
\`\`\`

## Loop Control:
- **break**: Exit the loop immediately
- **continue**: Skip to next iteration
- **else**: Execute when loop completes normally

\`\`\`python
for i in range(10):
    if i == 3:
        break  # Exit loop
    print(i)
else:
    print("Loop completed normally")
\`\`\`

## Enumerate:
\`\`\`python
fruits = ['apple', 'banana', 'orange']
for index, fruit in enumerate(fruits):
    print(f"{index}: {fruit}")
\`\`\`

## List Comprehensions:
\`\`\`python
squares = [x**2 for x in range(5)]
# [0, 1, 4, 9, 16]
\`\`\``,xp:50,quiz:[{question:"What does `range(5)` generate?",options:["[1, 2, 3, 4, 5]","[0, 1, 2, 3, 4]","[1, 2, 3, 4]","[0, 1, 2, 3, 4, 5]"],answer:"[0, 1, 2, 3, 4]"},{question:"Which keyword exits a loop immediately?",options:["exit","break","stop","end"],answer:"break"},{question:"What will this code print: `for i in range(3): print(i)`?",options:["1, 2, 3","0, 1, 2","0, 1, 2, 3","1, 2"],answer:"0, 1, 2"},{question:"Which keyword skips to the next iteration?",options:["skip","continue","next","pass"],answer:"continue"}]},py_01b_operators:{order:1.5,difficulty:"easy",title:"Python: Operators & Expressions",theory:`# Python Operators & Expressions

## Arithmetic Operators:
\`\`\`python
a = 10
b = 3
a + b  # 13 (Addition)
a - b  # 7 (Subtraction)
a * b  # 30 (Multiplication)
a / b  # 3.33... (Division)
a // b # 3 (Floor division)
a % b  # 1 (Modulus)
a ** b # 1000 (Exponentiation)
\`\`\`

## Comparison Operators:
\`\`\`python
5 == 5   # True
5 != 3   # True
5 > 3    # True
5 < 3    # False
5 >= 5   # True
5 <= 3   # False
\`\`\`

## Logical Operators:
\`\`\`python
True and False  # False
True or False   # True
not True        # False
\`\`\`

## Membership Operators:
\`\`\`python
'x' in 'example'  # True
'z' not in 'example'  # True
\`\`\`

## Identity Operators:
\`\`\`python
a is b      # Checks if same object
a is not b  # Checks if different objects
\`\`\``,xp:20,quiz:[{question:"What does `10 // 3` return?",options:["3.33","3","4","3.0"],answer:"3"},{question:"Which operator checks membership?",options:["in","contains","has","member"],answer:"in"},{question:"What does `not True` return?",options:["True","False","None","Error"],answer:"False"},{question:"What is the difference between `==` and `is`?",options:["No difference","== compares values, is compares identity","is compares values, == compares identity","Both are same"],answer:"== compares values, is compares identity"}]},py_05_oop_exceptions:{order:5,difficulty:"advanced",title:"Python: OOP & Exceptions",theory:`# Python OOP & Exceptions

## Classes & Inheritance
\`\`\`python
class Animal:
    def __init__(self, name):
        self.name = name
    def speak(self):
        return f"{self.name} makes a sound"

class Dog(Animal):
    def speak(self):
        return f"{self.name} barks"

buddy = Dog('Buddy')
print(buddy.speak())
\`\`\`

## Exceptions
\`\`\`python
try:
    x = 1/0
except ZeroDivisionError as e:
    print('Error:', e)
finally:
    print('Cleanup')
\`\`\``,xp:60,quiz:[{question:"What method initializes a Python object?",options:["__create__","__init__","constructor","__new__"],answer:"__init__"},{question:"Which is true about inheritance?",options:["Child cannot override","Child class extends parent","Parent depends on child","Not allowed"],answer:"Child class extends parent"},{question:"How do you raise an exception?",options:["throw Error()","raise Exception()","except Exception","error()"],answer:"raise Exception()"},{question:"Which block handles exceptions?",options:["catch","except","handle","final"],answer:"except"}]},py_06_modules_packages:{order:6,difficulty:"advanced",title:"Python: Modules, Packages & Decorators",theory:`# Python Modules, Packages & Decorators

## Modules:
\`\`\`python
# math_utils.py
def add(a, b):
    return a + b

# main.py
import math_utils
result = math_utils.add(5, 3)
\`\`\`

## Packages:
\`\`\`python
# mypackage/__init__.py
# mypackage/utils.py

from mypackage import utils
\`\`\`

## Decorators:
\`\`\`python
def my_decorator(func):
    def wrapper():
        print("Before function")
        func()
        print("After function")
    return wrapper

@my_decorator
def say_hello():
    print("Hello!")
\`\`\`

## List Comprehensions (Advanced):
\`\`\`python
squares = [x**2 for x in range(10) if x % 2 == 0]
\`\`\`

## Generators:
\`\`\`python
def count_up_to(n):
    count = 1
    while count <= n:
        yield count
        count += 1
\`\`\``,xp:60,quiz:[{question:"How do you import a module?",options:["import module","require module","include module","load module"],answer:"import module"},{question:"What is a decorator?",options:["A function that modifies another function","A class","A variable","A loop"],answer:"A function that modifies another function"},{question:"What does `yield` do?",options:["Returns a value","Creates a generator","Stops execution","Both A and B"],answer:"Both A and B"},{question:"What is a package in Python?",options:["A single file","A directory with __init__.py","A variable","A function"],answer:"A directory with __init__.py"}]}},java:{java_00_intro:{order:0,difficulty:"easy",title:"Java: Introduction & Background",theory:`# Introduction to Java

## When and why was Java created?
Java was created at Sun Microsystems in 1995 (James Gosling) with the motto "Write once, run anywhere".

## Language level
Java is a **high-level**, **compiled**, **statically typed** language running on the **JVM**.

## Typical use cases
- Enterprise backends
- Android apps
- Big data ecosystems

## Hello World
\`\`\`java
public class Main {
  public static void main(String[] args) {
    System.out.println("Hello, Java!");
  }
}
\`\`\`

## Tooling
- Build tools: Maven, Gradle
- Package manager: built into Maven/Gradle
`,xp:15,quiz:[{question:"Java runs on which virtual machine?",options:["CLR","JVM","V8","CPython"],answer:"JVM"},{question:"Java is primarily",options:["Dynamically typed","Statically typed","Untyped","Type inferred only"],answer:"Statically typed"},{question:"Which build tool is common in Java?",options:["npm","pip","Maven","cargo"],answer:"Maven"},{question:"Who is credited as the father of Java?",options:["James Gosling","Dennis Ritchie","Ken Thompson","Anders Hejlsberg"],answer:"James Gosling"}]},java_01_basics:{order:1,difficulty:"easy",title:"Java: Basics & Syntax",theory:`# Java Basics and Syntax

## Java Program Structure:
\`\`\`java
public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}
\`\`\`

## Key Concepts:
- **Class**: Blueprint for objects
- **Method**: Function inside a class
- **main()**: Entry point of Java programs
- **System.out.println()**: Print to console

## Variables:
\`\`\`java
int age = 25;           // Integer
double price = 19.99;   // Decimal number
String name = "Java";    // Text
boolean isActive = true; // True/false
char grade = 'A';       // Single character
\`\`\`

## Data Types:
- **Primitive**: int, double, boolean, char, byte, short, long, float
- **Reference**: String, Arrays, Objects

## Naming Conventions:
- **Classes**: PascalCase (MyClass)
- **Methods/Variables**: camelCase (myMethod)
- **Constants**: UPPER_SNAKE_CASE (MAX_SIZE)

## Comments:
\`\`\`java
// Single line comment
/* Multi-line comment */
/** Documentation comment */
\`\`\``,xp:20,quiz:[{question:"What is the entry point of a Java program?",options:["start()","main()","init()","begin()"],answer:"main()"},{question:"Which keyword is used to print to console in Java?",options:["print()","System.out.println()","console.log()","printf()"],answer:"System.out.println()"},{question:"What is the correct way to declare an integer variable?",options:["int x = 5;","integer x = 5;","var x = 5;",'int x = "5";'],answer:"int x = 5;"},{question:"Which naming convention is used for Java classes?",options:["camelCase","snake_case","PascalCase","kebab-case"],answer:"PascalCase"}]},java_01b_operators:{order:1.5,difficulty:"easy",title:"Java: Operators & Expressions",theory:`# Java Operators & Expressions

## Arithmetic Operators:
\`\`\`java
int a = 10, b = 3;
a + b  // 13 (Addition)
a - b  // 7 (Subtraction)
a * b  // 30 (Multiplication)
a / b  // 3 (Integer division)
a % b  // 1 (Modulus)
\`\`\`

## Comparison Operators:
\`\`\`java
5 == 5   // true
5 != 3   // true
5 > 3    // true
5 < 3    // false
5 >= 5   // true
\`\`\`

## Logical Operators:
\`\`\`java
true && false  // false (AND)
true || false  // true (OR)
!true          // false (NOT)
\`\`\`

## Increment/Decrement:
\`\`\`java
int x = 5;
x++;  // x = 6 (Post-increment)
++x;  // x = 7 (Pre-increment)
x--;  // x = 6 (Post-decrement)
\`\`\`

## Ternary Operator:
\`\`\`java
int max = (a > b) ? a : b;
\`\`\``,xp:20,quiz:[{question:"What does `10 / 3` return in Java?",options:["3.33","3","4","Error"],answer:"3"},{question:"What is the difference between `++x` and `x++`?",options:["No difference","++x increments before use, x++ after","x++ increments before, ++x after","Both are same"],answer:"++x increments before use, x++ after"},{question:"What does `!true` return?",options:["true","false","1","0"],answer:"false"},{question:"What is the ternary operator syntax?",options:["condition ? value1 : value2","if condition then value1 else value2","condition : value1 ? value2","value1 ? value2 : condition"],answer:"condition ? value1 : value2"}]},java_02_oop:{order:2,difficulty:"intermediate",title:"Java: Object-Oriented Programming",timeLimit:180,theory:`# Java Object-Oriented Programming

## Classes and Objects:
\`\`\`java
public class Car {
    // Fields (attributes)
    private String brand;
    private int year;
    
    // Constructor
    public Car(String brand, int year) {
        this.brand = brand;
        this.year = year;
    }
    
    // Methods (behaviors)
    public void start() {
        System.out.println("Car is starting...");
    }
    
    public String getBrand() {
        return brand;
    }
}
\`\`\`

## Creating Objects:
\`\`\`java
Car myCar = new Car("Toyota", 2020);
myCar.start();
\`\`\`

## OOP Principles:
- **Encapsulation**: Data hiding with private fields
- **Inheritance**: Classes can extend other classes
- **Polymorphism**: Same interface, different implementations
- **Abstraction**: Hide complex implementation details

## Access Modifiers:
- **public**: Accessible from anywhere
- **private**: Only within the same class
- **protected**: Same package or subclasses
- **default**: Same package only

## This Keyword:
- Refers to the current object instance
- Used to distinguish between instance variables and parameters

## Constructor Chaining & super

- Use "this(...)" to call another constructor in the same class.
- Use "super(...)" to call a superclass constructor.

\`\`\`java
public class Player extends Person {
    public Player(String name) {
        super(name); // call Person(String)
    }
}
\`\`\`

## Key Design Tips

- Prefer composition over inheritance when possible.
- Use interfaces when behaviour varies per implementation.
- Create immutable classes for shared data objects.
`,xp:30,quiz:[{question:"What keyword is used to create a new object?",options:["new","create","make","instance"],answer:"new",explanations:{new:"The `new` keyword allocates memory and invokes the constructor, creating a fresh object instance.",create:"`create` is not a Java keyword; object construction must use `new` or factory methods.",make:"`make` does not exist in Java for instantiation; it is an informal verb, not syntax.",instance:"`instance` refers to an object conceptually, but it is not a keyword that creates one."}},{question:"Which access modifier makes a field accessible only within the same class?",options:["public","private","protected","default"],answer:"private",explanations:{public:"`public` exposes the member everywhere, which is the opposite of restricting it to the class.",private:"`private` hides the member so it can only be accessed inside the declaring class.",protected:"`protected` allows access from subclasses and same-package classes, not just the class itself.",default:"The default (package-private) modifier lets any class in the same package access it."}},{question:"What does the `this` keyword refer to?",options:["The class","The current object","The parent class","The method"],answer:"The current object",explanations:{"The class":"`this` is an instance reference, not a pointer to the class definition.","The current object":"`this` refers to the current object so you can access its fields and methods.","The parent class":"To reference the superclass you use `super`, while `this` stays on the current instance.","The method":"`this` is not a method reference; it is the object on which the current method is executing."}},{question:"What is the purpose of a constructor?",options:["To destroy objects","To initialize objects","To call methods","To create classes"],answer:"To initialize objects",explanations:{"To destroy objects":"Java relies on the garbage collector to destroy objects; constructors never destroy.","To initialize objects":"Constructors set up the initial state of new objects right after memory allocation.","To call methods":"Constructors can call methods, but their primary job is not generic method dispatch.","To create classes":"Classes are defined with the `class` keyword; constructors only run when instances are made."}},{question:"Which OOP principle hides internal data and exposes operations?",options:["Encapsulation","Inheritance","Abstraction","Polymorphism"],answer:"Encapsulation",explanations:{Encapsulation:"Encapsulation keeps data private and exposes controlled accessors or methods.",Inheritance:"Inheritance allows classes to reuse behaviour, not specifically hide data.",Abstraction:"Abstraction focuses on exposing only essentials, but encapsulation is about sealing data.",Polymorphism:"Polymorphism lets different types share an interface; it does not hide state."}},{question:"What does calling `super()` inside a subclass constructor achieve?",options:["Invokes another constructor in the same class","Invokes the superclass constructor","Creates a new object","Calls the destructor"],answer:"Invokes the superclass constructor",explanations:{"Invokes another constructor in the same class":"Use `this(...)` to chain constructors inside the same class.","Invokes the superclass constructor":"`super()` explicitly runs the parent constructor to set inherited state.","Creates a new object":"`super()` does not instantiate; it configures the current object via the parent constructor.","Calls the destructor":"Java has no destructor keyword; cleanup is managed by the garbage collector."}}]},java_03_inheritance:{order:3,difficulty:"intermediate",title:"Java: Inheritance & Polymorphism",timeLimit:180,theory:`# Java Inheritance and Polymorphism

## Inheritance:
\`\`\`java
// Parent class
public class Vehicle {
    protected String brand;
    
    public Vehicle(String brand) {
        this.brand = brand;
    }
    
    public void start() {
        System.out.println("Vehicle is starting...");
    }
}

// Child class
public class Car extends Vehicle {
    private int doors;
    
    public Car(String brand, int doors) {
        super(brand);  // Call parent constructor
        this.doors = doors;
    }
    
    @Override
    public void start() {
        System.out.println("Car is starting...");
    }
}
\`\`\`

## Key Concepts:
- **extends**: Keyword for inheritance
- **super()**: Call parent constructor
- **@Override**: Indicates method overriding
- **protected**: Accessible to subclasses

## Polymorphism:
\`\`\`java
Vehicle vehicle = new Car("Toyota", 4);
vehicle.start();  // Calls Car's start() method
\`\`\`

## Method Overriding:
- Child class provides specific implementation
- Must have same signature as parent method
- Use @Override annotation

## Abstract Classes:
\`\`\`java
public abstract class Shape {
    public abstract double getArea();
    
    public void display() {
        System.out.println("Area: " + getArea());
    }
}
\`\`\`

## Interfaces vs Abstract Classes

- Interface = behaviour contract (all methods abstract by default).
- Abstract class = shared state + partial implementation.

## Polymorphism in Practice

\`\`\`java
List<Vehicle> fleet = List.of(new Car("Tesla", 4), new Bike("Ducati"));
for (Vehicle v : fleet) {
    v.start(); // dynamic dispatch based on runtime type
}
\`\`\``,xp:40,quiz:[{question:"What keyword is used for inheritance in Java?",options:["inherits","extends","implements","super"],answer:"extends",explanations:{inherits:"`inherits` describes the concept but is not valid Java syntax.",extends:"`extends` declares that a class inherits from another class.",implements:"`implements` is used for interfaces, not class inheritance.",super:"`super` accesses superclass members; it does not declare inheritance."}},{question:"What does the `super()` keyword do?",options:["Calls parent constructor","Calls child constructor","Creates object","Destroys object"],answer:"Calls parent constructor",explanations:{"Calls parent constructor":"`super()` executes the superclass constructor before the subclass initializes its own fields.","Calls child constructor":"Child constructors run automatically; `super()` specifically targets the parent.","Creates object":"The object already exists when the constructor runs; `super()` does not allocate memory.","Destroys object":"Java has no explicit destructor keyword; memory cleanup is automatic."}},{question:"What annotation indicates method overriding?",options:["@Override","@Overload","@Extend","@Super"],answer:"@Override",explanations:{"@Override":"`@Override` tells the compiler you intend to replace a superclass method.","@Overload":"Method overloading is a different concept and has no required annotation.","@Extend":"`@Extend` is not a standard Java annotation.","@Super":"`@Super` does not exist in Java; use `@Override` to mark overrides."}},{question:"Which access modifier allows access to subclasses?",options:["public","private","protected","default"],answer:"protected",explanations:{public:"Public members are visible everywhere, not just to subclasses.",private:"`private` hides the member even from subclasses.",protected:"`protected` members are visible to subclasses (and package mates).",default:"Package-private visibility excludes subclasses in different packages."}},{question:"Interfaces provide...",options:["Implementation only","Multiple inheritance of type","Private constructors","State management"],answer:"Multiple inheritance of type",explanations:{"Implementation only":"Interfaces historically lacked implementation; default methods are optional, but the focus is type.","Multiple inheritance of type":"A class can implement many interfaces, gaining multiple type identities.","Private constructors":"Interfaces cannot declare constructors.","State management":"Interfaces cannot hold instance state; they may have constants but not mutable fields."}},{question:"Dynamic method dispatch happens...",options:["At compile time","At runtime","During linking","Never in Java"],answer:"At runtime",explanations:{"At compile time":"Compile time binding is for static methods; virtual calls resolve later.","At runtime":"The JVM chooses the proper overridden implementation while the program runs.","During linking":"Java linking loads classes but does not pick overridden methods per invocation.","Never in Java":"Java relies heavily on runtime dispatch to support polymorphism."}}]},java_04_collections:{order:4,difficulty:"advanced",title:"Java: Collections & Generics",timeLimit:240,theory:`# Java Collections and Generics

## Collections Framework:
Java provides data structures to store and manipulate groups of objects.

## List Interface:
\`\`\`java
import java.util.ArrayList;
import java.util.List;

List<String> fruits = new ArrayList<>();
fruits.add("apple");
fruits.add("banana");
fruits.add("orange");

// Access elements
String first = fruits.get(0);
int size = fruits.size();
\`\`\`

## Map Interface:
\`\`\`java
import java.util.HashMap;
import java.util.Map;

Map<String, Integer> ages = new HashMap<>();
ages.put("Alice", 25);
ages.put("Bob", 30);

int aliceAge = ages.get("Alice");
\`\`\`

## Set Interface:
\`\`\`java
import java.util.HashSet;
import java.util.Set;

Set<String> uniqueNames = new HashSet<>();
uniqueNames.add("Alice");
uniqueNames.add("Bob");
uniqueNames.add("Alice");  // Duplicate, won't be added
\`\`\`

## Generics:
- Provide type safety at compile time
- Eliminate need for casting
- Make code more readable

## Common Methods:
- **add()**: Add element
- **remove()**: Remove element
- **size()**: Get number of elements
- **contains()**: Check if element exists`,xp:50,quiz:[{question:"Which interface is used for ordered collections?",options:["Set","Map","List","Queue"],answer:"List",explanations:{Set:"Most `Set` implementations do not preserve insertion order.",Map:"`Map` stores key-value pairs and is not a simple ordered sequence.",List:"`List` guarantees positional access and preserves element order.",Queue:"Queues focus on head/tail processing; ordering is tied to removal strategy, not positional indexing."}},{question:"What is the purpose of generics in Java?",options:["Performance","Type safety","Memory management","Code organization"],answer:"Type safety",explanations:{Performance:"Generics do not change runtime performance; they are mostly erased at compile time.","Type safety":"Generics let the compiler enforce the types stored in a collection.","Memory management":"The garbage collector manages memory regardless of generics.","Code organization":"Generics aid readability but their core benefit is preventing type errors."}},{question:"Which collection automatically removes duplicates?",options:["List","Set","Map","Array"],answer:"Set",explanations:{List:"Lists can store duplicates because they are positional sequences.",Set:"`Set` semantics guarantee that duplicate elements are not stored.",Map:"Maps focus on unique keys but allow duplicate values; they are not purely collections.",Array:"Arrays accept duplicates because they simply store values by index."}},{question:"What does `List<String>` mean?",options:["List of strings","String list","Generic list","All of the above"],answer:"All of the above",explanations:{"List of strings":"`List<String>` reads as a list containing strings.","String list":"Informally you can call it a string list, describing the same type.","Generic list":"It is a generic list parameterised with `String`.","All of the above":"All phrasings describe the same generic type signature."}},{question:"Which implementation provides constant-time `get()`?",options:["LinkedList","ArrayList","HashSet","TreeSet"],answer:"ArrayList",explanations:{LinkedList:"`LinkedList` must traverse nodes, so index access is O(n).",ArrayList:"`ArrayList` stores elements contiguously, giving O(1) random access.",HashSet:"`HashSet` is not index-based; it has no `get(index)` method.",TreeSet:"`TreeSet` is a sorted set without positional access."}},{question:"What does `Map.computeIfAbsent(key, k -> new ArrayList<>())` do?",options:["Always removes key","Only updates existing values","Initializes value when missing","Throws exception if key absent"],answer:"Initializes value when missing",explanations:{"Always removes key":"`computeIfAbsent` never removes keys; it adds or reuses values.","Only updates existing values":"It only calls the lambda if the key is missing, not when it already exists.","Initializes value when missing":"If the key is absent, it creates and stores a new `ArrayList`.","Throws exception if key absent":"The whole point is to avoid exceptions by creating the missing entry."}}]},java_05_concurrency:{order:5,difficulty:"advanced",title:"Java: Concurrency & Streams",timeLimit:240,theory:`# Java Concurrency & Streams

## Threads
\`\`\`java
new Thread(() -> System.out.println("Hello from thread")).start();
\`\`\`

## Executors
\`\`\`java
ExecutorService pool = Executors.newFixedThreadPool(4);
pool.submit(() -> doWork());
\`\`\`

## Streams
Functional-style operations over collections.

\`\`\`java
List<Integer> nums = List.of(1,2,3);
int sum = nums.stream().map(n -> n * 2).reduce(0, Integer::sum);
\`\`\`

## Synchronization & Futures
- Use "synchronized" blocks to guard shared state.
- CompletableFuture simplifies async pipelines.
- Always shut down executors to free threads.
`,xp:60,quiz:[{question:"Which creates a thread?",options:["new Thread()","Thread()","make Thread","spawn"],answer:"new Thread()",explanations:{"new Thread()":"Invoking the `Thread` constructor with `new` creates a fresh thread (which you then start).","Thread()":"`Thread()` without `new` is not valid syntax; you must instantiate the class.","make Thread":"`make` is not a Java keyword; thread creation uses the `Thread` class constructor.",spawn:"`spawn` is not part of Javas threading API."}},{question:"What do Executors manage?",options:["Memory","Thread pools","Streams","I/O only"],answer:"Thread pools",explanations:{Memory:"Garbage collection manages memory, not the `Executor` framework.","Thread pools":"Executors abstract over thread pools, queuing and running submitted tasks.",Streams:"Streams process data pipelines; Executors schedule runnable tasks.","I/O only":"Executors can run any computation, not just I/O tasks."}},{question:"Streams are",options:["Parallel only","I/O only","Functional pipes over data","Threads"],answer:"Functional pipes over data",explanations:{"Parallel only":"Streams can be sequential or parallel; parallelism is optional.","I/O only":"Java streams process in-memory data, distinct from I/O streams.","Functional pipes over data":"The Stream API applies functional transformations over collections of data.",Threads:"Streams use internal iteration but they are not themselves threads."}},{question:"Which reduces a stream to one value?",options:["map","filter","reduce","collectFirst"],answer:"reduce",explanations:{map:"`map` transforms each element but keeps the same count.",filter:"`filter` removes elements but may leave many values.",reduce:"`reduce` combines elements to produce a single summary result.",collectFirst:"`collectFirst` is not part of the Java Stream API."}},{question:"What does `ExecutorService.shutdown()` do?",options:["Immediately kills threads","Prevents new tasks while finishing current ones","Restarts the pool","Blocks forever"],answer:"Prevents new tasks while finishing current ones",explanations:{"Immediately kills threads":"`shutdown()` lets current tasks finish; `shutdownNow()` interrupts running tasks.","Prevents new tasks while finishing current ones":"`shutdown()` stops new submissions and waits for active tasks to complete.","Restarts the pool":"There is no restart behaviour; shutdown transitions the pool toward termination.","Blocks forever":"The call returns immediately; you use `awaitTermination` to block."}},{question:"Which class represents async pipelines?",options:["Thread","Runnable","CompletableFuture","FutureTask"],answer:"CompletableFuture",explanations:{Thread:"`Thread` is a basic thread of execution, not a composition-friendly pipeline.",Runnable:"`Runnable` models a task with no return value; it lacks completion chaining.",CompletableFuture:"`CompletableFuture` models asynchronous computations with chaining and combination operations.",FutureTask:"`FutureTask` wraps a single computation but lacks the fluent API of `CompletableFuture`."}}]},java_06_lambdas_streams:{order:6,difficulty:"advanced",title:"Java: Lambdas, Streams & Functional Programming",timeLimit:240,theory:`# Java Lambdas & Functional Programming

## Lambda Expressions:
\`\`\`java
// Old way
Runnable r = new Runnable() {
    public void run() {
        System.out.println("Hello");
    }
};

// Lambda way
Runnable r = () -> System.out.println("Hello");
\`\`\`

## Stream API:
\`\`\`java
List<Integer> numbers = Arrays.asList(1, 2, 3, 4, 5);
numbers.stream()
    .filter(n -> n % 2 == 0)
    .map(n -> n * 2)
    .forEach(System.out::println);
\`\`\`

## Method References:
\`\`\`java
list.forEach(System.out::println);
list.sort(String::compareToIgnoreCase);
\`\`\`

## Optional:
\`\`\`java
Optional<String> name = Optional.of("Java");
name.ifPresent(System.out::println);
\`\`\`

## Functional Interfaces:
- Predicate, Function, Consumer, Supplier

## Parallel Streams & Collectors

\`\`\`java
long count = numbers.parallelStream()
                   .filter(n -> n % 2 == 0)
                   .count();

Map<Boolean, List<Integer>> grouped = numbers.stream()
    .collect(Collectors.partitioningBy(n -> n % 2 == 0));
\`\`\`
`,xp:60,quiz:[{question:"What is a lambda expression?",options:["A class","An anonymous function","A variable","A loop"],answer:"An anonymous function",explanations:{"A class":"Classes are named type declarations; lambdas are short-lived function literals.","An anonymous function":"Lambdas are anonymous functions that implement functional interfaces.","A variable":"Variables hold values; a lambda can be assigned to a variable but is not itself one.","A loop":"Loops are control structures, not functional expressions."}},{question:"What does `filter()` do in streams?",options:["Transforms elements","Selects elements matching condition","Sorts elements","Counts elements"],answer:"Selects elements matching condition",explanations:{"Transforms elements":"Use `map` to transform elements.","Selects elements matching condition":"`filter` keeps only elements for which the predicate returns true.","Sorts elements":"Sorting is handled by `sorted()`.","Counts elements":"Counting is done via `count()`."}},{question:"What is `System.out::println`?",options:["A lambda","A method reference","A class","A variable"],answer:"A method reference",explanations:{"A lambda":"It behaves similarly to a lambda but uses method reference syntax.","A method reference":"The `::` operator creates a method reference to reuse an existing method.","A class":"`System.out` is a PrintStream instance, not a class definition.","A variable":"This expression is not a standalone variable; it references a method."}},{question:"What is Optional used for?",options:["Handling null values safely","Creating arrays","Defining classes","Looping"],answer:"Handling null values safely",explanations:{"Handling null values safely":"`Optional` wraps a possibly absent value to avoid direct null checks.","Creating arrays":"Arrays are created with the `new` keyword or literals, not `Optional`.","Defining classes":"`class` keyword defines classes; Optional just wraps values.",Looping:"Iterating is unrelated to Optional; use loops or stream operations."}},{question:"Which functional interface consumes a value and returns nothing?",options:["Supplier","Predicate","Consumer","Function"],answer:"Consumer",explanations:{Supplier:"A Supplier provides values but accepts none.",Predicate:"Predicates take a value and return a boolean.",Consumer:"Consumers accept a value and perform an action without returning a result.",Function:"Functions transform inputs into outputs."}},{question:"Parallel streams should be used when",options:["Operations are CPU bound and thread-safe","Operations depend on order","Collections are tiny","We need deterministic ordering"],answer:"Operations are CPU bound and thread-safe",explanations:{"Operations are CPU bound and thread-safe":"Parallel streams shine when work can be divided safely across cores.","Operations depend on order":"Order-sensitive tasks can behave unexpectedly with parallel execution.","Collections are tiny":"Small collections introduce more overhead than benefit when parallelised.","We need deterministic ordering":"Parallel streams may reorder results unless you take extra steps."}}]}},cpp:{cpp_00_intro:{order:0,difficulty:"easy",title:"C++: Introduction & Background",theory:`# Introduction to C++

## When and why was C++ created?
C++ was created by Bjarne Stroustrup in 1985 as an extension of C with object-oriented features.

## Language level
C++ is a **mid-level** language (supports low-level memory manipulation with high-level abstractions).

## Typical use cases
- Systems programming, game engines, performance-critical apps

## Hello World
\`\`\`cpp
#include <iostream>
int main() {
  std::cout << "Hello, C++!" << std::endl;
  return 0;
}
\`\`\`

## Tooling
- Compilers: GCC/Clang/MSVC
- Build systems: CMake, Make
`,xp:15,quiz:[{question:"Who created C++?",options:["Bjarne Stroustrup","Dennis Ritchie","Ken Thompson","Guido van Rossum"],answer:"Bjarne Stroustrup"},{question:"C++ is typically considered",options:["Low-level only","High-level only","Mid-level","Scripting language"],answer:"Mid-level"},{question:"Which command prints in modern C++?",options:["printf","cout <<","System.out.println","print()"],answer:"cout <<"},{question:"Which build system is common for C++?",options:["CMake","Maven","npm","pip"],answer:"CMake"}]},cpp_01_basics:{order:1,difficulty:"easy",title:"C++: Basics & Syntax",theory:`# C++ Basics and Syntax

## Hello World Program:
\`\`\`cpp
#include <iostream>
using namespace std;

int main() {
    cout << "Hello, World!" << endl;
    return 0;
}
\`\`\`

## Key Components:
- **#include**: Include header files
- **using namespace std**: Use standard library
- **int main()**: Entry point of program
- **cout**: Console output
- **endl**: End line (newline)

## Variables and Data Types:
\`\`\`cpp
int age = 25;              // Integer
double price = 19.99;      // Decimal number
char grade = 'A';          // Single character
string name = "C++";       // Text string
bool isActive = true;      // Boolean
\`\`\`

## Input/Output:
\`\`\`cpp
int number;
cout << "Enter a number: ";
cin >> number;
cout << "You entered: " << number << endl;
\`\`\`

## Comments:
\`\`\`cpp
// Single line comment
/* Multi-line comment */
\`\`\`

## Namespace:
- Avoids naming conflicts
- \`using namespace std;\` allows direct use of cout, cin, etc.`,xp:20,quiz:[{question:"What is the entry point of a C++ program?",options:["start()","main()","init()","begin()"],answer:"main()"},{question:"Which operator is used for output in C++?",options:["<<",">>","<<<",">>>"],answer:"<<"},{question:"What does `#include <iostream>` do?",options:["Includes input/output library","Includes math library","Includes string library","Includes vector library"],answer:"Includes input/output library"},{question:"Which keyword is used for console input?",options:["input","cin","read","get"],answer:"cin"}]},cpp_01b_operators:{order:1.5,difficulty:"easy",title:"C++: Operators & Expressions",theory:`# C++ Operators & Expressions

## Arithmetic Operators:
\`\`\`cpp
int a = 10, b = 3;
a + b  // 13 (Addition)
a - b  // 7 (Subtraction)
a * b  // 30 (Multiplication)
a / b  // 3 (Integer division)
a % b  // 1 (Modulus)
\`\`\`

## Comparison Operators:
\`\`\`cpp
5 == 5   // true
5 != 3   // true
5 > 3    // true
5 < 3    // false
5 >= 5   // true
\`\`\`

## Logical Operators:
\`\`\`cpp
true && false  // false (AND)
true || false  // true (OR)
!true          // false (NOT)
\`\`\`

## Increment/Decrement:
\`\`\`cpp
int x = 5;
x++;  // x = 6 (Post-increment)
++x;  // x = 7 (Pre-increment)
\`\`\`

## Bitwise Operators:
\`\`\`cpp
a & b  // AND
a | b  // OR
a ^ b  // XOR
~a     // NOT
\`\`\``,xp:20,quiz:[{question:"What does `10 / 3` return in C++ (int division)?",options:["3.33","3","4","Error"],answer:"3"},{question:"What is the difference between `++x` and `x++`?",options:["No difference","++x increments before use","x++ increments before use","Both are same"],answer:"++x increments before use"},{question:"What does `!true` return?",options:["true","false","1","0"],answer:"false"},{question:"Which operator performs bitwise AND?",options:["&&","&","and","AND"],answer:"&"}]},cpp_02_functions:{order:2,difficulty:"intermediate",title:"C++: Functions & Scope",theory:`# C++ Functions and Scope

## Function Declaration:
\`\`\`cpp
#include <iostream>
using namespace std;

// Function declaration
int add(int a, int b);

int main() {
    int result = add(5, 3);
    cout << "Sum: " << result << endl;
    return 0;
}

// Function definition
int add(int a, int b) {
    return a + b;
}
\`\`\`

## Function Types:
- **void**: No return value
- **int, double, string**: Return specific type
- **Parameters**: Input values to function

## Function Overloading:
\`\`\`cpp
int add(int a, int b) {
    return a + b;
}

double add(double a, double b) {
    return a + b;
}
\`\`\`

## Scope:
- **Local**: Variables inside function
- **Global**: Variables outside all functions
- **Block**: Variables inside blocks {}

## Pass by Value vs Reference:
\`\`\`cpp
// Pass by value (creates copy)
void modify(int x) {
    x = 10;  // Original variable unchanged
}

// Pass by reference (modifies original)
void modify(int &x) {
    x = 10;  // Original variable changed
}
\`\`\``,xp:30,quiz:[{question:"What keyword indicates no return value?",options:["null","void","empty","none"],answer:"void"},{question:"What is function overloading?",options:["Same function name, different parameters","Different function names","Functions with same parameters","Functions that return void"],answer:"Same function name, different parameters"},{question:"What does the & symbol mean in function parameters?",options:["Pass by value","Pass by reference","Pass by pointer","Pass by array"],answer:"Pass by reference"},{question:"Where are global variables declared?",options:["Inside functions","Outside all functions","Inside classes","Inside namespaces"],answer:"Outside all functions"}]},cpp_03_oop:{order:3,difficulty:"intermediate",title:"C++: Object-Oriented Programming",theory:`# C++ Object-Oriented Programming

## Classes and Objects:
\`\`\`cpp
class Car {
private:
    string brand;
    int year;
    
public:
    // Constructor
    Car(string b, int y) {
        brand = b;
        year = y;
    }
    
    // Methods
    void start() {
        cout << "Car is starting..." << endl;
    }
    
    string getBrand() {
        return brand;
    }
};
\`\`\`

## Access Specifiers:
- **private**: Only accessible within class
- **public**: Accessible from anywhere
- **protected**: Accessible to derived classes

## Creating Objects:
\`\`\`cpp
Car myCar("Toyota", 2020);
myCar.start();
string brand = myCar.getBrand();
\`\`\`

## Constructor:
- Special method called when object is created
- Same name as class
- No return type

## Destructor:
\`\`\`cpp
~Car() {
    cout << "Car destroyed" << endl;
}
\`\`\`

## This Pointer:
- Points to current object
- Used to access object members`,xp:40,quiz:[{question:"What keyword is used to create a new object?",options:["new","create","make","instantiate"],answer:"new"},{question:"Which access specifier makes members accessible from anywhere?",options:["private","public","protected","internal"],answer:"public"},{question:"What is a constructor?",options:["Method that destroys objects","Method that initializes objects","Method that calls other methods","Method that returns values"],answer:"Method that initializes objects"},{question:"What does the ~ symbol indicate?",options:["Constructor","Destructor","Method","Variable"],answer:"Destructor"}]},cpp_04_pointers:{order:4,difficulty:"advanced",title:"C++: Pointers & Memory Management",theory:`# C++ Pointers and Memory Management

## Pointers:
Pointers store memory addresses of variables.

\`\`\`cpp
int x = 10;
int *ptr = &x;  // ptr points to x

cout << "Value: " << *ptr << endl;    // 10
cout << "Address: " << ptr << endl;    // Memory address
\`\`\`

## Pointer Operations:
- **&**: Address-of operator
- *****: Dereference operator
- **new**: Allocate memory
- **delete**: Free memory

\`\`\`cpp
int *ptr = new int(42);  // Allocate memory
cout << *ptr << endl;    // 42
delete ptr;              // Free memory
\`\`\`

## Dynamic Memory:
\`\`\`cpp
// Allocate array
int *arr = new int[5];
for(int i = 0; i < 5; i++) {
    arr[i] = i * 2;
}
delete[] arr;  // Free array memory
\`\`\`

## Reference vs Pointer:
\`\`\`cpp
int x = 10;
int &ref = x;    // Reference (alias)
int *ptr = &x;   // Pointer (address)

ref = 20;        // Changes x
*ptr = 30;       // Changes x
\`\`\`

## Common Pitfalls:
- **Memory leaks**: Forgetting to delete
- **Dangling pointers**: Using freed memory
- **Null pointers**: Dereferencing null`,xp:50,quiz:[{question:"What does the & operator do?",options:["Dereference","Get address","Multiply","Compare"],answer:"Get address"},{question:"What does the * operator do when used with pointers?",options:["Get address","Dereference","Multiply","Allocate memory"],answer:"Dereference"},{question:"Which keyword allocates memory?",options:["malloc","new","alloc","create"],answer:"new"},{question:"What is a memory leak?",options:["Memory that is freed","Memory that is not freed","Memory that is allocated","Memory that is used"],answer:"Memory that is not freed"}]},cpp_05_templates:{order:5,difficulty:"advanced",title:"C++: Templates & STL",theory:`# Templates & STL

## Function Templates
\`\`\`cpp
template <typename T>
T add(T a, T b) { return a + b; }
\`\`\`

## Class Templates
\`\`\`cpp
template <typename T>
class Box { T value; };
\`\`\`

## STL Containers
- vector, list, map, unordered_map

## Algorithms
- sort, find, accumulate

## Iterators
- Input, Output, Forward, Bidirectional, RandomAccess`,xp:60,quiz:[{question:"Templates enable",options:["Runtime polymorphism","Generic programming","Macros only","Reflection"],answer:"Generic programming"},{question:"Which is an STL container?",options:["vector","arraylist","dict","queue<T> only"],answer:"vector"},{question:"Which header has algorithms like sort?",options:["<algo>","<algorithm>","<sort>","<stl>"],answer:"<algorithm>"},{question:"Iterators provide",options:["Memory management","Container traversal","Threading","I/O"],answer:"Container traversal"}]},cpp_06_smart_pointers:{order:6,difficulty:"advanced",title:"C++: Smart Pointers & Modern C++",theory:`# C++ Smart Pointers & Modern C++

## Smart Pointers (C++11+):
\`\`\`cpp
#include <memory>

// unique_ptr - exclusive ownership
std::unique_ptr<int> ptr = std::make_unique<int>(42);

// shared_ptr - shared ownership
std::shared_ptr<int> shared = std::make_shared<int>(42);

// weak_ptr - non-owning reference
std::weak_ptr<int> weak = shared;
\`\`\`

## Auto Keyword:
\`\`\`cpp
auto x = 10;        // int
auto name = "C++";  // const char*
\`\`\`

## Range-based For Loop:
\`\`\`cpp
std::vector<int> vec = {1, 2, 3};
for (auto& val : vec) {
    std::cout << val << std::endl;
}
\`\`\`

## Lambda Expressions:
\`\`\`cpp
auto add = [](int a, int b) { return a + b; };
int result = add(5, 3);
\`\`\`

## Move Semantics:
\`\`\`cpp
std::vector<int> vec1 = {1, 2, 3};
std::vector<int> vec2 = std::move(vec1);  // Move, not copy
\`\`\``,xp:60,quiz:[{question:"What is unique_ptr?",options:["Shared pointer","Exclusive ownership pointer","Raw pointer","Array"],answer:"Exclusive ownership pointer"},{question:"What does `auto` do?",options:["Nothing","Automatic type deduction","Creates variables","Deletes variables"],answer:"Automatic type deduction"},{question:"What is a lambda expression?",options:["A class","An anonymous function","A variable","A loop"],answer:"An anonymous function"},{question:"What does `std::move()` do?",options:["Copies data","Moves data (transfer ownership)","Deletes data","Nothing"],answer:"Moves data (transfer ownership)"}]}}};function Y5(t,e){try{if(console.log("getLevelData called with:",{lang:t,levelId:e}),console.log("Available languages:",Object.keys(pi)),t&&e&&pi[t]){if(console.log(`Levels available for ${t}:`,Object.keys(pi[t])),pi[t][e])return console.log("Level data found!",pi[t][e]),pi[t][e];console.warn(`Level ID "${e}" not found in ${t}`)}else console.warn(`Language "${t}" not found or levelId missing`)}catch(n){console.error("Error getting level data:",n)}return{title:"Level Not Found",theory:"Content coming soon.",xp:0,quiz:[]}}const Q5=t=>pi[t]?Object.entries(pi[t]).map(([e,n])=>({id:e,title:n.title,xp:n.xp,order:typeof n.order=="number"?n.order:999})).sort((e,n)=>e.order-n.order):[{id:"1",title:"Level 1: Basics",xp:50},{id:"2",title:"Level 2: Control Flow",xp:75}];function $5(){const{lang:t}=iS(),e=Vs(),{state:n,dispatch:s}=dc();console.log("Levels component - lang:",t,"state:",n);const a=n.prerequisiteTests?.[t],l=a?.completed||!1,c=a?.unlockedDifficulty||"easy";console.log("Prerequisite check - hasCompleted:",l,"result:",a);const d=new Set(n.levelsByLanguage[t]||[]),m=N.useMemo(()=>Q5(t).map(A=>({...A,difficulty:pi[t]?.[A.id]?.difficulty||"intermediate",order:pi[t]?.[A.id]?.order||A.order||999})),[t]),g=N.useMemo(()=>m.filter(C=>C.difficulty==="easy"),[m]),y=N.useMemo(()=>m.filter(C=>C.difficulty==="intermediate"),[m]),_=N.useMemo(()=>g.filter(C=>d.has(C.id)),[g,d]),w=N.useMemo(()=>y.filter(C=>d.has(C.id)),[y,d]),R=g.length>0&&_.length===g.length,M=y.length>0&&w.length===y.length,U=N.useMemo(()=>{if(!l)return new Set;if(c==="advanced")return new Set(["easy","intermediate","advanced"]);if(c==="intermediate")return new Set(["easy","intermediate"]);const C=new Set(["easy"]);return(R||g.length===0)&&(C.add("intermediate"),(M||y.length===0)&&C.add("advanced")),C},[l,c,R,M,g.length,y.length]),k={easy:1,intermediate:2,advanced:3},B=N.useMemo(()=>m.slice().sort((C,A)=>{const I=k[C.difficulty]||999,V=k[A.difficulty]||999;return I!==V?I-V:(C.order||999)-(A.order||999)}),[m]),F=m.reduce((C,A)=>C+A.xp,0),Y=n.xpByLanguage[t]||0,le=Math.min(100,Math.round(Y/F*100)),oe=C=>{e(`/study/${t}/${C.id}`)},ae=(C,A)=>{s({type:"completePrerequisiteTest",lang:t,score:C,percentage:A})};return l?E.jsxs("div",{className:"container py-5",children:[E.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-5 flex-wrap gap-3",children:[E.jsxs("div",{className:"d-flex align-items-center gap-3 flex-wrap",children:[E.jsx(Oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("/languages"),className:"btn btn-outline-light",title:"Back to Languages",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},style:{whiteSpace:"nowrap"},children:" Back to Languages"}),E.jsxs(Oe.h1,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},className:"neon-text display-4 fw-bold text-capitalize mb-0",style:{fontSize:"clamp(1.5rem, 4vw, 2.5rem)"},children:[t," Levels"]})]}),E.jsxs("div",{className:"d-flex align-items-center gap-3 ms-auto flex-wrap",children:[E.jsx(Oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("/leaderboard"),className:"btn btn-outline-info",title:"View Leaderboard",initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{delay:.15},style:{whiteSpace:"nowrap"},children:" Leaderboard"}),E.jsx(Ju,{})]})]}),E.jsxs("div",{className:"mb-5 p-4 card-glow",style:{backgroundColor:"#151a2d",borderRadius:"10px"},children:[E.jsx("h3",{className:"h5 text-light mb-2",children:"Your Progress"}),E.jsx("div",{className:"progress mb-2",style:{height:"15px",backgroundColor:"#333"},children:E.jsxs("div",{className:"progress-bar bg-info",role:"progressbar",style:{width:`${le}%`},"aria-valuenow":le,"aria-valuemin":"0","aria-valuemax":"100",children:[le,"%"]})}),E.jsxs("p",{className:"text-muted",children:["Total XP: ",Y," / ",F]})]}),l&&E.jsx("div",{className:"mb-4 p-4 card-glow",style:{backgroundColor:"#1a3a1a",borderRadius:"10px"},children:E.jsxs("div",{children:[E.jsxs("h5",{className:"text-light mb-2",children:["Prerequisite Test: ",a.score,"/20 (",a.percentage.toFixed(1),"%)"]}),c==="advanced"?E.jsxs("p",{className:"text-success mb-0",children:[" Excellent work! You can access ",E.jsx("strong",{children:"all levels"})," (Easy, Intermediate, Advanced)."]}):c==="intermediate"?E.jsxs("p",{className:"text-success mb-0",children:[" You can access ",E.jsx("strong",{children:"Easy"})," and ",E.jsx("strong",{children:"Intermediate"})," levels. Score 16+ on the prerequisite test to unlock Advanced instantly."]}):E.jsxs("p",{className:"text-warning mb-0",children:[" You can access ",E.jsx("strong",{children:"Easy"})," levels. Finish every Easy level to unlock Intermediate. After Intermediate is complete, Advanced will unlock automatically, or score 16+ on the prerequisite test to skip ahead."]}),g.length>0&&E.jsxs("p",{className:"text-muted small mt-2 mb-1",children:["Easy Levels Completed: ",_.length,"/",g.length]}),y.length>0&&E.jsxs("p",{className:"text-muted small mb-0",children:["Intermediate Levels Completed: ",w.length,"/",y.length]})]})}),E.jsx("div",{className:"levels-list",children:E.jsx("div",{className:"row g-4",children:B.map((C,A)=>{const I=d.has(C.id),V=!U.has(C.difficulty);let P="";V&&(C.difficulty==="intermediate"?c==="easy"?P="Complete all Easy levels to unlock Intermediate.":P="Score 14+ on the prerequisite test to unlock Intermediate.":C.difficulty==="advanced"&&(c==="intermediate"?P="Score 16+ on the prerequisite test to unlock Advanced.":c==="easy"?R?!M&&y.length>0?P="Complete all Intermediate levels to unlock Advanced.":P="Score 16+ on the prerequisite test to unlock Advanced.":P="Complete all Easy levels to unlock Advanced.":P="Score 16+ on the prerequisite test to unlock Advanced."));const z=V?" Locked":I?"REVIEW LEVEL":"START LEVEL",D=V?"btn-secondary":I?"btn-completed":"btn-neon";return E.jsx("div",{className:"col-12 col-md-6",children:E.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.05,duration:.4},className:`level-card card-glow p-4 ${V?"opacity-50":""}`,children:[E.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"h4 fw-bold mb-1",children:C.title}),E.jsx("p",{className:"text-muted mb-0",children:E.jsxs("strong",{children:["Reward: Up to ",C.xp," XP"]})}),V&&E.jsxs("span",{className:"badge bg-warning text-dark mt-2",children:[" ",P]})]}),I&&E.jsx("span",{className:"badge bg-success text-dark px-3 py-2",children:"COMPLETED"})]}),E.jsx("div",{className:"text-end",children:E.jsx("button",{disabled:V,onClick:()=>oe(C),className:`btn ${D} px-4 py-2`,children:z})})]})},C.id)})})})]}):E.jsx(W5,{lang:t,levelData:pi,onComplete:ae,onExit:()=>e("/languages")})}function pu({children:t}){const{currentUser:e,loading:n}=mc();return n?E.jsx("div",{className:"gradient-bg d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:E.jsxs("div",{className:"card-glow p-4 text-center",style:{backgroundColor:"#151a2d",borderRadius:"10px"},children:[E.jsx("h2",{className:"neon-text mb-2",children:"Loading..."}),E.jsx("p",{className:"text-muted mb-0",children:"Preparing your learning session"})]})}):e?t:E.jsx(GI,{to:"/login",replace:!0})}const X5="/vite.svg";function mC({size:t=64}){return E.jsx("img",{src:X5,alt:"CodeHub",width:t,height:t,style:{filter:"drop-shadow(0 0 8px rgba(0, 234, 255, 0.6))"}})}function Gw(){const t=Vs(),{currentUser:e,loading:n}=mc();N.useEffect(()=>{!n&&e&&t("/home",{replace:!0})},[e,n,t]);const s=()=>{t("/login")};return n?null:E.jsx("div",{className:"gradient-bg min-vh-100 d-flex align-items-center justify-content-center",children:E.jsxs(Oe.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:1.5,type:"spring",damping:10},className:"text-center",children:[E.jsx(mC,{size:150}),E.jsx(Oe.button,{onClick:s,className:"btn btn-neon btn-lg mt-5",whileHover:{scale:1.05},whileTap:{scale:.95},children:"START CODING NOW "})]})})}function pC({children:t,title:e,subtitle:n}){return E.jsx("div",{className:"container-fluid min-vh-100 d-flex align-items-center justify-content-center gradient-bg",children:E.jsxs(Oe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},className:"card-glow p-4 p-md-5 mx-3",style:{width:"100%",maxWidth:"450px"},children:[E.jsxs("div",{className:"text-center mb-5",children:[E.jsx(mC,{size:80}),E.jsx("h2",{className:"neon-text text-white mt-4",style:{fontSize:"1.2rem",marginBottom:"10px"},children:e}),n&&E.jsx("p",{className:"lead text-light-50 mb-0",style:{fontSize:"0.9rem"},children:n})]}),t]})})}const J5="/images/google_logo.png";function Z5(){const[t,e]=N.useState(""),[n,s]=N.useState(""),[a,l]=N.useState(!1),[c,d]=N.useState(null),m=Vs(),{currentUser:g,loading:y}=mc();N.useEffect(()=>{!y&&g&&m("/home",{replace:!0})},[g,y,m]);const _=async R=>{R.preventDefault(),d(null),l(!0);try{await nL(t,n)}catch(M){d(M.message||"Login failed. Check your credentials.")}finally{l(!1)}},w=async()=>{d(null),l(!0);try{await iL()}catch(R){d(R.message||"Google Sign-In failed.")}finally{l(!1)}};return y?null:E.jsxs(pC,{title:"Sign In",subtitle:"Welcome back to the hub.",children:[c&&E.jsx("div",{className:"alert alert-danger mb-4 py-2",style:{backgroundColor:"#ff333330",borderColor:"#ff3333"},children:c}),E.jsxs("form",{onSubmit:_,className:"mb-4",children:[E.jsx("div",{className:"mb-3",children:E.jsx("input",{type:"email",value:t,onChange:R=>e(R.target.value),className:"form-control form-control-custom py-2",placeholder:"Email",required:!0})}),E.jsx("div",{className:"mb-4",children:E.jsx("input",{type:"password",value:n,onChange:R=>s(R.target.value),className:"form-control form-control-custom py-2",placeholder:"Password",required:!0})}),E.jsx("button",{type:"submit",className:"btn btn-neon w-100 mb-3",disabled:a,children:a?E.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}):" LOGIN"})]}),E.jsxs("div",{className:"text-center mb-3",children:[E.jsx("span",{className:"text-light-50",children:"Don't have an account? "}),E.jsx($f,{to:"/register",className:"text-decoration-none",style:{color:"var(--color-accent-cyan)"},children:"SIGN UP"})]}),E.jsxs("div",{className:"d-flex align-items-center my-3",children:[E.jsx("hr",{className:"flex-grow-1 border-light-50"}),E.jsx("span",{className:"text-light-50 mx-3",style:{fontSize:"0.8rem"},children:"OR"}),E.jsx("hr",{className:"flex-grow-1 border-light-50"})]}),E.jsxs("button",{onClick:w,className:"btn btn-google-custom w-100 d-flex align-items-center justify-content-center py-2",disabled:a,children:[E.jsx("img",{src:J5,alt:"Google",height:"20",className:"me-2"}),"CONTINUE WITH GOOGLE"]})]})}const e6=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{6,}$/;function t6(){const[t,e]=N.useState(""),[n,s]=N.useState(""),[a,l]=N.useState(""),[c,d]=N.useState(""),[m,g]=N.useState(!1),[y,_]=N.useState(null),w=Vs(),R=async M=>{if(M.preventDefault(),_(null),a!==c){_("Passwords do not match.");return}if(!e6.test(a)){_("Password must be min 6 chars, 1 upper, 1 lower, 1 digit, 1 special.");return}g(!0);try{await tL(n,a,t),alert("Registration successful! Please check your email to verify your account before logging in."),w("/login")}catch(U){let k=U.message||"Registration failed.";U.code==="auth/email-already-in-use"&&(k="This email is already registered. Try logging in."),_(k)}finally{g(!1)}};return E.jsxs(pC,{title:"Register New Account",subtitle:"Join the CodeHub community to level up your skills.",children:[y&&E.jsx("div",{className:"alert alert-danger mb-4 py-2",style:{backgroundColor:"#ff333330",borderColor:"#ff3333"},children:y}),E.jsxs("form",{onSubmit:R,children:[E.jsx("div",{className:"mb-3",children:E.jsx("input",{type:"text",value:t,onChange:M=>e(M.target.value),className:"form-control form-control-custom py-2",placeholder:"Username",required:!0})}),E.jsx("div",{className:"mb-3",children:E.jsx("input",{type:"email",value:n,onChange:M=>s(M.target.value),className:"form-control form-control-custom py-2",placeholder:"Email",required:!0})}),E.jsx("div",{className:"mb-3",children:E.jsx("input",{type:"password",value:a,onChange:M=>l(M.target.value),className:"form-control form-control-custom py-2",placeholder:"Password",required:!0})}),E.jsxs("div",{className:"mb-4",children:[E.jsx("input",{type:"password",value:c,onChange:M=>d(M.target.value),className:"form-control form-control-custom py-2",placeholder:"Confirm Password",required:!0}),E.jsx("small",{className:"form-text text-light-50",children:"Min 6 chars, 1 upper, 1 lower, 1 digit, 1 special"})]}),E.jsx("button",{type:"submit",className:"btn btn-neon w-100",disabled:m,children:m?E.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}):" REGISTER NOW"})]}),E.jsxs("div",{className:"text-center mt-4",children:[E.jsx("span",{className:"text-light-50",children:"Already have an account? "}),E.jsx($f,{to:"/login",className:"text-decoration-none",style:{color:"var(--color-accent-cyan)"},children:"SIGN IN"})]})]})}function n6({title:t,content:e,onNext:n,nextButtonText:s="Next",readSeconds:a}){const l=t||"Level Content",c=e||"No content available.",d=s||"Next",m=n||(()=>console.warn("onNext callback not provided")),[g,y]=N.useState(()=>{try{if(typeof a=="number"&&a>0)return a}catch(M){console.error("Error initializing timer:",M)}return 0}),_=N.useMemo(()=>{try{return typeof a=="number"&&a>0}catch(M){return console.error("Error checking timer:",M),!1}},[a]);N.useEffect(()=>{try{if(!_||g<=0)return;const M=setInterval(()=>{y(U=>{try{return U>0?U-1:0}catch(k){return console.error("Error updating timer:",k),0}})},1e3);return()=>clearInterval(M)}catch(M){console.error("Error setting up timer interval:",M)}},[_,g]),N.useEffect(()=>{try{_&&typeof a=="number"&&a>0&&y(a)}catch(M){console.error("Error resetting timer:",M)}},[_,a]);const w=Math.floor(Math.max(0,g)/60),R=Math.max(0,g)%60;return E.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"card-glow p-4 mx-auto",style:{maxWidth:"800px",backgroundColor:"#151a2d",borderRadius:"10px"},children:[E.jsx("h2",{className:"neon-text mb-4 text-center",children:l}),_&&E.jsx(Oe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2},className:"text-center mb-4",children:E.jsxs("div",{className:"mx-auto",style:{background:"linear-gradient(135deg, #ffc107 0%, #ff9800 100%)",borderRadius:"15px",padding:"20px 30px",border:"3px solid #ffb300",boxShadow:"0 8px 25px rgba(255, 193, 7, 0.4)",maxWidth:"300px"},children:[E.jsx("div",{className:"text-dark",style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"8px"},children:" Reading Timer"}),E.jsxs("div",{className:"text-dark",style:{fontSize:"3rem",fontWeight:"bold",fontFamily:"monospace",lineHeight:"1"},children:[w,":",String(R).padStart(2,"0")]}),E.jsx("div",{className:"text-dark mt-2",style:{fontSize:"0.9rem",opacity:.8},children:g>0?"Please read the theory before proceeding":"Ready to start quiz!"})]})}),E.jsx("div",{className:"theory-content mb-4",children:E.jsx("div",{className:"text-light",style:{lineHeight:"1.6",fontSize:"1.1rem",whiteSpace:"pre-line"},children:c})}),E.jsx("div",{className:"text-center",children:E.jsx("button",{onClick:m,className:"btn btn-neon px-5 py-3",disabled:_&&g>0,style:{opacity:_&&g>0?.5:1,cursor:_&&g>0?"not-allowed":"pointer",fontSize:"1.1rem",minWidth:"200px"},children:_&&g>0?E.jsxs(E.Fragment,{children:[E.jsx("div",{children:" Timer Active"}),E.jsxs("small",{style:{display:"block",fontSize:"0.85rem",marginTop:"4px"},children:["Available in ",w,":",String(R).padStart(2,"0")]})]}):d})})]})}function i6({questions:t,onComplete:e,maxXP:n,timeLimit:s}){const[a,l]=N.useState(0),[c,d]=N.useState({}),[m,g]=N.useState(!1),[y,_]=N.useState(0),[w,R]=N.useState(()=>typeof s=="number"?s:null),[M,U]=N.useState(!1);if(!Array.isArray(t)||t.length===0)return E.jsxs("div",{className:"card-glow p-5 text-center mx-auto",style:{maxWidth:"600px",backgroundColor:"#151a2d",borderRadius:"10px"},children:[E.jsx("h3",{className:"text-warning mb-3",children:"Quiz Error"}),E.jsx("p",{className:"text-light mb-4",children:"No quiz questions are available."})]});const k=(ae,C)=>{d(A=>({...A,[ae]:C}))};N.useEffect(()=>{typeof s=="number"&&s>0?(R(s),U(!1)):(R(null),U(!1))},[s,t.length]);const B=N.useCallback(()=>{let ae=0;t.forEach((C,A)=>{c[A]===C.answer&&ae++}),_(ae),g(!0),R(null)},[t,c]),F=()=>{a<t.length-1?l(a+1):B()},Y=()=>{e(y)};if(N.useEffect(()=>{if(!s||m||w===null||w<=0)return;const ae=setInterval(()=>{R(C=>C===null?C:C<=1?0:C-1)},1e3);return()=>clearInterval(ae)},[s,w,m]),N.useEffect(()=>{!s||m||w===0&&(U(!0),B())},[s,w,m,B]),m)return E.jsxs(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"card-glow p-4 mx-auto text-center",style:{maxWidth:"600px",backgroundColor:"#151a2d",borderRadius:"10px"},children:[E.jsx("h3",{className:"neon-text mb-4",children:"Quiz Results"}),E.jsxs("div",{className:"mb-4",children:[E.jsxs("h4",{className:"text-light",children:["You scored ",y," out of ",t.length]}),E.jsxs("p",{className:"text-muted",children:["That's ",t.length>0?Math.round(y/t.length*100):0,"% correct!"]}),s&&E.jsxs("p",{className:"text-muted small",children:["Time limit: ",Math.floor(s/60),"m ",String(s%60).padStart(2,"0"),"s"]}),M&&E.jsx("p",{className:"text-warning",children:"Time expired. Your score reflects answers submitted before the timer ended."})]}),E.jsx(s6,{questions:t,selectedAnswers:c}),E.jsx("button",{onClick:Y,className:"btn btn-neon px-5 py-3",children:"Complete Quiz"})]});const le=t[a],oe=c[a]!==void 0;return le?E.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"card-glow p-4 mx-auto",style:{maxWidth:"700px",backgroundColor:"#151a2d",borderRadius:"10px"},children:[s&&w!==null&&E.jsx("div",{className:"d-flex justify-content-end mb-3",children:E.jsxs("span",{className:`badge ${w<=10?"bg-danger":"bg-info"} px-3 py-2`,children:["Time Left: ",Math.floor(w/60),":",String(w%60).padStart(2,"0")]})}),E.jsx("div",{className:"mb-3",children:E.jsxs("span",{className:"text-muted",children:["Question ",a+1," of ",t.length]})}),E.jsx("h3",{className:"neon-text mb-4",children:le.question}),E.jsx("div",{className:"options",children:le.options.map((ae,C)=>E.jsx(Oe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>k(a,ae),className:`btn w-100 mb-3 p-3 text-start ${c[a]===ae?"btn-neon":"btn-outline-light"}`,style:{backgroundColor:c[a]===ae?"#0d6efd":"transparent",border:"1px solid #6c757d"},children:ae},C))}),E.jsx("div",{className:"text-center mt-4",children:E.jsx("button",{onClick:F,disabled:!oe,className:"btn btn-neon px-5 py-3",style:{opacity:oe?1:.5},children:a<t.length-1?"Next Question":"Finish Quiz"})})]}):E.jsxs("div",{className:"card-glow p-5 text-center mx-auto",style:{maxWidth:"600px",backgroundColor:"#151a2d",borderRadius:"10px"},children:[E.jsx("h3",{className:"text-warning mb-3",children:"Quiz Error"}),E.jsx("p",{className:"text-light mb-4",children:"Unable to load current question."})]})}function s6({questions:t,selectedAnswers:e}){const n=N.useMemo(()=>t.map((s,a)=>{const l=e[a],c=s.answer,d=l===c;return{question:s,selected:l,correct:c,isCorrect:d,wrongExplanation:d?null:r6(s,l),correctExplanation:a6(s)}}),[t,e]);return E.jsxs("div",{className:"mb-4",children:[E.jsx("h5",{className:"text-light",children:"Review:"}),n.map(({question:s,selected:a,correct:l,isCorrect:c,wrongExplanation:d,correctExplanation:m},g)=>E.jsxs("div",{className:"mb-3 p-3",style:{backgroundColor:"#1a1f3a",borderRadius:"5px"},children:[E.jsx("p",{className:"text-light mb-2",children:s.question}),E.jsxs("p",{className:`mb-1 ${c?"text-success":"text-danger"}`,children:["Your answer: ",a??"Not answered"]}),E.jsxs("p",{className:"text-success mb-2",children:["Correct answer: ",l]}),!c&&E.jsxs("div",{className:"mb-2",children:[E.jsx("p",{className:"text-danger fw-semibold mb-1",children:"Why your answer is incorrect"}),E.jsx("p",{className:"text-muted mb-0",children:d})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-info fw-semibold mb-1",children:c?"Why this answer is correct":"Why the correct answer is right"}),E.jsx("p",{className:"text-muted mb-0",children:m})]})]},g))]})}function r6(t,e){if(!e)return"You did not select an answer, so the question was marked incorrect.";const n=gC(t);return n&&typeof n[e]=="string"?n[e]:`'${e}' does not fulfill the requirement described in the question. Revisit the theory content for this level to understand why it falls short.`}function a6(t){const e=gC(t);return e&&typeof e[t.answer]=="string"?e[t.answer]:typeof t.correctExplanation=="string"?t.correctExplanation:typeof t.explanation=="string"?t.explanation:`'${t.answer}' directly satisfies the concept highlighted in the theory section for this level.`}function gC(t){return t&&typeof t.explanations=="object"&&t.explanations!==null?t.explanations:null}class Kw extends Yw.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n),this.setState({error:e,errorInfo:n})}render(){return this.state.hasError?E.jsx("div",{className:"gradient-bg",style:{minHeight:"100vh",padding:"2rem 0"},children:E.jsx("div",{className:"container py-5",children:E.jsxs("div",{className:"card-glow p-5 mx-auto text-center",style:{maxWidth:"700px",backgroundColor:"#151a2d",borderRadius:"10px"},children:[E.jsx("h2",{className:"neon-text mb-4",children:" Something Went Wrong"}),E.jsx("p",{className:"text-light mb-4",children:"An error occurred while loading this component. Please try refreshing the page."}),this.state.error&&E.jsxs("div",{className:"text-start mb-4 p-3",style:{backgroundColor:"#1a1f3a",borderRadius:"8px",fontSize:"0.9rem"},children:[E.jsx("strong",{className:"text-danger",children:"Error:"}),E.jsx("pre",{className:"text-light mt-2 mb-2",style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:this.state.error.toString()}),this.state.errorInfo&&E.jsxs("details",{className:"text-muted",style:{fontSize:"0.85rem"},children:[E.jsx("summary",{style:{cursor:"pointer"},children:"Stack Trace"}),E.jsx("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",marginTop:"0.5rem"},children:this.state.errorInfo.componentStack})]})]}),E.jsxs("div",{className:"d-flex gap-3 justify-content-center flex-wrap",children:[E.jsx("button",{onClick:()=>window.location.reload(),className:"btn btn-neon px-4 py-3",children:" Refresh Page"}),E.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),className:"btn btn-outline-light px-4 py-3",children:" Go Back"})]})]})})}):this.props.children}}function o6(){const{lang:t,levelId:e}=iS(),n=Vs(),{dispatch:s,state:a}=dc(),[l,c]=N.useState("theory"),[d,m]=N.useState(0),[g,y]=N.useState(0);let _=null;try{_=Y5(t,e)}catch(U){console.error("Error getting level data:",U)}const w=a?.xpByLanguage?.[t]||0;if(N.useEffect(()=>{console.log("=== TheoryQuizPage Debug ==="),console.log("lang:",t),console.log("levelId:",e),console.log("levelData:",_),console.log("state:",a),console.log("step:",l)},[t,e,_,a,l]),!_||_.title==="Level Not Found")return E.jsx("div",{className:"gradient-bg",style:{minHeight:"100vh",padding:"2rem 0"},children:E.jsxs("div",{className:"container py-5",children:[E.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4 flex-wrap gap-3",children:[E.jsx("button",{onClick:()=>n(`/levels/${t||"javascript"}`),className:"btn btn-outline-light",style:{whiteSpace:"nowrap"},children:" Back to Levels"}),E.jsx("div",{className:"ms-auto",children:E.jsx(Ju,{})})]}),E.jsxs("div",{className:"text-center card-glow p-5 mx-auto",style:{maxWidth:"600px",backgroundColor:"#151a2d",borderRadius:"10px"},children:[E.jsx("h2",{className:"neon-text mb-4",children:"Level Not Found"}),E.jsxs("p",{className:"text-light mb-3",children:["The level ",E.jsxs("strong",{children:['"',e||"unknown",'"']})," for ",E.jsx("strong",{children:t||"unknown"})," could not be found."]}),E.jsxs("div",{className:"text-muted mb-4 small text-start",style:{backgroundColor:"#1a1f3a",padding:"1rem",borderRadius:"8px"},children:[E.jsx("strong",{children:"Debug Info:"}),E.jsx("br",{}),"Language: ",t||"undefined",E.jsx("br",{}),"Level ID: ",e||"undefined",E.jsx("br",{}),"Available languages: javascript, python, java, cpp"]}),E.jsx("button",{onClick:()=>n(`/levels/${t||"javascript"}`),className:"btn btn-neon px-4 py-3",children:" Back to Levels"})]})]})});N.useEffect(()=>{_&&_.xp&&Array.isArray(_.quiz)&&_.quiz.length>0&&y(_.xp)},[_]);const R=U=>{const k=Array.isArray(_.quiz)?_.quiz.length:0,B=k>0?U/k:0,F=Math.max(0,Math.round(B*(_.xp||0)));m(F),s({type:"completeLevel",lang:t,levelId:e,xp:F}),c("complete")},M=()=>{if(l==="theory"){const k=(typeof _.theory=="string"?_.theory:"").trim().split(/\s+/).filter(Boolean).length,B=Math.ceil(k/180*60),F=Math.min(Math.max(B,30),240);return E.jsx(Kw,{children:E.jsx(n6,{title:_.title||"Level Content",content:_.theory||"No theory content available.",onNext:()=>c("quiz"),nextButtonText:"Start Quiz",readSeconds:F})})}return l==="quiz"?!Array.isArray(_.quiz)||_.quiz.length===0?E.jsxs("div",{className:"card-glow p-5 text-center mx-auto",style:{maxWidth:"600px",backgroundColor:"#151a2d",borderRadius:"10px"},children:[E.jsx("h3",{className:"text-warning mb-3",children:"Quiz Not Available"}),E.jsx("p",{className:"text-light mb-4",children:"No quiz questions are available for this level."}),E.jsx("button",{onClick:()=>n(`/levels/${t}`),className:"btn btn-neon px-4 py-3",children:" Back to Levels"})]}):E.jsx(i6,{questions:_.quiz,onComplete:R,maxXP:_.xp||0,timeLimit:_.timeLimit}):l==="complete"?E.jsxs(Oe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center p-5 card-glow mx-auto completion-animation",style:{maxWidth:"700px",backgroundColor:"#151a2d",borderRadius:"15px"},children:[E.jsx(Oe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"mb-4",children:E.jsx("h2",{className:"neon-text display-3 mb-3",children:" Level Complete! "})}),E.jsxs(Oe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.6,duration:.5},className:"xp-display mb-4 p-4",style:{background:"linear-gradient(135deg, #ffd700 0%, #ffed4e 100%)",borderRadius:"10px",border:"2px solid #ffc107"},children:[E.jsx("h3",{className:"text-dark mb-2",style:{fontSize:"1.5rem",fontWeight:"bold"},children:"XP Earned"}),E.jsxs(Oe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.8,type:"spring",stiffness:300},className:"xp-gain",style:{fontSize:"3rem",fontWeight:"bold",color:"#1a1a1a"},children:["+",d," XP"]}),E.jsxs("p",{className:"text-dark mb-0",style:{fontSize:"1.1rem"},children:["Great job completing ",E.jsx("strong",{children:_.title}),"!"]})]}),E.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mb-4",children:[E.jsxs("div",{className:"row",children:[E.jsx("div",{className:"col-md-6 mb-3",children:E.jsxs("div",{className:"p-3",style:{backgroundColor:"#1a1f3a",borderRadius:"8px"},children:[E.jsx("h6",{className:"text-light mb-1",children:"Quiz Performance"}),E.jsxs("p",{className:"text-success mb-0",style:{fontSize:"1.2rem",fontWeight:"bold"},children:[_.xp>0?Math.round(d/_.xp*100):0,"% correct"]})]})}),E.jsx("div",{className:"col-md-6 mb-3",children:E.jsxs("div",{className:"p-3",style:{backgroundColor:"#1a1f3a",borderRadius:"8px"},children:[E.jsxs("h6",{className:"text-light mb-1",children:["Total ",t.charAt(0).toUpperCase()+t.slice(1)," XP"]}),E.jsxs("p",{className:"text-info mb-0",style:{fontSize:"1.2rem",fontWeight:"bold"},children:[w+d," XP"]})]})})]}),E.jsxs("p",{className:"text-muted mb-0",children:["Maximum possible XP for this level: ",_.xp," XP"]})]}),E.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},className:"d-flex gap-3 justify-content-center flex-wrap",children:[E.jsx("button",{onClick:()=>n(`/levels/${t}`),className:"btn btn-neon px-4 py-3",style:{fontSize:"1.1rem"},children:" Return to Levels"}),E.jsx("button",{onClick:()=>{c("theory"),m(0)},className:"btn btn-outline-light px-4 py-3",style:{fontSize:"1.1rem"},children:" Retake Level"})]})]}):null};return E.jsx("div",{className:"gradient-bg",style:{minHeight:"100vh",padding:"2rem 0"},children:E.jsxs("div",{className:"container py-5",children:[E.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4 flex-wrap gap-3",children:[E.jsxs(Oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(`/levels/${t}`),className:"btn btn-outline-light",title:"Back to Levels",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},style:{whiteSpace:"nowrap"},children:[" Back to ",t?.charAt(0).toUpperCase()+t?.slice(1)," Levels"]}),E.jsx("div",{className:"ms-auto",children:E.jsx(Ju,{})})]}),E.jsx(Kw,{children:M()||E.jsxs("div",{className:"card-glow p-5 text-center mx-auto",style:{maxWidth:"600px",backgroundColor:"#151a2d",borderRadius:"10px"},children:[E.jsx("h3",{className:"text-warning mb-3",children:"Loading Content..."}),E.jsx("p",{className:"text-light mb-3",children:"Please wait while we load the content."}),E.jsx("div",{className:"spinner-border text-primary",role:"status",children:E.jsx("span",{className:"visually-hidden",children:"Loading..."})})]})}),E.jsx("div",{className:"text-center mt-5",children:E.jsxs("p",{className:"text-muted",children:["Current Step: ",l==="theory"?"Theory Review":l==="quiz"?"Quiz Time":"Completed"]})})]})})}function l6(){const t=Vs(),{state:e}=dc(),{currentUser:n}=mc(),[s,a]=N.useState([]);N.useEffect(()=>{if(!(typeof window>"u"||typeof localStorage>"u"))try{const c=[];for(let d=0;d<localStorage.length;d+=1){const m=localStorage.key(d);if(!m||!m.startsWith("codehub_app_state_"))continue;const g=localStorage.getItem(m);if(g)try{const y=JSON.parse(g),_=y?.xpByLanguage||{},w=Object.values(_).reduce((k,B)=>k+(Number(B)||0),0);if(w<=0)continue;const R=y?.profile||{},M=R.name&&R.name.trim()||y?.authDisplayName||y?.authEmail?.split?.("@")?.[0]||"Anonymous Coder",U=m.replace("codehub_app_state_","");c.push({userId:U,displayName:M,totalXP:w,languages:Object.entries(_).map(([k,B])=>({lang:k,xp:Number(B)||0})).sort((k,B)=>B.xp-k.xp)})}catch(y){console.warn("Unable to parse leaderboard entry for key",m,y)}}c.sort((d,m)=>m.totalXP-d.totalXP),a(c)}catch(c){console.error("Failed to build leaderboard:",c),a([])}},[e,n?.uid]);const l=N.useMemo(()=>s.reduce((c,d)=>c+d.totalXP,0),[s]);return E.jsx("div",{className:"gradient-bg",style:{minHeight:"100vh",padding:"2rem 0"},children:E.jsxs("div",{className:"container py-5",children:[E.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-5 flex-wrap gap-3",children:[E.jsx(Oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/languages"),className:"btn btn-outline-light",title:"Back to Languages",initial:{x:-40,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},style:{whiteSpace:"nowrap"},children:" Back to Languages"}),E.jsx(Oe.h1,{className:"neon-text display-5 fw-bold mb-0",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:"Global Leaderboard"}),E.jsx("div",{className:"ms-auto",children:E.jsx(Ju,{})})]}),E.jsx(Oe.div,{className:"card-glow mb-5 p-4",style:{backgroundColor:"#151a2d",borderRadius:"16px"},initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:E.jsxs("div",{className:"d-flex flex-wrap justify-content-between align-items-center gap-3",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-light mb-1",children:"Hall of Fame"}),E.jsx("p",{className:"text-muted mb-0",children:"Track the top performers across every language. Earn more XP to climb the ranks!"})]}),E.jsxs("div",{className:"text-end",children:[E.jsxs("p",{className:"text-light mb-1 fw-semibold",children:["Total XP Recorded: ",E.jsx("span",{className:"text-info",children:l})]}),E.jsxs("p",{className:"text-muted mb-0 small",children:["Showing ",s.length," active ",s.length===1?"player":"players"]})]})]})}),s.length===0?E.jsxs(Oe.div,{className:"card-glow p-5 text-center mx-auto",style:{maxWidth:"640px",backgroundColor:"#151a2d",borderRadius:"14px"},initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:[E.jsx("h4",{className:"text-light mb-3",children:"No progress yet."}),E.jsx("p",{className:"text-muted mb-4",children:"Complete levels to start appearing on the leaderboard. Every XP point counts!"}),E.jsx("button",{onClick:()=>t("/languages"),className:"btn btn-neon px-4 py-3",children:"Start Learning"})]}):E.jsx("div",{className:"row g-4",children:s.map((c,d)=>{const m=n?.uid&&c.userId===n.uid||!n?.uid&&c.userId.endsWith("guest"),g=d+1,y=g===1?"":g===2?"":g===3?"":`${g}.`;return E.jsx("div",{className:"col-12",children:E.jsx(Oe.div,{className:"card-glow p-4 d-flex flex-column flex-lg-row gap-3 align-items-start align-items-lg-center",style:{background:m?"linear-gradient(135deg, rgba(76,201,240,0.18), rgba(92,107,255,0.22))":"#151a2d",borderRadius:"18px",border:m?"1px solid rgba(76, 201, 240, 0.55)":"1px solid rgba(255, 255, 255, 0.08)"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.05},children:E.jsxs("div",{className:"d-flex align-items-center justify-content-between w-100 gap-3 flex-wrap",children:[E.jsxs("div",{className:"d-flex align-items-center gap-3",children:[E.jsx("span",{className:"badge rounded-pill px-3 py-2 fs-5",style:{background:g===1?"linear-gradient(135deg, #facc15, #f97316)":g===2?"linear-gradient(135deg, #cbd5f5, #94a3b8)":g===3?"linear-gradient(135deg, #fbbf24, #f59e0b)":"rgba(255, 255, 255, 0.08)",color:g<=3?"#111":"#cbd5f5"},children:y}),E.jsxs("div",{children:[E.jsxs("h4",{className:"text-light mb-1",children:[c.displayName,m&&E.jsx("span",{className:"badge bg-info text-dark ms-2",children:"You"})]}),E.jsxs("p",{className:"text-muted mb-0 small",children:["Total XP: ",E.jsx("span",{className:"text-info fw-semibold",children:c.totalXP})]})]})]}),E.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[c.languages.map(({lang:_,xp:w})=>E.jsxs("span",{className:"badge px-3 py-2",style:{backgroundColor:"rgba(92, 107, 255, 0.18)",border:"1px solid rgba(92, 107, 255, 0.35)",color:"#c5d7ff",fontWeight:600},children:[_.toUpperCase(),": ",w," XP"]},_)),c.languages.length===0&&E.jsx("span",{className:"badge bg-secondary",children:"No XP recorded"})]})]})})},c.userId)})})]})})}function u6(){return E.jsx(uL,{children:E.jsx("div",{className:"min-vh-100 gradient-bg",children:E.jsxs(WI,{children:[E.jsx(Hi,{path:"/",element:E.jsx(Gw,{})}),E.jsx(Hi,{path:"/login",element:E.jsx(Z5,{})}),E.jsx(Hi,{path:"/register",element:E.jsx(t6,{})}),E.jsx(Hi,{path:"/home",element:E.jsx(pu,{children:E.jsx(Hw,{})})}),E.jsx(Hi,{path:"/languages",element:E.jsx(pu,{children:E.jsx(Hw,{})})}),E.jsx(Hi,{path:"/levels/:lang",element:E.jsx(pu,{children:E.jsx($5,{})})}),E.jsx(Hi,{path:"/leaderboard",element:E.jsx(pu,{children:E.jsx(l6,{})})}),E.jsx(Hi,{path:"/study/:lang/:levelId",element:E.jsx(pu,{children:E.jsx(o6,{})})}),E.jsx(Hi,{path:"*",element:E.jsx(Gw,{})})]})})})}nI.createRoot(document.getElementById("root")).render(E.jsx(Yw.StrictMode,{children:E.jsx(rL,{children:E.jsx(gN,{children:E.jsx(u6,{})})})}));
